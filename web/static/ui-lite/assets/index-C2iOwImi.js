var li=Object.defineProperty;var di=(t,r,a)=>r in t?li(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;var qe=(t,r,a)=>di(t,typeof r!="symbol"?r+"":r,a);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var ar,ge,$s,_t,Ia,Bs,zs,Os,oa,Gr,Kr,Hs,Yt={},Vs=[],ci=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,sr=Array.isArray;function ct(t,r){for(var a in r)t[a]=r[a];return t}function la(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function He(t,r,a){var s,n,i,o={};for(i in r)i=="key"?s=r[i]:i=="ref"?n=r[i]:o[i]=r[i];if(arguments.length>2&&(o.children=arguments.length>3?ar.call(arguments,2):a),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return Gt(t,o,s,n,null)}function Gt(t,r,a,s,n){var i={type:t,props:r,key:a,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++$s,__i:-1,__u:0};return n==null&&ge.vnode!=null&&ge.vnode(i),i}function Fs(){return{current:null}}function ae(t){return t.children}function it(t,r){this.props=t,this.context=r}function zt(t,r){if(r==null)return t.__?zt(t.__,t.__i+1):null;for(var a;r<t.__k.length;r++)if((a=t.__k[r])!=null&&a.__e!=null)return a.__e;return typeof t.type=="function"?zt(t):null}function Ws(t){var r,a;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if((a=t.__k[r])!=null&&a.__e!=null){t.__e=t.__c.base=a.__e;break}return Ws(t)}}function Qr(t){(!t.__d&&(t.__d=!0)&&_t.push(t)&&!pr.__r++||Ia!=ge.debounceRendering)&&((Ia=ge.debounceRendering)||Bs)(pr)}function pr(){for(var t,r,a,s,n,i,o,l=1;_t.length;)_t.length>l&&_t.sort(zs),t=_t.shift(),l=_t.length,t.__d&&(a=void 0,n=(s=(r=t).__v).__e,i=[],o=[],r.__P&&((a=ct({},s)).__v=s.__v+1,ge.vnode&&ge.vnode(a),da(r.__P,a,s,r.__n,r.__P.namespaceURI,32&s.__u?[n]:null,i,n??zt(s),!!(32&s.__u),o),a.__v=s.__v,a.__.__k[a.__i]=a,Gs(i,a,o),a.__e!=n&&Ws(a)));pr.__r=0}function Us(t,r,a,s,n,i,o,l,c,h,m){var d,u,p,x,y,b,O,_=s&&s.__k||Vs,I=r.length;for(c=hi(a,r,_,c,I),d=0;d<I;d++)(p=a.__k[d])!=null&&(u=p.__i==-1?Yt:_[p.__i]||Yt,p.__i=d,b=da(t,p,u,n,i,o,l,c,h,m),x=p.__e,p.ref&&u.ref!=p.ref&&(u.ref&&ca(u.ref,null,p),m.push(p.ref,p.__c||x,p)),y==null&&x!=null&&(y=x),(O=!!(4&p.__u))||u.__k===p.__k?c=qs(p,c,t,O):typeof p.type=="function"&&b!==void 0?c=b:x&&(c=x.nextSibling),p.__u&=-7);return a.__e=y,c}function hi(t,r,a,s,n){var i,o,l,c,h,m=a.length,d=m,u=0;for(t.__k=new Array(n),i=0;i<n;i++)(o=r[i])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=i+u,(o=t.__k[i]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Gt(null,o,null,null,null):sr(o)?Gt(ae,{children:o},null,null,null):o.constructor==null&&o.__b>0?Gt(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,l=null,(h=o.__i=ui(o,a,c,d))!=-1&&(d--,(l=a[h])&&(l.__u|=2)),l==null||l.__v==null?(h==-1&&(n>m?u--:n<m&&u++),typeof o.type!="function"&&(o.__u|=4)):h!=c&&(h==c-1?u--:h==c+1?u++:(h>c?u--:u++,o.__u|=4))):t.__k[i]=null;if(d)for(i=0;i<m;i++)(l=a[i])!=null&&!(2&l.__u)&&(l.__e==s&&(s=zt(l)),Qs(l,l));return s}function qs(t,r,a,s){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,r=qs(n[i],r,a,s));return r}t.__e!=r&&(s&&(r&&t.type&&!r.parentNode&&(r=zt(t)),a.insertBefore(t.__e,r||null)),r=t.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType==8);return r}function gt(t,r){return r=r||[],t==null||typeof t=="boolean"||(sr(t)?t.some(function(a){gt(a,r)}):r.push(t)),r}function ui(t,r,a,s){var n,i,o,l=t.key,c=t.type,h=r[a],m=h!=null&&(2&h.__u)==0;if(h===null&&t.key==null||m&&l==h.key&&c==h.type)return a;if(s>(m?1:0)){for(n=a-1,i=a+1;n>=0||i<r.length;)if((h=r[o=n>=0?n--:i++])!=null&&!(2&h.__u)&&l==h.key&&c==h.type)return o}return-1}function Ta(t,r,a){r[0]=="-"?t.setProperty(r,a??""):t[r]=a==null?"":typeof a!="number"||ci.test(r)?a:a+"px"}function ir(t,r,a,s,n){var i,o;e:if(r=="style")if(typeof a=="string")t.style.cssText=a;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(r in s)a&&r in a||Ta(t.style,r,"");if(a)for(r in a)s&&a[r]==s[r]||Ta(t.style,r,a[r])}else if(r[0]=="o"&&r[1]=="n")i=r!=(r=r.replace(Os,"$1")),o=r.toLowerCase(),r=o in t||r=="onFocusOut"||r=="onFocusIn"?o.slice(2):r.slice(2),t.l||(t.l={}),t.l[r+i]=a,a?s?a.u=s.u:(a.u=oa,t.addEventListener(r,i?Kr:Gr,i)):t.removeEventListener(r,i?Kr:Gr,i);else{if(n=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in t)try{t[r]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&r[4]!="-"?t.removeAttribute(r):t.setAttribute(r,r=="popover"&&a==1?"":a))}}function $a(t){return function(r){if(this.l){var a=this.l[r.type+t];if(r.t==null)r.t=oa++;else if(r.t<a.u)return;return a(ge.event?ge.event(r):r)}}}function da(t,r,a,s,n,i,o,l,c,h){var m,d,u,p,x,y,b,O,_,I,B,L,w,k,R,P,M,C=r.type;if(r.constructor!=null)return null;128&a.__u&&(c=!!(32&a.__u),i=[l=r.__e=a.__e]),(m=ge.__b)&&m(r);e:if(typeof C=="function")try{if(O=r.props,_="prototype"in C&&C.prototype.render,I=(m=C.contextType)&&s[m.__c],B=m?I?I.props.value:m.__:s,a.__c?b=(d=r.__c=a.__c).__=d.__E:(_?r.__c=d=new C(O,B):(r.__c=d=new it(O,B),d.constructor=C,d.render=mi),I&&I.sub(d),d.props=O,d.state||(d.state={}),d.context=B,d.__n=s,u=d.__d=!0,d.__h=[],d._sb=[]),_&&d.__s==null&&(d.__s=d.state),_&&C.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ct({},d.__s)),ct(d.__s,C.getDerivedStateFromProps(O,d.__s))),p=d.props,x=d.state,d.__v=r,u)_&&C.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),_&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(_&&C.getDerivedStateFromProps==null&&O!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(O,B),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(O,d.__s,B)===!1||r.__v==a.__v){for(r.__v!=a.__v&&(d.props=O,d.state=d.__s,d.__d=!1),r.__e=a.__e,r.__k=a.__k,r.__k.some(function(T){T&&(T.__=r)}),L=0;L<d._sb.length;L++)d.__h.push(d._sb[L]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(O,d.__s,B),_&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,x,y)})}if(d.context=B,d.props=O,d.__P=t,d.__e=!1,w=ge.__r,k=0,_){for(d.state=d.__s,d.__d=!1,w&&w(r),m=d.render(d.props,d.state,d.context),R=0;R<d._sb.length;R++)d.__h.push(d._sb[R]);d._sb=[]}else do d.__d=!1,w&&w(r),m=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++k<25);d.state=d.__s,d.getChildContext!=null&&(s=ct(ct({},s),d.getChildContext())),_&&!u&&d.getSnapshotBeforeUpdate!=null&&(y=d.getSnapshotBeforeUpdate(p,x)),P=m,m!=null&&m.type===ae&&m.key==null&&(P=Ks(m.props.children)),l=Us(t,sr(P)?P:[P],r,a,s,n,i,o,l,c,h),d.base=r.__e,r.__u&=-161,d.__h.length&&o.push(d),b&&(d.__E=d.__=null)}catch(T){if(r.__v=null,c||i!=null)if(T.then){for(r.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,r.__e=l}else{for(M=i.length;M--;)la(i[M]);Yr(r)}else r.__e=a.__e,r.__k=a.__k,T.then||Yr(r);ge.__e(T,r,a)}else i==null&&r.__v==a.__v?(r.__k=a.__k,r.__e=a.__e):l=r.__e=gi(a.__e,r,a,s,n,i,o,c,h);return(m=ge.diffed)&&m(r),128&r.__u?void 0:l}function Yr(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Yr)}function Gs(t,r,a){for(var s=0;s<a.length;s++)ca(a[s],a[++s],a[++s]);ge.__c&&ge.__c(r,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){ge.__e(i,n.__v)}})}function Ks(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:sr(t)?t.map(Ks):ct({},t)}function gi(t,r,a,s,n,i,o,l,c){var h,m,d,u,p,x,y,b=a.props,O=r.props,_=r.type;if(_=="svg"?n="http://www.w3.org/2000/svg":_=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),i!=null){for(h=0;h<i.length;h++)if((p=i[h])&&"setAttribute"in p==!!_&&(_?p.localName==_:p.nodeType==3)){t=p,i[h]=null;break}}if(t==null){if(_==null)return document.createTextNode(O);t=document.createElementNS(n,_,O.is&&O),l&&(ge.__m&&ge.__m(r,i),l=!1),i=null}if(_==null)b===O||l&&t.data==O||(t.data=O);else{if(i=i&&ar.call(t.childNodes),b=a.props||Yt,!l&&i!=null)for(b={},h=0;h<t.attributes.length;h++)b[(p=t.attributes[h]).name]=p.value;for(h in b)if(p=b[h],h!="children"){if(h=="dangerouslySetInnerHTML")d=p;else if(!(h in O)){if(h=="value"&&"defaultValue"in O||h=="checked"&&"defaultChecked"in O)continue;ir(t,h,null,p,n)}}for(h in O)p=O[h],h=="children"?u=p:h=="dangerouslySetInnerHTML"?m=p:h=="value"?x=p:h=="checked"?y=p:l&&typeof p!="function"||b[h]===p||ir(t,h,p,b[h],n);if(m)l||d&&(m.__html==d.__html||m.__html==t.innerHTML)||(t.innerHTML=m.__html),r.__k=[];else if(d&&(t.innerHTML=""),Us(r.type=="template"?t.content:t,sr(u)?u:[u],r,a,s,_=="foreignObject"?"http://www.w3.org/1999/xhtml":n,i,o,i?i[0]:a.__k&&zt(a,0),l,c),i!=null)for(h=i.length;h--;)la(i[h]);l||(h="value",_=="progress"&&x==null?t.removeAttribute("value"):x!=null&&(x!==t[h]||_=="progress"&&!x||_=="option"&&x!=b[h])&&ir(t,h,x,b[h],n),h="checked",y!=null&&y!=t[h]&&ir(t,h,y,b[h],n))}return t}function ca(t,r,a){try{if(typeof t=="function"){var s=typeof t.__u=="function";s&&t.__u(),s&&r==null||(t.__u=t(r))}else t.current=r}catch(n){ge.__e(n,a)}}function Qs(t,r,a){var s,n;if(ge.unmount&&ge.unmount(t),(s=t.ref)&&(s.current&&s.current!=t.__e||ca(s,null,r)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(i){ge.__e(i,r)}s.base=s.__P=null}if(s=t.__k)for(n=0;n<s.length;n++)s[n]&&Qs(s[n],r,a||typeof t.type!="function");a||la(t.__e),t.__c=t.__=t.__e=void 0}function mi(t,r,a){return this.constructor(t,a)}function Ot(t,r,a){var s,n,i,o;r==document&&(r=document.documentElement),ge.__&&ge.__(t,r),n=(s=typeof a=="function")?null:a&&a.__k||r.__k,i=[],o=[],da(r,t=(!s&&a||r).__k=He(ae,null,[t]),n||Yt,Yt,r.namespaceURI,!s&&a?[a]:n?null:r.firstChild?ar.call(r.childNodes):null,i,!s&&a?a:n?n.__e:r.firstChild,s,o),Gs(i,t,o)}function Ys(t,r){Ot(t,r,Ys)}function pi(t,r,a){var s,n,i,o,l=ct({},t.props);for(i in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),r)i=="key"?s=r[i]:i=="ref"?n=r[i]:l[i]=r[i]===void 0&&o!=null?o[i]:r[i];return arguments.length>2&&(l.children=arguments.length>3?ar.call(arguments,2):a),Gt(t.type,l,s||t.key,n||t.ref,null)}function Cr(t){function r(a){var s,n;return this.getChildContext||(s=new Set,(n={})[r.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){s=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&s.forEach(function(o){o.__e=!0,Qr(o)})},this.sub=function(i){s.add(i);var o=i.componentWillUnmount;i.componentWillUnmount=function(){s&&s.delete(i),o&&o.call(i)}}),a.children}return r.__c="__cC"+Hs++,r.__=t,r.Provider=r.__l=(r.Consumer=function(a,s){return a.children(s)}).contextType=r,r}ar=Vs.slice,ge={__e:function(t,r,a,s){for(var n,i,o;r=r.__;)if((n=r.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(t)),o=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,s||{}),o=n.__d),o)return n.__E=n}catch(l){t=l}throw t}},$s=0,it.prototype.setState=function(t,r){var a;a=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ct({},this.state),typeof t=="function"&&(t=t(ct({},a),this.props)),t&&ct(a,t),t!=null&&this.__v&&(r&&this._sb.push(r),Qr(this))},it.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Qr(this))},it.prototype.render=ae,_t=[],Bs=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,zs=function(t,r){return t.__v.__b-r.__v.__b},pr.__r=0,Os=/(PointerCapture)$|Capture$/i,oa=0,Gr=$a(!1),Kr=$a(!0),Hs=0;var xi=0;function e(t,r,a,s,n,i){r||(r={});var o,l,c=r;if("ref"in c)for(l in c={},r)l=="ref"?o=r[l]:c[l]=r[l];var h={type:t,props:c,key:a,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--xi,__i:-1,__u:0,__source:n,__self:i};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return ge.vnode&&ge.vnode(h),h}var bt,ke,Tr,Ba,Ht=0,Js=[],Se=ge,za=Se.__b,Oa=Se.__r,Ha=Se.diffed,Va=Se.__c,Fa=Se.unmount,Wa=Se.__;function Dt(t,r){Se.__h&&Se.__h(ke,t,Ht||r),Ht=0;var a=ke.__H||(ke.__H={__:[],__h:[]});return t>=a.__.length&&a.__.push({}),a.__[t]}function g(t){return Ht=1,Sr(Zs,t)}function Sr(t,r,a){var s=Dt(bt++,2);if(s.t=t,!s.__c&&(s.__=[a?a(r):Zs(void 0,r),function(l){var c=s.__N?s.__N[0]:s.__[0],h=s.t(c,l);c!==h&&(s.__N=[h,s.__[1]],s.__c.setState({}))}],s.__c=ke,!ke.__f)){var n=function(l,c,h){if(!s.__c.__H)return!0;var m=s.__c.__H.__.filter(function(u){return!!u.__c});if(m.every(function(u){return!u.__N}))return!i||i.call(this,l,c,h);var d=s.__c.props!==l;return m.forEach(function(u){if(u.__N){var p=u.__[0];u.__=u.__N,u.__N=void 0,p!==u.__[0]&&(d=!0)}}),i&&i.call(this,l,c,h)||d};ke.__f=!0;var i=ke.shouldComponentUpdate,o=ke.componentWillUpdate;ke.componentWillUpdate=function(l,c,h){if(this.__e){var m=i;i=void 0,n(l,c,h),i=m}o&&o.call(this,l,c,h)},ke.shouldComponentUpdate=n}return s.__N||s.__}function K(t,r){var a=Dt(bt++,3);!Se.__s&&pa(a.__H,r)&&(a.__=t,a.u=r,ke.__H.__h.push(a))}function Ut(t,r){var a=Dt(bt++,4);!Se.__s&&pa(a.__H,r)&&(a.__=t,a.u=r,ke.__h.push(a))}function Ge(t){return Ht=5,qt(function(){return{current:t}},[])}function ha(t,r,a){Ht=6,Ut(function(){if(typeof t=="function"){var s=t(r());return function(){t(null),s&&typeof s=="function"&&s()}}if(t)return t.current=r(),function(){return t.current=null}},a==null?a:a.concat(t))}function qt(t,r){var a=Dt(bt++,7);return pa(a.__H,r)&&(a.__=t(),a.__H=r,a.__h=t),a.__}function ua(t,r){return Ht=8,qt(function(){return t},r)}function Lr(t){var r=ke.context[t.__c],a=Dt(bt++,9);return a.c=t,r?(a.__==null&&(a.__=!0,r.sub(ke)),r.props.value):t.__}function ga(t,r){Se.useDebugValue&&Se.useDebugValue(r?r(t):t)}function bi(t){var r=Dt(bt++,10),a=g();return r.__=t,ke.componentDidCatch||(ke.componentDidCatch=function(s,n){r.__&&r.__(s,n),a[1](s)}),[a[0],function(){a[1](void 0)}]}function ma(){var t=Dt(bt++,11);if(!t.__){for(var r=ke.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;var a=r.__m||(r.__m=[0,0]);t.__="P"+a[0]+"-"+a[1]++}return t.__}function fi(){for(var t;t=Js.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(lr),t.__H.__h.forEach(Jr),t.__H.__h=[]}catch(r){t.__H.__h=[],Se.__e(r,t.__v)}}Se.__b=function(t){ke=null,za&&za(t)},Se.__=function(t,r){t&&r.__k&&r.__k.__m&&(t.__m=r.__k.__m),Wa&&Wa(t,r)},Se.__r=function(t){Oa&&Oa(t),bt=0;var r=(ke=t.__c).__H;r&&(Tr===ke?(r.__h=[],ke.__h=[],r.__.forEach(function(a){a.__N&&(a.__=a.__N),a.u=a.__N=void 0})):(r.__h.forEach(lr),r.__h.forEach(Jr),r.__h=[],bt=0)),Tr=ke},Se.diffed=function(t){Ha&&Ha(t);var r=t.__c;r&&r.__H&&(r.__H.__h.length&&(Js.push(r)!==1&&Ba===Se.requestAnimationFrame||((Ba=Se.requestAnimationFrame)||yi)(fi)),r.__H.__.forEach(function(a){a.u&&(a.__H=a.u),a.u=void 0})),Tr=ke=null},Se.__c=function(t,r){r.some(function(a){try{a.__h.forEach(lr),a.__h=a.__h.filter(function(s){return!s.__||Jr(s)})}catch(s){r.some(function(n){n.__h&&(n.__h=[])}),r=[],Se.__e(s,a.__v)}}),Va&&Va(t,r)},Se.unmount=function(t){Fa&&Fa(t);var r,a=t.__c;a&&a.__H&&(a.__H.__.forEach(function(s){try{lr(s)}catch(n){r=n}}),a.__H=void 0,r&&Se.__e(r,a.__v))};var Ua=typeof requestAnimationFrame=="function";function yi(t){var r,a=function(){clearTimeout(s),Ua&&cancelAnimationFrame(r),setTimeout(t)},s=setTimeout(a,35);Ua&&(r=requestAnimationFrame(a))}function lr(t){var r=ke,a=t.__c;typeof a=="function"&&(t.__c=void 0,a()),ke=r}function Jr(t){var r=ke;t.__c=t.__(),ke=r}function pa(t,r){return!t||t.length!==r.length||r.some(function(a,s){return a!==t[s]})}function Zs(t,r){return typeof r=="function"?r(t):r}const xa="glinrdock_theme";function vi(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Xs(){const t=localStorage.getItem(xa);return t&&["light","dark","system"].includes(t)?(xr(t),t):(xr("system"),"system")}function xr(t){localStorage.setItem(xa,t);let r;t==="system"?r=vi():r=t,document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r)}function ki(t){let r;return t==="system"?r="light":t==="light"?r="dark":r="system",xr(r),r}function en(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{const r=localStorage.getItem(xa);(r==="system"||!r)&&xr("system")})}class wi{constructor(){qe(this,"memoryCache",new Map);qe(this,"configs",{docker:{ttl:10*60*1e3,persistent:!0,keyPrefix:"docker_"},simpleicons:{ttl:24*60*60*1e3,persistent:!0,keyPrefix:"icons_"},templates:{ttl:5*60*1e3,persistent:!1,keyPrefix:"tpl_"},default:{ttl:5*60*1e3,persistent:!1,keyPrefix:"cache_"}});this.cleanup(),setInterval(()=>this.cleanup(),5*60*1e3)}get(r,a="default"){const s=this.configs[a],n=`${s.keyPrefix}${r}`;let i=this.memoryCache.get(n);if(!i&&s.persistent)try{const o=localStorage.getItem(n);o&&(i=JSON.parse(o),i&&this.memoryCache.set(n,i))}catch(o){console.warn("Cache: Failed to read from localStorage",o)}return i&&Date.now()<i.expires?i.data:(i&&this.delete(r,a),null)}set(r,a,s="default"){const n=this.configs[s],i=`${n.keyPrefix}${r}`,o={data:a,timestamp:Date.now(),expires:Date.now()+n.ttl};if(this.memoryCache.set(i,o),n.persistent)try{localStorage.setItem(i,JSON.stringify(o))}catch(l){console.warn("Cache: Failed to write to localStorage",l)}}delete(r,a="default"){const s=this.configs[a],n=`${s.keyPrefix}${r}`;if(this.memoryCache.delete(n),s.persistent)try{localStorage.removeItem(n)}catch(i){console.warn("Cache: Failed to remove from localStorage",i)}}clear(r){if(r){const a=this.configs[r],s=a.keyPrefix;for(const n of this.memoryCache.keys())n.startsWith(s)&&this.memoryCache.delete(n);if(a.persistent)try{const n=[];for(let i=0;i<localStorage.length;i++){const o=localStorage.key(i);o&&o.startsWith(s)&&n.push(o)}n.forEach(i=>localStorage.removeItem(i))}catch(n){console.warn("Cache: Failed to clear localStorage",n)}}else{this.memoryCache.clear();try{Object.values(this.configs).forEach(a=>{if(a.persistent){const s=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);i&&i.startsWith(a.keyPrefix)&&s.push(i)}s.forEach(n=>localStorage.removeItem(n))}})}catch(a){console.warn("Cache: Failed to clear localStorage",a)}}}cleanup(){const r=Date.now();for(const[a,s]of this.memoryCache.entries())r>=s.expires&&this.memoryCache.delete(a);try{const a=[];for(let s=0;s<localStorage.length;s++){const n=localStorage.key(s);if(n&&Object.values(this.configs).some(i=>n.startsWith(i.keyPrefix))){const i=localStorage.getItem(n);if(i){const o=JSON.parse(i);r>=o.expires&&a.push(n)}}}a.forEach(s=>localStorage.removeItem(s))}catch(a){console.warn("Cache: Failed to cleanup localStorage",a)}}getStats(){const r={memorySize:this.memoryCache.size,localStorageSize:0,dockerEntries:0,iconEntries:0};try{for(let a=0;a<localStorage.length;a++){const s=localStorage.key(a);s&&(s.startsWith(this.configs.docker.keyPrefix)&&r.dockerEntries++,s.startsWith(this.configs.simpleicons.keyPrefix)&&r.iconEntries++,Object.values(this.configs).some(n=>s.startsWith(n.keyPrefix))&&r.localStorageSize++)}}catch(a){console.warn("Cache: Failed to get stats",a)}return r}}const ht=new wi;class tn{constructor(r=60,a=60*1e3){qe(this,"requests",new Map);this.maxRequests=r,this.windowMs=a}canMakeRequest(r){const a=Date.now(),n=(this.requests.get(r)||[]).filter(i=>a-i<this.windowMs);return n.length>=this.maxRequests?!1:(n.push(a),this.requests.set(r,n),!0)}getRemainingRequests(r){const a=Date.now(),n=(this.requests.get(r)||[]).filter(i=>a-i<this.windowMs);return Math.max(0,this.maxRequests-n.length)}}const Vt=new tn(100,60*1e3),qa=new tn(200,60*1e3),_i=["postgresql","redis","mongodb","mysql","nginx","apache","nodedotjs","python","java","rabbitmq","elasticsearch","grafana","docker","traefik","caddy","vault","consul","portainer","wordpress","ghost","nextcloud","gitea","gitlab","jenkins","prometheus","kibana"];class Ci{constructor(){qe(this,"preloadingPromise",null);qe(this,"failedIcons",new Set);this.preloadCommonIcons()}async getIcon(r,a){if(this.failedIcons.has(r))return null;const s=`${r}-${a}`,n=ht.get(s,"simpleicons");if(n)return n.svg;if(!qa.canMakeRequest("simpleicons"))return console.warn(`Rate limit exceeded for Simple Icons. Remaining: ${qa.getRemainingRequests("simpleicons")}`),null;try{const i=a.replace("#",""),o=`https://cdn.simpleicons.org/${r}/${i}`,l=await fetch(o);if(!l.ok)throw l.status===404&&(this.failedIcons.add(r),console.warn(`Simple Icon not found: ${r}`)),new Error(`HTTP ${l.status}`);const c=await l.text(),h={svg:c,color:a,slug:r,name:r};return ht.set(s,h,"simpleicons"),c}catch(i){return console.warn(`Failed to fetch Simple Icon ${r}:`,i),this.failedIcons.add(r),null}}async preloadCommonIcons(){return this.preloadingPromise?this.preloadingPromise:(this.preloadingPromise=this.doPreload(),this.preloadingPromise)}async doPreload(){const r=_i.map(async a=>{const s="000000";try{await this.getIcon(a,s)}catch(n){console.warn(`Failed to preload icon ${a}:`,n)}});await Promise.allSettled(r)}createCachedImage(r,a,s){const n=`${r}-${a}`,i=ht.get(n,"simpleicons");if(!i)return null;const o=document.createElement("img");return o.src=`data:image/svg+xml;base64,${btoa(i.svg)}`,o.alt=i.name,o.loading="lazy",s&&(o.className=s),o}isIconCached(r,a){const s=`${r}-${a}`;return ht.get(s,"simpleicons")!==null}getFailedIcons(){return Array.from(this.failedIcons)}clearFailedIcons(){this.failedIcons.clear()}}const dr=new Ci;function rn(t,r){for(var a in r)t[a]=r[a];return t}function Zr(t,r){for(var a in t)if(a!=="__source"&&!(a in r))return!0;for(var s in r)if(s!=="__source"&&t[s]!==r[s])return!0;return!1}function ba(t,r){var a=r(),s=g({t:{__:a,u:r}}),n=s[0].t,i=s[1];return Ut(function(){n.__=a,n.u=r,$r(n)&&i({t:n})},[t,a,r]),K(function(){return $r(n)&&i({t:n}),t(function(){$r(n)&&i({t:n})})},[t]),a}function $r(t){var r,a,s=t.u,n=t.__;try{var i=s();return!((r=n)===(a=i)&&(r!==0||1/r==1/a)||r!=r&&a!=a)}catch{return!0}}function fa(t){t()}function ya(t){return t}function va(){return[!1,fa]}var ka=Ut;function br(t,r){this.props=t,this.context=r}function an(t,r){function a(n){var i=this.props.ref,o=i==n.ref;return!o&&i&&(i.call?i(null):i.current=null),r?!r(this.props,n)||!o:Zr(this.props,n)}function s(n){return this.shouldComponentUpdate=a,He(t,n)}return s.displayName="Memo("+(t.displayName||t.name)+")",s.prototype.isReactComponent=!0,s.__f=!0,s.type=t,s}(br.prototype=new it).isPureReactComponent=!0,br.prototype.shouldComponentUpdate=function(t,r){return Zr(this.props,t)||Zr(this.state,r)};var Ga=ge.__b;ge.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Ga&&Ga(t)};var Si=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function wa(t){function r(a){var s=rn({},a);return delete s.ref,t(s,a.ref||null)}return r.$$typeof=Si,r.render=t,r.prototype.isReactComponent=r.__f=!0,r.displayName="ForwardRef("+(t.displayName||t.name)+")",r}var Ka=function(t,r){return t==null?null:gt(gt(t).map(r))},sn={map:Ka,forEach:Ka,count:function(t){return t?gt(t).length:0},only:function(t){var r=gt(t);if(r.length!==1)throw"Children.only";return r[0]},toArray:gt},Li=ge.__e;ge.__e=function(t,r,a,s){if(t.then){for(var n,i=r;i=i.__;)if((n=i.__c)&&n.__c)return r.__e==null&&(r.__e=a.__e,r.__k=a.__k),n.__c(t,r)}Li(t,r,a,s)};var Qa=ge.unmount;function nn(t,r,a){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),t.__c.__H=null),(t=rn({},t)).__c!=null&&(t.__c.__P===a&&(t.__c.__P=r),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(s){return nn(s,r,a)})),t}function on(t,r,a){return t&&a&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(s){return on(s,r,a)}),t.__c&&t.__c.__P===r&&(t.__e&&a.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=a)),t}function Kt(){this.__u=0,this.o=null,this.__b=null}function ln(t){var r=t.__.__c;return r&&r.__a&&r.__a(t)}function dn(t){var r,a,s;function n(i){if(r||(r=t()).then(function(o){a=o.default||o},function(o){s=o}),s)throw s;if(!a)throw r;return He(a,i)}return n.displayName="Lazy",n.__f=!0,n}function $t(){this.i=null,this.l=null}ge.unmount=function(t){var r=t.__c;r&&r.__R&&r.__R(),r&&32&t.__u&&(t.type=null),Qa&&Qa(t)},(Kt.prototype=new it).__c=function(t,r){var a=r.__c,s=this;s.o==null&&(s.o=[]),s.o.push(a);var n=ln(s.__v),i=!1,o=function(){i||(i=!0,a.__R=null,n?n(l):l())};a.__R=o;var l=function(){if(!--s.__u){if(s.state.__a){var c=s.state.__a;s.__v.__k[0]=on(c,c.__c.__P,c.__c.__O)}var h;for(s.setState({__a:s.__b=null});h=s.o.pop();)h.forceUpdate()}};s.__u++||32&r.__u||s.setState({__a:s.__b=s.__v.__k[0]}),t.then(o,o)},Kt.prototype.componentWillUnmount=function(){this.o=[]},Kt.prototype.render=function(t,r){if(this.__b){if(this.__v.__k){var a=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=nn(this.__b,a,s.__O=s.__P)}this.__b=null}var n=r.__a&&He(ae,null,t.fallback);return n&&(n.__u&=-33),[He(ae,null,r.__a?null:t.children),n]};var Ya=function(t,r,a){if(++a[1]===a[0]&&t.l.delete(r),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(a=t.i;a;){for(;a.length>3;)a.pop()();if(a[1]<a[0])break;t.i=a=a[2]}};function Mi(t){return this.getChildContext=function(){return t.context},t.children}function ji(t){var r=this,a=t.h;if(r.componentWillUnmount=function(){Ot(null,r.v),r.v=null,r.h=null},r.h&&r.h!==a&&r.componentWillUnmount(),!r.v){for(var s=r.__v;s!==null&&!s.__m&&s.__!==null;)s=s.__;r.h=a,r.v={nodeType:1,parentNode:a,childNodes:[],__k:{__m:s.__m},contains:function(){return!0},insertBefore:function(n,i){this.childNodes.push(n),r.h.insertBefore(n,i)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),r.h.removeChild(n)}}}Ot(He(Mi,{context:r.context},t.__v),r.v)}function _a(t,r){var a=He(ji,{__v:t,h:r});return a.containerInfo=r,a}($t.prototype=new it).__a=function(t){var r=this,a=ln(r.__v),s=r.l.get(t);return s[0]++,function(n){var i=function(){r.props.revealOrder?(s.push(n),Ya(r,t,s)):n()};a?a(i):i()}},$t.prototype.render=function(t){this.i=null,this.l=new Map;var r=gt(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&r.reverse();for(var a=r.length;a--;)this.l.set(r[a],this.i=[1,0,this.i]);return t.children},$t.prototype.componentDidUpdate=$t.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(r,a){Ya(t,a,r)})};var cn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Pi=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ni=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ei=/[A-Z0-9]/g,Di=typeof document<"u",Ri=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function hn(t,r,a){return r.__k==null&&(r.textContent=""),Ot(t,r),typeof a=="function"&&a(),t?t.__c:null}function un(t,r,a){return Ys(t,r),typeof a=="function"&&a(),t?t.__c:null}it.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(it.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(r){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:r})}})});var Ja=ge.event;function Ai(){}function Ii(){return this.cancelBubble}function Ti(){return this.defaultPrevented}ge.event=function(t){return Ja&&(t=Ja(t)),t.persist=Ai,t.isPropagationStopped=Ii,t.isDefaultPrevented=Ti,t.nativeEvent=t};var Ca,$i={enumerable:!1,configurable:!0,get:function(){return this.class}},Za=ge.vnode;ge.vnode=function(t){typeof t.type=="string"&&function(r){var a=r.props,s=r.type,n={},i=s.indexOf("-")===-1;for(var o in a){var l=a[o];if(!(o==="value"&&"defaultValue"in a&&l==null||Di&&o==="children"&&s==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in a&&a.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||s!=="input"&&s!=="textarea"||Ri(a.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":Ni.test(o)&&(o=c):c=o="oninput":i&&Pi.test(o)?o=o.replace(Ei,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&n[o=c]&&(o="oninputCapture"),n[o]=l}}s=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=gt(a.children).forEach(function(h){h.props.selected=n.value.indexOf(h.props.value)!=-1})),s=="select"&&n.defaultValue!=null&&(n.value=gt(a.children).forEach(function(h){h.props.selected=n.multiple?n.defaultValue.indexOf(h.props.value)!=-1:n.defaultValue==h.props.value})),a.class&&!a.className?(n.class=a.class,Object.defineProperty(n,"className",$i)):(a.className&&!a.class||a.class&&a.className)&&(n.class=n.className=a.className),r.props=n}(t),t.$$typeof=cn,Za&&Za(t)};var Xa=ge.__r;ge.__r=function(t){Xa&&Xa(t),Ca=t.__c};var es=ge.diffed;ge.diffed=function(t){es&&es(t);var r=t.props,a=t.__e;a!=null&&t.type==="textarea"&&"value"in r&&r.value!==a.value&&(a.value=r.value==null?"":r.value),Ca=null};var gn={ReactCurrentDispatcher:{current:{readContext:function(t){return Ca.__n[t.__c].props.value},useCallback:ua,useContext:Lr,useDebugValue:ga,useDeferredValue:ya,useEffect:K,useId:ma,useImperativeHandle:ha,useInsertionEffect:ka,useLayoutEffect:Ut,useMemo:qt,useReducer:Sr,useRef:Ge,useState:g,useSyncExternalStore:ba,useTransition:va}}},Bi="18.3.1";function mn(t){return He.bind(null,t)}function Rt(t){return!!t&&t.$$typeof===cn}function pn(t){return Rt(t)&&t.type===ae}function xn(t){return!!t&&!!t.displayName&&(typeof t.displayName=="string"||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function Mr(t){return Rt(t)?pi.apply(null,arguments):t}function bn(t){return!!t.__k&&(Ot(null,t),!0)}function fn(t){return t&&(t.base||t.nodeType===1&&t)||null}var yn=function(t,r){return t(r)},vn=function(t,r){return t(r)},kn=ae,wn=Rt,zi={useState:g,useId:ma,useReducer:Sr,useEffect:K,useLayoutEffect:Ut,useInsertionEffect:ka,useTransition:va,useDeferredValue:ya,useSyncExternalStore:ba,startTransition:fa,useRef:Ge,useImperativeHandle:ha,useMemo:qt,useCallback:ua,useContext:Lr,useDebugValue:ga,version:"18.3.1",Children:sn,render:hn,hydrate:un,unmountComponentAtNode:bn,createPortal:_a,createElement:He,createContext:Cr,createFactory:mn,cloneElement:Mr,createRef:Fs,Fragment:ae,isValidElement:Rt,isElement:wn,isFragment:pn,isMemo:xn,findDOMNode:fn,Component:it,PureComponent:br,memo:an,forwardRef:wa,flushSync:vn,unstable_batchedUpdates:yn,StrictMode:kn,Suspense:Kt,SuspenseList:$t,lazy:dn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:gn};const _n=Object.freeze(Object.defineProperty({__proto__:null,Children:sn,Component:it,Fragment:ae,PureComponent:br,StrictMode:kn,Suspense:Kt,SuspenseList:$t,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:gn,cloneElement:Mr,createContext:Cr,createElement:He,createFactory:mn,createPortal:_a,createRef:Fs,default:zi,findDOMNode:fn,flushSync:vn,forwardRef:wa,hydrate:un,isElement:wn,isFragment:pn,isMemo:xn,isValidElement:Rt,lazy:dn,memo:an,render:hn,startTransition:fa,unmountComponentAtNode:bn,unstable_batchedUpdates:yn,useCallback:ua,useContext:Lr,useDebugValue:ga,useDeferredValue:ya,useEffect:K,useErrorBoundary:bi,useId:ma,useImperativeHandle:ha,useInsertionEffect:ka,useLayoutEffect:Ut,useMemo:qt,useReducer:Sr,useRef:Ge,useState:g,useSyncExternalStore:ba,useTransition:va,version:Bi},Symbol.toStringTag,{value:"Module"}));function Oi(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var a=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(a,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),a}var Cn={exports:{}},Sn={};const Hi=Oi(_n);/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ft=Hi;function Vi(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Fi=typeof Object.is=="function"?Object.is:Vi,Wi=Ft.useState,Ui=Ft.useEffect,qi=Ft.useLayoutEffect,Gi=Ft.useDebugValue;function Ki(t,r){var a=r(),s=Wi({inst:{value:a,getSnapshot:r}}),n=s[0].inst,i=s[1];return qi(function(){n.value=a,n.getSnapshot=r,Br(n)&&i({inst:n})},[t,a,r]),Ui(function(){return Br(n)&&i({inst:n}),t(function(){Br(n)&&i({inst:n})})},[t]),Gi(a),a}function Br(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Fi(t,a)}catch{return!0}}function Qi(t,r){return r()}var Yi=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qi:Ki;Sn.useSyncExternalStore=Ft.useSyncExternalStore!==void 0?Ft.useSyncExternalStore:Yi;Cn.exports=Sn;var Ji=Cn.exports;const{useEffect:Zi,useLayoutEffect:Xi,useRef:eo,useInsertionEffect:to}=_n,ro=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ao=ro?Xi:Zi,Ln=to||ao,Mn=t=>{const r=eo([t,(...a)=>r[0](...a)]).current;return Ln(()=>{r[0]=t}),r[1]},so=(t="",r=location.pathname)=>r.toLowerCase().indexOf(t.toLowerCase())?"~"+r:r.slice(t.length)||"/",no=(t,r="")=>t[0]==="~"?t.slice(1):r+t,io="popstate",Sa="pushState",La="replaceState",oo="hashchange",ts=[io,Sa,La,oo],lo=t=>{for(const r of ts)addEventListener(r,t);return()=>{for(const r of ts)removeEventListener(r,t)}},co=(t,r)=>Ji.useSyncExternalStore(lo,t,r),rs=()=>location.pathname,ho=({ssrPath:t}={})=>co(rs,t?()=>t:rs),uo=(t,{replace:r=!1}={})=>history[r?La:Sa](null,"",t),go=(t={})=>[so(t.base,ho(t)),Mn((r,a)=>uo(no(r,t.base),a))];if(typeof history<"u")for(const t of[Sa,La]){const r=history[t];history[t]=function(){const a=r.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),a}}function mo(t=xo){let r={};const a=s=>r[s]||(r[s]=t(s));return(s,n)=>{const{regexp:i,keys:o}=a(s||""),l=i.exec(n);return l?[!0,o.reduce((h,m,d)=>(h[m.name]=l[d+1],h),{})]:[!1,null]}}const as=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),po=(t,r,a)=>{let s=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return r&&a&&(s="(?:\\/"+s+")"),s+(r?"?":"")},xo=t=>{const r=/:([A-Za-z0-9_]+)([?+*]?)/g;let a=null,s=0,n=[],i="";for(;(a=r.exec(t))!==null;){const[o,l,c]=a,h=c==="+"||c==="*",m=c==="?"||c==="*",d=m&&t[a.index-1]==="/"?1:0,u=t.substring(s,a.index-d);n.push({name:l}),s=r.lastIndex,i+=as(u)+po(h,m,d)}return i+=as(t.substring(s)),{keys:n,regexp:new RegExp("^"+i+"(?:\\/)?$","i")}},Xr={hook:go,matcher:mo(),base:""},jn=Cr(Xr),jr=()=>Lr(jn),Pr=t=>t.hook(t),Pn=()=>Pr(jr()),bo=t=>{const r=jr(),[a]=Pr(r);return r.matcher(t,a)},fo=Cr({params:{}}),yo=({hook:t,matcher:r,ssrPath:a,base:s="",parent:n,children:i})=>{const o=(c,h=n||Xr)=>(c.hook=t||h.hook,c.matcher=r||h.matcher,c.ssrPath=a||h.ssrPath,c.ownBase=s,c.parent=n,c),[l]=g(()=>o({get base(){return(l.parent||Xr).base+l.ownBase}}));return Ln(()=>{o(l)}),He(jn.Provider,{value:l,children:i})},ss=(t,r)=>He(fo.Provider,{value:{params:t},children:r}),Ae=({path:t,match:r,component:a,children:s})=>{const n=bo(t),[i,o]=r||n;return i?a?ss(o,He(a,{params:o})):ss(o,typeof s=="function"?s(o):s):null},It=wa((t,r)=>{const a=jr(),[,s]=Pr(a),{to:n,href:i=n,children:o,onClick:l}=t,c=Mn(d=>{d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button!==0||(l&&l(d),d.defaultPrevented||(d.preventDefault(),s(n||i,t)))}),h={href:i[0]==="~"?i.slice(1):a.base+i,onClick:c,to:null,ref:r},m=Rt(o)?o:He("a",t);return Mr(m,h)}),ea=t=>Array.isArray(t)?[].concat(...t.map(r=>r&&r.type===ae?ea(r.props.children):ea(r))):[t],vo=({children:t,location:r})=>{const a=jr(),s=a.matcher,[n]=Pr(a);for(const i of ea(t)){let o=0;if(Rt(i)&&(o=i.props.path?s(i.props.path,r||n):[!0,{}])[0])return Mr(i,{match:o})}return null};function Jt({size:t="md"}){return e("div",{class:`spinner ${{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t]}`})}class ft extends Error{constructor(r,a,s,n){super(r),this.status=a,this.code=s,this.requestId=n,this.name="APIError"}}class Nn extends ft{constructor(r="Authentication required",a){super(r,401,"AUTH_REQUIRED",a),this.name="AuthError"}}class En extends ft{constructor(r="Permission denied",a){super(r,403,"PERMISSION_DENIED",a),this.name="PermissionError"}}class ko extends ft{constructor(r="Resource not found",a){super(r,404,"NOT_FOUND",a),this.name="NotFoundError"}}class wo extends ft{constructor(r="Rate limit exceeded",a){super(r,429,"RATE_LIMIT",a),this.name="RateLimitError"}}class zr extends ft{constructor(r="Internal server error",a=500,s){super(r,a,"SERVER_ERROR",s),this.name="ServerError"}}class ns extends ft{constructor(r="Network error",a){super(r,0,"NETWORK_ERROR",a),this.name="NetworkError"}}class _o extends ft{constructor(r="Request timeout",a){super(r,0,"TIMEOUT",a),this.name="TimeoutError"}}class Co{constructor(r){qe(this,"baseURL");qe(this,"token",null);qe(this,"diagnostics",[]);qe(this,"MAX_DIAGNOSTICS",5);r||(r=""),this.baseURL=r,this.token=localStorage.getItem("glinrdock_token")}setToken(r){this.token=r,localStorage.setItem("glinrdock_token",r)}clearToken(){this.token=null,localStorage.removeItem("glinrdock_token")}isAuthenticated(){return!!this.token||this.hasSessionCookie()}hasSessionCookie(){return document.cookie.split(";").some(r=>r.trim().startsWith("glinr_session="))}generateRequestId(){return Math.random().toString(36).substr(2,9)}addDiagnostic(r){this.diagnostics.unshift(r),this.diagnostics.length>this.MAX_DIAGNOSTICS&&(this.diagnostics=this.diagnostics.slice(0,this.MAX_DIAGNOSTICS))}getDiagnostics(){return[...this.diagnostics]}clearDiagnostics(){this.diagnostics=[]}async request(r,a={}){const{method:s="GET",body:n,signal:i,timeoutMs:o=8e3,headers:l={}}=a,c=this.generateRequestId(),h=`${this.baseURL}${r.startsWith("/")?"":"/"}${r}`,m=Date.now(),d=new AbortController,u=i||d.signal,p=setTimeout(()=>{i||d.abort()},o);try{const x={method:s,headers:{"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...l},signal:u,...n&&{body:JSON.stringify(n)}},y=await fetch(h,x);if(clearTimeout(p),y.status===401){this.clearToken();const b=new Nn(await this.extractErrorMessage(y)||"Authentication required",c);throw this.addDiagnostic({timestamp:new Date().toISOString(),requestId:c,method:s,url:h,status:y.status,error:b.message,duration:Date.now()-m}),b}if(y.status===403){const b=new En(await this.extractErrorMessage(y)||"Permission denied",c);throw this.addDiagnostic({timestamp:new Date().toISOString(),requestId:c,method:s,url:h,status:y.status,error:b.message,duration:Date.now()-m}),b}if(y.status===404){const b=new ko(await this.extractErrorMessage(y)||"Resource not found",c);throw this.addDiagnostic({timestamp:new Date().toISOString(),requestId:c,method:s,url:h,status:y.status,error:b.message,duration:Date.now()-m}),b}if(y.status===429){const b=new wo(await this.extractErrorMessage(y)||"Rate limit exceeded",c);throw this.addDiagnostic({timestamp:new Date().toISOString(),requestId:c,method:s,url:h,status:y.status,error:b.message,duration:Date.now()-m}),b}if(y.status>=500){const b=new zr(await this.extractErrorMessage(y)||"Internal server error",y.status,c);throw this.addDiagnostic({timestamp:new Date().toISOString(),requestId:c,method:s,url:h,status:y.status,error:b.message,duration:Date.now()-m}),b}if(!y.ok){const b=new ft(await this.extractErrorMessage(y)||`HTTP ${y.status}`,y.status,"API_ERROR",c);throw this.addDiagnostic({timestamp:new Date().toISOString(),requestId:c,method:s,url:h,status:y.status,error:b.message,duration:Date.now()-m}),b}if(y.status===204||s==="DELETE")return;try{return await y.json()}catch{const O=new zr(`Invalid JSON response (Request ID: ${c})`,y.status,c);throw this.addDiagnostic({timestamp:new Date().toISOString(),requestId:c,method:s,url:h,status:y.status,error:O.message,duration:Date.now()-m}),O}}catch(x){clearTimeout(p);const y=Date.now()-m;let b;throw x instanceof Error&&x.name==="AbortError"?b=new _o(`Request timeout after ${o}ms`,c):x instanceof TypeError&&x.message.includes("fetch")?b=new ns(`Network error: ${x.message}`,c):x instanceof ft?b=x:b=new ns(`Unexpected error: ${x instanceof Error?x.message:"Unknown"}`,c),this.addDiagnostic({timestamp:new Date().toISOString(),requestId:c,method:s,url:h,status:b instanceof zr?b.status:void 0,error:b.message,duration:y}),b}}async extractErrorMessage(r){try{const a=await r.text();if(!a)return null;const s=JSON.parse(a);return s.error||s.message||null}catch{return null}}async get(r,a){return this.request(`/v1${r}`,{method:"GET",signal:a})}async post(r,a,s){return this.request(`/v1${r}`,{method:"POST",body:a,signal:s})}async put(r,a,s){return this.request(`/v1${r}`,{method:"PUT",body:a,signal:s})}async delete(r,a){return this.request(`/v1${r}`,{method:"DELETE",signal:a})}async getHealth(){return this.get("/health")}async getSystemInfo(){return this.get("/system")}async getSystemMetrics(){return this.get("/system/metrics")}async getHistoricalMetrics(r="24h",a=50){return this.get(`/metrics/historical?duration=${r}&limit=${a}`)}async getLatestHistoricalMetrics(r=50,a){const s=new URLSearchParams({limit:r.toString()});return a&&s.append("duration",a),this.get(`/metrics/latest?${s.toString()}`)}async getProjects(){return(await this.get("/projects")).projects||[]}async getProject(r){return this.get(`/projects/${r}`)}async createProject(r){return this.post("/projects",r)}async deleteProject(r){return this.delete(`/projects/${r}`)}async getProjectServices(r){return(await this.get(`/projects/${r}/services`)).services||[]}async getService(r){return this.get(`/services/${r}`)}async createService(r,a){return this.post(`/projects/${r}/services`,a)}async deleteService(r){return this.delete(`/services/${r}`)}async startService(r){return this.post(`/services/${r}/start`)}async stopService(r){return this.post(`/services/${r}/stop`)}async restartService(r){return this.post(`/services/${r}/restart`)}async unlockService(r){return this.post(`/services/${r}/unlock`)}async runHealthCheck(r){return this.post(`/services/${r}/health-check/run`)}async getServiceStats(r){return this.get(`/services/${r}/stats`)}async getServiceLogs(r,a=50){return this.get(`/services/${r}/logs/tail?tail=${a}`)}async getServiceConfig(r){return this.get(`/services/${r}/config`)}async updateServiceConfig(r,a){return this.put(`/services/${r}/config`,a)}async getServiceEnvironment(r){return this.get(`/services/${r}/environment`)}async getServiceNetwork(r){return this.get(`/services/${r}/network`)}async getServiceLinks(r){return this.get(`/services/${r}/links`)}async updateServiceLinks(r,a){return this.post(`/services/${r}/links`,{targets:a})}async discoverServices(r){const a=r?"?all=true":"";return this.get(`/services/discover${a}`)}async adoptContainer(r){return this.post("/services/adopt",r)}async cleanupContainer(r){return this.post("/services/cleanup",r)}async listRoutes(){return(await this.get("/routes")).routes||[]}async listServiceRoutes(r){return(await this.get(`/services/${r}/routes`)).routes||[]}async getProjectRoutes(r){return(await this.get(`/projects/${r}/routes`)).routes||[]}async createRoute(r,a){const s=await this.post(`/services/${r}/routes`,a);return this.logAuditEvent("route.create",{action:"route_created",service_id:r,domain:a.domain,path:a.path||"/",port:a.port,tls:a.tls||!1,route_id:s.id,timestamp:new Date().toISOString()}).catch(console.warn),s}async deleteRoute(r){return this.logAuditEvent("route.delete",{action:"route_deleted",route_id:r,timestamp:new Date().toISOString()}).catch(console.warn),this.delete(`/routes/${r}`)}async checkRouteHealth(r){try{const s=(await fetch(`${this.baseURL}/v1/routes/${r}/check`,{method:"HEAD",headers:{...this.token&&{Authorization:`Bearer ${this.token}`}},signal:AbortSignal.timeout(1e3)})).ok?"OK":"FAIL",n=new Date().toISOString();return{status:s,checked_at:n}}catch{return{status:"FAIL",checked_at:new Date().toISOString()}}}async nginxReload(){const r=await this.post("/system/nginx/reload");return this.logAuditEvent("nginx.reload",{action:"nginx_configuration_reload",timestamp:new Date().toISOString()}).catch(console.warn),r}async getAllRoutes(){return this.listRoutes()}async getMetrics(){return this.get("/metrics")}async systemLockdown(r){return this.post("/system/lockdown",{reason:r})}async liftLockdown(){return this.post("/system/lift-lockdown")}async getLockdownStatus(){return this.get("/system/lockdown-status")}async getSystemStatus(){return this.get("/system/status")}async emergencyRestart(){return this.post("/system/emergency-restart")}async getSystemLogs(r="system",a=50){return this.get(`/system/logs?path=${r}&lines=${a}`)}async getLogPaths(){return this.get("/system/log-paths")}async createBackup(){const r=`${this.baseURL}/v1/system/backup`,a={method:"POST",headers:{...this.token&&{Authorization:`Bearer ${this.token}`}}},s=await fetch(r,a);if(!s.ok)throw s.status===401?(this.clearToken(),window.location.pathname.includes("/login")||(window.location.href="/login"),new Error("Authentication failed")):new Error(`Failed to create backup: ${s.status}`);return s.blob()}async restoreBackup(r){const a=new FormData;a.append("backup",r);const s=`${this.baseURL}/v1/system/restore`,n={method:"POST",headers:{...this.token&&{Authorization:`Bearer ${this.token}`}},body:a},i=await fetch(s,n);if(!i.ok){if(i.status===401)throw this.clearToken(),window.location.pathname.includes("/login")||(window.location.href="/login"),new Error("Authentication failed");const o=await i.json().catch(()=>({}));throw new Error(o.error||`Failed to restore backup: ${i.status}`)}return i.json()}async getSystemPlan(){return this.get("/system/plan")}async search(r,a){const s=new URLSearchParams({q:r});return a!=null&&a.type&&s.append("type",a.type),a!=null&&a.projectId&&s.append("project_id",a.projectId.toString()),a!=null&&a.limit&&s.append("limit",a.limit.toString()),a!=null&&a.offset&&s.append("offset",a.offset.toString()),this.get(`/search?${s.toString()}`)}async suggest(r,a){const s=new URLSearchParams({q:r});return a!=null&&a.type&&s.append("type",a.type),a!=null&&a.projectId&&s.append("project_id",a.projectId.toString()),a!=null&&a.limit&&s.append("limit",a.limit.toString()),this.get(`/search/suggest?${s.toString()}`)}async getSearchStatus(){return this.get("/search/status")}async getTokens(){return(await this.get("/tokens")).tokens||[]}async createToken(r){return this.post("/tokens",r)}async deleteToken(r){return this.delete(`/tokens/${r}`)}async getClients(){return(await this.get("/clients")).clients||[]}async touchClient(r){return this.post("/clients/touch",r)}async getAuthInfo(){var r,a;try{const s=await this.get("/auth/me");return s.authenticated?{token_name:((r=s.user)==null?void 0:r.login)||"unknown",role:((a=s.user)==null?void 0:a.role)||"viewer",method:s.auth_method||"token",user:s.auth_method==="session"&&s.user?{login:s.user.login,name:s.user.name,avatar_url:s.user.avatar_url}:void 0}:null}catch{return null}}async getLicense(){return this.get("/system/license")}async activateLicense(r){return this.post("/system/license/activate",{license_base64:r})}async deactivateLicense(){return this.post("/system/license/deactivate")}async downloadSupportBundle(){const r=`${this.baseURL}/v1/support/bundle`,a=await fetch(r,{method:"POST",headers:{...this.token&&{Authorization:`Bearer ${this.token}`}}});if(!a.ok)throw new Error("Failed to download support bundle");return a.blob()}async logAuditEvent(r,a){try{await this.post("/system/audit",{event_type:r,data:a,timestamp:new Date().toISOString(),user_agent:navigator.userAgent})}catch(s){console.warn("Failed to log audit event:",s)}}async dockerHubSearch(r,a=25){return await this.get(`/dockerhub/search?query=${encodeURIComponent(r)}&page_size=${a}`)}async dockerHubRepository(r){return this.get(`/dockerhub/repo/${r}`)}async dockerHubTags(r,a=10){return this.get(`/dockerhub/tags/${r}?page_size=${a}`)}async getRegistries(){return this.get("/registries")}async getRegistryTypes(){return this.get("/registries/types")}async createRegistry(r){return this.post("/registries",r)}async deleteRegistry(r){return this.delete(`/registries/${r}`)}async testRegistryConnection(r){return this.post(`/registries/${r}/test`,{})}}const $=new Co,be=(t,r=[])=>{const[a,s]=g(null),[n,i]=g(!0),[o,l]=g(null),c=async()=>{try{i(!0),l(null);const h=await t();s(h)}catch(h){console.error("API error:",h),l(h instanceof Error?h.message:"Failed to fetch data"),s(null)}finally{i(!1)}};return K(()=>{c()},r),{data:a,loading:n,error:o,refetch:c}},Dn=t=>t&&t.error==="quota_exceeded"&&"limit"in t&&"plan"in t;function So(){var L,w;const[t,r]=g([]),[a,s]=g([]),[n,i]=g(""),[o,l]=g(!1),[c,h]=g(""),[m,d]=g(!1),[u,p]=g(100),x=k=>{var M;const R=k.match(/^(\d{4}-\d{2}-\d{2}[T ]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)/),P=k.match(/\b(TRACE|DEBUG|INFO|WARN|ERROR|FATAL|PANIC)\b/i);return{timestamp:R==null?void 0:R[1],level:(M=P==null?void 0:P[1])==null?void 0:M.toUpperCase(),message:k.replace(/^[^\]]*\]\s*/,"").replace(/^\d{4}-\d{2}-\d{2}[T ]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?\s*/,""),raw:k}},y=async()=>{try{const k=await $.getLogPaths(),R=k.log_paths||k.paths||[];s(R.map(P=>({path:P.path,name:P.name,description:P.description}))),R&&R.length>0&&!n&&i(R[0].path)}catch(k){console.error("Failed to fetch log paths:",k),h(k instanceof Error?k.message:"Failed to fetch log paths")}},b=async k=>{if(!(!k&&!n)){l(!0),h("");try{const R=k||n,M=((await $.getSystemLogs(R,u)).logs||[]).map(x);r(M)}catch(R){console.error("Failed to fetch logs:",R),h(R instanceof Error?R.message:"Failed to fetch logs")}finally{l(!1)}}},O=k=>{i(k),b(k)},_=k=>{p(k),n&&b()};K(()=>{let k;return m&&n&&(k=window.setInterval(()=>{b()},5e3)),()=>{k&&clearInterval(k)}},[m,n,u]),K(()=>{y()},[]),K(()=>{n&&b()},[n]);const I=k=>{switch(k){case"ERROR":case"FATAL":case"PANIC":return"text-red-400";case"WARN":return"text-yellow-400";case"INFO":return"text-blue-400";case"DEBUG":return"text-gray-400";case"TRACE":return"text-gray-500";default:return"text-gray-300"}},B=k=>{if(!k)return"";try{return new Date(k).toLocaleTimeString()}catch{return k}};return e("div",{class:"space-y-6 fade-in",children:[e("div",{children:[e("h1",{class:"text-3xl font-bold mb-2",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] via-[#9c40ff] to-[#e94057] bg-clip-text text-transparent",children:"System Logs"})}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"View and monitor system logs in real-time"})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg",children:[e("div",{class:"flex flex-wrap items-center gap-4",children:[e("div",{class:"flex items-center space-x-2",children:[e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Source:"}),e("select",{value:n,onChange:k=>O(k.target.value),class:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"",children:"Select log source..."}),a.map(k=>e("option",{value:k.path,children:k.name},k.path))]})]}),e("div",{class:"flex items-center space-x-2",children:[e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Lines:"}),e("select",{value:u,onChange:k=>_(parseInt(k.target.value)),class:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 text-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:50,children:"50"}),e("option",{value:100,children:"100"}),e("option",{value:200,children:"200"}),e("option",{value:500,children:"500"}),e("option",{value:1e3,children:"1000"})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("label",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Auto-refresh:"}),e("label",{class:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",class:"sr-only peer",checked:m,onChange:k=>d(k.target.checked)}),e("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e("button",{onClick:()=>b(),disabled:!n||o,class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm leading-4 font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[o&&e(Jt,{size:"sm"}),e("svg",{class:`w-4 h-4 ${o?"ml-2":"mr-2"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),n&&a.length>0&&e("div",{class:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800/30",children:e("div",{class:"flex items-start space-x-2",children:[e("svg",{class:"w-4 h-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{class:"text-sm",children:[e("div",{class:"font-medium text-blue-800 dark:text-blue-200",children:(L=a.find(k=>k.path===n))==null?void 0:L.name}),e("div",{class:"text-blue-600 dark:text-blue-300 mt-1",children:(w=a.find(k=>k.path===n))==null?void 0:w.description}),e("div",{class:"text-blue-500 dark:text-blue-400 text-xs font-mono mt-1",children:n})]})]})})]}),c&&e("div",{class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/30 rounded-lg p-4",children:e("div",{class:"flex items-center space-x-2",children:[e("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{class:"text-red-800 dark:text-red-200",children:[e("div",{class:"font-medium",children:"Error loading logs"}),e("div",{class:"text-sm mt-1",children:c})]})]})}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg overflow-hidden",children:[e("div",{class:"p-4 border-b border-gray-200 dark:border-gray-700",children:e("div",{class:"flex items-center justify-between",children:[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Log Output"}),e("div",{class:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[m&&e("div",{class:"flex items-center space-x-1",children:[e("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e("span",{children:"Auto-refreshing"})]}),e("span",{children:[t.length," lines"]})]})]})}),e("div",{class:"relative",children:o&&t.length===0?e("div",{class:"flex items-center justify-center p-12",children:e("div",{class:"text-center",children:[e(Jt,{size:"lg"}),e("p",{class:"text-gray-500 dark:text-gray-400 mt-4",children:"Loading logs..."})]})}):t.length===0?e("div",{class:"flex items-center justify-center p-12",children:e("div",{class:"text-center",children:[e("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No logs available"}),e("p",{class:"text-gray-500 dark:text-gray-400 mb-4",children:n?"The selected log source has no entries or the log file doesn't exist yet":"Please select a log source to view"}),n&&c&&e("div",{class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800/30 rounded-lg p-4 mt-4",children:e("div",{class:"flex items-start space-x-2",children:[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{class:"text-sm",children:[e("div",{class:"font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Development Environment"}),e("div",{class:"text-blue-600 dark:text-blue-300",children:c==="failed to read logs"?e("div",{children:[e("p",{class:"mb-2",children:"Log files haven't been created yet in this development environment."}),e("p",{class:"text-xs mb-3",children:[e("strong",{children:"Expected behavior:"})," In production, system logs are automatically generated. In development, logs will appear once the system generates events."]}),e("button",{onClick:()=>{const k=["2025-01-27T15:30:00Z INFO Starting GLINR Dock system","2025-01-27T15:30:01Z INFO Docker connection established","2025-01-27T15:30:02Z WARN No existing projects found","2025-01-27T15:30:03Z INFO System ready for connections","2025-01-27T15:30:04Z DEBUG Health check passed"].map(x);r(k),h("")},class:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded-lg transition-colors",children:"Show Sample Logs"})]}):e("p",{children:["Error: ",c]})})]})]})})]})}):e("div",{class:"bg-gray-900 dark:bg-black text-sm font-mono overflow-auto max-h-96",children:e("div",{class:"p-4 space-y-1",children:t.map((k,R)=>e("div",{class:"flex items-start space-x-3 hover:bg-gray-800 dark:hover:bg-gray-900 px-2 py-1 rounded",children:[k.timestamp&&e("span",{class:"text-gray-400 text-xs whitespace-nowrap flex-shrink-0 mt-0.5",children:B(k.timestamp)}),k.level&&e("span",{class:`text-xs font-bold whitespace-nowrap flex-shrink-0 mt-0.5 ${I(k.level)}`,children:k.level}),e("span",{class:"text-gray-100 whitespace-pre-wrap break-all flex-1",children:k.message||k.raw})]},R))})})})]})]})}function Lo({planInfo:t}){return e("div",{class:"relative overflow-hidden",children:[e("div",{class:"absolute inset-0 bg-gradient-to-br from-[#ffaa40]/5 via-[#9c40ff]/5 to-[#8b008b]/5 rounded-2xl"}),e("div",{class:"relative p-8 rounded-2xl border border-gray-200/20 dark:border-gray-700/20",children:e("div",{class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[e("div",{children:[e("h1",{class:"text-3xl lg:text-4xl font-bold mb-3",children:e("span",{class:"bg-gradient-to-r from-[#ffaa40] via-[#9c40ff] to-[#8b008b] bg-clip-text text-transparent",children:"Welcome to GLINRDOCK"})}),e("p",{class:"text-gray-600 dark:text-gray-300 text-lg mb-4",children:"Your powerful Platform as a Service infrastructure at a glance"}),e("div",{class:"flex flex-wrap items-center gap-4",children:[e("div",{class:"flex items-center space-x-2 px-3 py-1.5 bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 rounded-full border border-emerald-500/20",children:[e("div",{class:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),e("span",{class:"text-sm font-medium",children:"System Online"})]}),t&&e("div",{class:"flex items-center space-x-2 px-3 py-1.5 bg-[#9c40ff]/10 text-[#9c40ff] rounded-full border border-[#9c40ff]/20",children:e("span",{class:"text-sm font-medium",children:[t.plan_name," Plan"]})})]})]}),e("div",{class:"flex-shrink-0",children:e("div",{class:"w-32 h-32 bg-gradient-to-br from-[#ffaa40] via-[#9c40ff] to-[#8b008b] rounded-3xl flex items-center justify-center shadow-2xl shadow-[#9c40ff]/25",children:e("svg",{class:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})})]})})]})}function Mo({projects:t,totalServices:r,totalRoutes:a,systemInfo:s,onPageChange:n}){const i=o=>{if(!o)return"Unknown";const l=o.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+(?:\.\d+)?)s)?/);if(!l)return o;const[,c,h,m]=l,d=[];return c&&parseInt(c)>0&&d.push(`${c}h`),h&&parseInt(h)>0&&d.push(`${h}m`),m&&!c&&!h&&d.push(`${Math.floor(parseFloat(m))}s`),d.join(" ")||"0s"};return e("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e("div",{class:"card gradient-card card-interactive cursor-pointer shadow-lg shadow-[#9c40ff]/20 hover:shadow-xl hover:shadow-[#9c40ff]/30",onClick:()=>n==null?void 0:n("projects"),title:"View all projects",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Projects"}),e("p",{class:"text-2xl font-bold text-[#9c40ff]",children:(t==null?void 0:t.length)||0})]}),e("div",{class:"w-12 h-12 bg-[#9c40ff]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-6 h-6 text-[#9c40ff]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 1v6"})]})})]})}),e("div",{class:"card gradient-card card-interactive cursor-pointer shadow-lg shadow-[#10b981]/20 hover:shadow-xl hover:shadow-[#10b981]/30",onClick:()=>n==null?void 0:n("services"),title:"View all services",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Services"}),e("p",{class:"text-2xl font-bold text-[#10b981]",children:r})]}),e("div",{class:"w-12 h-12 bg-[#10b981]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-6 h-6 text-[#10b981]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})})]})}),e("div",{class:"card gradient-card card-interactive cursor-pointer shadow-lg shadow-[#8b008b]/20 hover:shadow-xl hover:shadow-[#8b008b]/30",onClick:()=>n==null?void 0:n("routes"),title:"View all routes",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Routes"}),e("p",{class:"text-2xl font-bold text-[#8b008b]",children:a})]}),e("div",{class:"w-12 h-12 bg-[#8b008b]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-6 h-6 text-[#8b008b]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})})]})}),e("div",{class:"card gradient-card shadow-lg shadow-[#f59e0b]/20",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Uptime"}),s?e("p",{class:"text-2xl font-bold text-[#f59e0b]",children:i(s.uptime)}):e("div",{class:"skeleton h-8 w-16"})]}),e("div",{class:"w-12 h-12 bg-[#f59e0b]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-6 h-6 text-[#f59e0b]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]})}function wt(t){var r=t.width,a=t.height;if(r<0)throw new Error("Negative width is not allowed for Size");if(a<0)throw new Error("Negative height is not allowed for Size");return{width:r,height:a}}function Or(t,r){return t.width===r.width&&t.height===r.height}var jo=function(){function t(r){var a=this;this._resolutionListener=function(){return a._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=r,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(r){var a=this,s={next:r};return this._observers.push(s),{unsubscribe:function(){a._observers=a._observers.filter(function(n){return n!==s})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var r=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(r,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var r=this;this._observers.forEach(function(a){return a.next(r._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function Po(t){return new jo(t)}(function(){function t(r,a,s){var n;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=r,this._canvasElementClientSize=wt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=a??function(i){return i},this._allowResizeObserver=(n=s==null?void 0:s.allowResizeObserver)!==null&&n!==void 0?n:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var r,a;if(this._canvasElement===null)throw new Error("Object is disposed");(r=this._canvasElementResizeObserver)===null||r===void 0||r.disconnect(),this._canvasElementResizeObserver=null,(a=this._devicePixelRatioObservable)===null||a===void 0||a.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return wt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(r){this._canvasElementClientSize=wt(r),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(r){this._bitmapSizeChangedListeners.push(r)},t.prototype.unsubscribeBitmapSizeChanged=function(r){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(a){return a!==r})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(r){this._suggestedBitmapSizeChangedListeners.push(r)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(r){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(a){return a!==r})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var r=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(r),this._emitSuggestedBitmapSizeChanged(r,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(r){var a=this.bitmapSize;Or(a,r)||(this.canvasElement.width=r.width,this.canvasElement.height=r.height,this._emitBitmapSizeChanged(a,r))},t.prototype._emitBitmapSizeChanged=function(r,a){var s=this;this._bitmapSizeChangedListeners.forEach(function(n){return n.call(s,r,a)})},t.prototype._suggestNewBitmapSize=function(r){var a=this._suggestedBitmapSize,s=wt(this._transformBitmapSize(r,this._canvasElementClientSize)),n=Or(this.bitmapSize,s)?null:s;a===null&&n===null||a!==null&&n!==null&&Or(a,n)||(this._suggestedBitmapSize=n,this._emitSuggestedBitmapSizeChanged(a,n))},t.prototype._emitSuggestedBitmapSizeChanged=function(r,a){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(n){return n.call(s,r,a)})},t.prototype._chooseAndInitObserver=function(){var r=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}No().then(function(a){return a?r._initResizeObserver():r._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var r=this;if(this._canvasElement!==null){var a=is(this._canvasElement);if(a===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Po(a),this._devicePixelRatioObservable.subscribe(function(){return r._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var r,a;if(this._canvasElement!==null){var s=is(this._canvasElement);if(s!==null){var n=(a=(r=this._devicePixelRatioObservable)===null||r===void 0?void 0:r.value)!==null&&a!==void 0?a:s.devicePixelRatio,i=this._canvasElement.getClientRects(),o=i[0]!==void 0?Eo(i[0],n):wt({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(o)}}},t.prototype._initResizeObserver=function(){var r=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(a){var s=a.find(function(o){return o.target===r._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var n=s.devicePixelContentBoxSize[0],i=wt({width:n.inlineSize,height:n.blockSize});r._suggestNewBitmapSize(i)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t})();function is(t){return t.ownerDocument.defaultView}function No(){return new Promise(function(t){var r=new ResizeObserver(function(a){t(a.every(function(s){return"devicePixelContentBoxSize"in s})),r.disconnect()});r.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Eo(t,r){return wt({width:Math.round(t.left*r+t.width*r)-Math.round(t.left*r),height:Math.round(t.top*r+t.height*r)-Math.round(t.top*r)})}(function(){function t(r,a,s){if(a.width===0||a.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=a,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=r}return t.prototype.useMediaCoordinateSpace=function(r){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),r({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(r){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),r({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t})();/*!
 * @license
 * TradingView Lightweight Charts™ v5.0.8
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */var os,ls;(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(os||(os={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(ls||(ls={}));function Rn(t){return typeof t=="number"&&isFinite(t)}function An(t){return typeof t=="number"&&t%1==0}var ds;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(ds||(ds={}));class Do{formatTickmarks(r){return r.map(a=>this.format(a))}}const cs=".";function hs(t,r){if(!Rn(t))return"n/a";if(!An(r))throw new TypeError("invalid length");if(r<0||r>16)throw new TypeError("invalid length");return r===0?t.toString():("0000000000000000"+t.toString()).slice(-r)}class In extends Do{constructor(r,a){if(super(),a||(a=1),Rn(r)&&An(r)||(r=100),r<0)throw new TypeError("invalid base");this.Yi=r,this.Mn=a,this.bn()}format(r){const a=r<0?"−":"";return r=Math.abs(r),a+this.Sn(r)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let r=this.Yi;for(;r>1;)r/=10,this.xn++}}Sn(r){const a=this.Yi/this.Mn;let s=Math.floor(r),n="";const i=this.xn!==void 0?this.xn:NaN;if(a>1){let o=+(Math.round(r*a)-s*a).toFixed(this.xn);o>=a&&(o-=a,s+=1),n=cs+hs(+o.toFixed(this.xn)*this.Mn,i)}else s=Math.round(s*a)/a,i>0&&(n=cs+hs(0,i));return s.toFixed(0)+n}}class Ro extends In{constructor(r=100){super(r)}format(r){return`${super.format(r)}%`}}function Tn(t,r,a,s,n=0,i=r.length){let o=i-n;for(;0<o;){const l=o>>1,c=n+l;s(r[c],a)===t?(n=c+1,o-=l+1):o=l}return n}Tn.bind(null,!0);Tn.bind(null,!1);var us;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(us||(us={}));var gs;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(gs||(gs={}));new Ro;new In(100,1);var ms,ps,xs,bs,fs;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(ms||(ms={}));(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(ps||(ps={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(xs||(xs={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(bs||(bs={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(fs||(fs={}));const ys=typeof window<"u";var Ts;ys&&navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&ys&&((Ts=navigator==null?void 0:navigator.userAgentData)!=null&&Ts.platform?navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ao=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase()),ks=t=>{const r=Ao(t);return r.charAt(0).toUpperCase()+r.slice(1)},Io=(...t)=>t.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim();/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var To={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=({color:t="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:n,iconNode:i,class:o="",...l})=>He("svg",{...To,width:String(r),height:r,stroke:t,"stroke-width":s?Number(a)*24/Number(r):a,class:["lucide",o].join(" "),...l},[...i.map(([c,h])=>He(c,h)),...gt(n)]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(t,r)=>{const a=({class:s="",children:n,...i})=>He($o,{...i,iconNode:r,class:Io(`lucide-${vs(ks(t))}`,`lucide-${vs(t)}`,s)},n);return a.displayName=ks(t),a};/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Q("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Q("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Q("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Q("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Q("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Q("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Q("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Q("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Q("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Q("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Q("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Q("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Q("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Q("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Q("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Q("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Q("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Q("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Q("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Q("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Q("container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Q("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Q("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=Q("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Q("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Q("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Q("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Q("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Q("file-search",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=Q("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Q("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Q("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Q("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Q("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Q("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=Q("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=Q("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Q("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Q("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Q("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Q("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Q("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Q("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Q("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Q("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Q("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Q("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Q("memory-stick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Q("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Q("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Q("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Q("network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Q("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Q("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Q("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Q("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Q("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Q("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Q("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Q("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=Q("route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Q("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Q("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=Q("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Q("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Q("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Q("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Q("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Q("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=Q("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=Q("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Q("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Q("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Q("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Q("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=Q("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Q("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Q("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]);/**
 * @license lucide-preact v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=Q("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ja(t){const r=new Date,a=new Date(t),s=r.getTime()-a.getTime(),n=Math.floor(s/1e3),i=Math.floor(n/60),o=Math.floor(i/60),l=Math.floor(o/24),c=Math.floor(l/7),h=Math.floor(l/30);return n<60?n<=1?"just now":`${n}s ago`:i<60?`${i}m ago`:o<24?`${o}h ago`:l<7?`${l}d ago`:l<30?`${c}w ago`:`${h}mo ago`}function cl(t){if(t<1)return`${Math.round(t*60)}min`;if(t<24)return`${t.toFixed(1)}h`;{const r=Math.floor(t/24),a=Math.round(t%24);return a===0?`${r}d`:`${r}d ${a}h`}}function hl({historicalMetrics:t,selectedTimeRange:r,dataUpdateCount:a,lastRefresh:s,renderTime:n,isAutoRefreshEnabled:i,isPaused:o,autoRefreshInterval:l,refreshIntervals:c}){return e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(()=>{var b;if(!((b=t==null?void 0:t.metrics)!=null&&b.length))return`Historical metrics • ${r.toUpperCase()} range`;const m=t.metrics,d=new Date(m[0].timestamp),p=(new Date(m[m.length-1].timestamp).getTime()-d.getTime())/(1e3*60*60),y=Math.min(100,p/(r==="1h"?1:r==="24h"?24:168)*100);return y<95?`${m.length} points • ${cl(p)} of ${r.toUpperCase()} (${y.toFixed(0)}% coverage)`:`${m.length} data points • ${r.toUpperCase()} range`})()})}function ul({lastRefresh:t,dataUpdateCount:r,renderTime:a,isAutoRefreshEnabled:s,isPaused:n,autoRefreshInterval:i,refreshIntervals:o}){var l;return e(ae,{children:[e("span",{class:"text-xs text-gray-500",children:["Updated: ",t.toLocaleTimeString()]}),e("span",{class:"text-xs text-gray-500",title:"Data refresh count",children:["v",r]}),a>0&&e("span",{class:"text-xs text-gray-500",title:"Chart render time",children:["• ",a,"ms"]}),s&&!n&&e("span",{class:"flex items-center gap-1 text-xs text-gray-500",title:"Auto-refresh active",children:["• Auto: ",(l=o.find(c=>c.value===i))==null?void 0:l.label,e("svg",{class:"w-2.5 h-2.5 animate-pulse text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),n&&e("span",{class:"text-xs text-red-400",title:"Data refresh is paused",children:"• Paused"})]})}function gl({systemMetrics:t}){var Qe,Ye,$e,_e,Be,De;const r=Ge(null),a=Ge(null),s=Ge(null),n=Ge(null),i=Ge(null),[o,l]=g("1h"),[c,h]=g(!1),[m,d]=g(5e3),[u,p]=g(!0),x=[{value:3e3,label:"3s"},{value:5e3,label:"5s"},{value:1e4,label:"10s"},{value:15e3,label:"15s"},{value:3e4,label:"30s"},{value:6e4,label:"1m"},{value:3e5,label:"5m"}],y=[{value:"1h",label:"1H",duration:"1h"},{value:"24h",label:"24H",duration:"24h"},{value:"7d",label:"7D",duration:"168h"}],[b,O]=g(null),[_,I]=g(!0),[B,L]=g(new Date),[w,k]=g(0),[R,P]=g(0),[M,C]=g(0),[T,D]=g(0),[v,A]=g(!1),[G,f]=g(0),[S,H]=g(0),[U,j]=g({visible:!1,x:0,y:0,content:"",chart:""}),[V,oe]=g(!document.hidden);K(()=>{const J=()=>{oe(!document.hidden)};return document.addEventListener("visibilitychange",J),()=>document.removeEventListener("visibilitychange",J)},[]),K(()=>{if(c){I(!1);return}(async()=>{var N;try{I(!0);const W=(N=y.find(Y=>Y.value===o))==null?void 0:N.duration,X=await $.getLatestHistoricalMetrics(1e3,W),ue={...X,metrics:X.metrics?[...X.metrics]:[]};O(ue),L(new Date),k(Y=>Y+1),P(Y=>Y+1)}catch{O(null)}finally{I(!1)}})()},[o,c]),K(()=>{if(c||!u||!V)return;const J=setInterval(()=>{var N;if(!c&&u&&V){const W=(N=y.find(X=>X.value===o))==null?void 0:N.duration;$.getLatestHistoricalMetrics(1e3,W).then(X=>{const ue={...X,metrics:X.metrics?[...X.metrics]:[]};if(O(ue),L(new Date),k(Y=>Y+1),P(Y=>Y+1),X.metrics&&X.metrics.length>0){const Y=X.metrics[X.metrics.length-1];Y.cpu_percent!==void 0&&H(Y.cpu_percent)}}).catch(X=>{})}},m);return()=>clearInterval(J)},[m,c,u,o,V]),K(()=>()=>{[r,a,s,n,i].forEach(J=>{if(J.current){const N=J.current;N.removeEventListener("mousemove",N.onmousemove),N.removeEventListener("mouseleave",N.onmouseleave)}}),j(J=>({...J,visible:!1}))},[]);const fe=(J,N=1)=>{if(J===0)return"0 B";const W=1024,X=N<0?0:N,ue=["B","KB","MB","GB","TB"],Y=Math.floor(Math.log(J)/Math.log(W));return parseFloat((J/Math.pow(W,Y)).toFixed(X))+" "+ue[Y]},Ie=(J,N,W,X,ue)=>{const Y=J.getContext("2d");if(!Y)return;const re=J.getBoundingClientRect(),de=re.width||120,ie=re.height||20,ne=window.devicePixelRatio||1;if(J.width=Math.floor(de*ne),J.height=Math.floor(ie*ne),J.style.width=de+"px",J.style.height=ie+"px",Y.scale(ne,ne),Y.clearRect(0,0,de,ie),N.length===0)return;const pe=de,me=ie,he=2,E=Math.max(pe-he*2,5),q=Math.max(me-he*2,5),Z=Math.max(...N,1),se=Math.min(...N,0),te=Z-se||1,ee=Y.createLinearGradient(0,0,0,me);ee.addColorStop(0,W+"40"),ee.addColorStop(1,W+"10"),Y.beginPath(),Y.moveTo(he,me-he),N.forEach((ce,je)=>{const Ce=he+(N.length>1?je/(N.length-1)*E:E/2),Ve=Math.max(se,Math.min(Z,ce)),We=me-he-(Ve-se)/te*q;Y.lineTo(Ce,We)}),Y.lineTo(pe-he,me-he),Y.closePath(),Y.fillStyle=ee,Y.fill(),Y.beginPath(),N.forEach((ce,je)=>{const Ce=he+(N.length>1?je/(N.length-1)*E:E/2),Ve=Math.max(se,Math.min(Z,ce)),We=me-he-(Ve-se)/te*q;je===0?Y.moveTo(Ce,We):Y.lineTo(Ce,We)}),Y.strokeStyle=W,Y.lineWidth=1,Y.lineCap="round",Y.lineJoin="round",Y.stroke()},Te=(J,N,W,X,ue)=>{if(!J||!N||!Array.isArray(N)||N.length===0)return;const Y=J.getContext("2d");if(!Y)return;const re=J.getBoundingClientRect(),de=re.width||300,ie=re.height||120,ne=window.devicePixelRatio||1;J.width=Math.floor(de*ne),J.height=Math.floor(ie*ne),J.style.width=de+"px",J.style.height=ie+"px",Y.scale(ne,ne),Y.clearRect(0,0,de,ie);const pe=de,me=ie;let he=[...N];const E=200;if(he.length>E){const le=Math.ceil(he.length/E);he=he.filter((Pe,ye)=>ye%le===0||ye===he.length-1)}if(he=he.filter(le=>typeof le=="number"&&!isNaN(le)&&isFinite(le)),he.length===0)return;const q=Math.min(...he,0),Z=Math.max(...he,1),se=Z-q,te=Math.max(.001,se),ee=25,ce=Math.max(pe-ee*2,10),je=Math.max(me-ee*2,10);Y.save(),Y.rect(ee,ee,ce,je),Y.clip();const Ce=Y.createLinearGradient(0,ee,0,me-ee);Ce.addColorStop(0,W+"40"),Ce.addColorStop(1,W+"00");const Ve=le=>{const ye=(Math.max(q,Math.min(Z,le))-q)/te,ve=me-ee-ye*je;return Math.max(ee,Math.min(me-ee,ve))};Y.beginPath(),Y.moveTo(ee,me-ee),he.forEach((le,Pe)=>{const ye=ee+(he.length>1?Pe/(he.length-1)*ce:ce/2),ve=Ve(le);Y.lineTo(ye,ve)}),Y.lineTo(pe-ee,me-ee),Y.closePath(),Y.fillStyle=Ce,Y.fill(),Y.beginPath(),he.forEach((le,Pe)=>{const ye=ee+(he.length>1?Pe/(he.length-1)*ce:ce/2),ve=Ve(le);Pe===0?Y.moveTo(ye,ve):Y.lineTo(ye,ve)}),Y.strokeStyle=W,Y.lineWidth=1.5,Y.lineCap="round",Y.lineJoin="round",Y.stroke(),Y.restore();const We=le=>{var Je;const Pe=J.getBoundingClientRect(),ye=le.clientX-Pe.left,ve=le.clientY-Pe.top;let Ne=null,ot=15;if(he.forEach((Ze,Ue)=>{const st=ee+(he.length>1?Ue/(he.length-1)*ce:ce/2),Re=Ve(Ze),ze=Math.sqrt((ye-st)**2+(ve-Re)**2);ze<ot&&(Ne={value:Ze,index:Ue,x:st,y:Re},ot=ze)}),Ne){const Ze=X==="Network"?`${Ne.value.toFixed(2)} Mbps`:`${Math.round(Ne.value)}%`,Ue=he.length-Ne.index-1,st=(Je=ue==null?void 0:ue[Ne.index])==null?void 0:Je.timestamp,Re=st?ja(st):Ue===0?"now":`${Ue} points ago`;j({visible:!0,x:le.clientX+10,y:le.clientY-10,content:`${X}: ${Ze}
${Re}`,chart:X}),J.style.cursor="pointer"}else j(Ze=>({...Ze,visible:!1})),J.style.cursor="default"},at=()=>{j(le=>({...le,visible:!1})),J.style.cursor="default"};J.removeEventListener("mousemove",J.onmousemove),J.removeEventListener("mouseleave",J.onmouseleave),J.addEventListener("mousemove",We),J.addEventListener("mouseleave",at),J.onmousemove=We,J.onmouseleave=at};return K(()=>{var X,ue,Y,re,de,ie;if(!t||!r.current||!a.current||!s.current)return;const J=performance.now();if(D(J),b&&b.metrics&&b.metrics.length>0){const ne=b.metrics,pe=new Date(ne[0].timestamp);(new Date(ne[ne.length-1].timestamp).getTime()-pe.getTime())/(1e3*60*60);const he=ne.map(te=>te.cpu_percent),E=he[he.length-1];H(E),Te(r.current,he,"#10b981","CPU",ne);const q=ne.map(te=>te.memory_used/te.memory_total*100);((ue=(X=t.resources)==null?void 0:X.memory)==null?void 0:ue.used_percent)!==void 0&&q.push(t.resources.memory.used_percent),Te(a.current,q,"#3b82f6","Memory",ne);const Z=[];for(let te=1;te<ne.length;te++){const ee=(new Date(ne[te].timestamp).getTime()-new Date(ne[te-1].timestamp).getTime())/1e3,ce=ne[te].network_rx-ne[te-1].network_rx,Ce=(ee>0?ce/ee:0)*8/(1024*1024);Z.push(Math.max(0,Ce))}Z.length===0&&ne.forEach(te=>{const ee=te.network_rx*8/1048576;Z.push(ee)});const se=Z.length>0?Z[Z.length-1]:0;if(f(se),Math.max(...Z,.001),Te(s.current,Z,"#f59e0b","Network",ne),n.current){const te=[...((Y=t==null?void 0:t.performance)==null?void 0:Y.load_average)||[0,0,0],((de=(re=t==null?void 0:t.performance)==null?void 0:re.load_average)==null?void 0:de[0])||0];Ie(n.current,te,"#8b5cf6")}if(i.current){const te=((ie=t==null?void 0:t.performance)==null?void 0:ie.active_processes)||0;if(i.current){const ee=i.current,ce=ee.getContext("2d");ce&&(ce.clearRect(0,0,ee.width,ee.height),ce.fillStyle="rgba(6, 182, 212, 0.6)",ce.font="11px system-ui",ce.textAlign="center",ce.fillText(`${te} processes`,ee.width/2,ee.height/2))}}}else{H(t.resources.cpu.used_percent),f(t.resources.network.rx_rate||0);const ne=pe=>{if(pe){const me=pe.getContext("2d");me&&(me.clearRect(0,0,pe.width,pe.height),me.fillStyle="rgba(255, 255, 255, 0.1)",me.fillRect(0,0,pe.width,pe.height),me.fillStyle="rgba(255, 255, 255, 0.6)",me.font="12px system-ui",me.textAlign="center",me.fillText("Loading...",pe.width/2,pe.height/2))}};ne(r.current),ne(a.current),ne(s.current),ne(n.current),ne(i.current)}const N=performance.now(),W=Math.round(N-J);C(W)},[t,b,o,w,R]),t?e("div",{class:"space-y-6 relative",children:[e("div",{class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e("div",{children:[e("h2",{class:"text-xl font-bold",children:e("span",{class:"bg-gradient-to-r from-[#10b981] to-[#3b82f6] bg-clip-text text-transparent",children:"Resource Performance"})}),v&&e(hl,{historicalMetrics:b,selectedTimeRange:o,dataUpdateCount:w,lastRefresh:B,renderTime:M,isAutoRefreshEnabled:u,isPaused:c,autoRefreshInterval:m,refreshIntervals:x}),e("div",{class:"flex items-center gap-2",children:[e("button",{onClick:()=>A(!v),class:"flex items-center gap-1 px-2 py-1 text-xs rounded-md bg-gray-500/20 hover:bg-gray-500/30 transition-colors",title:v?"Hide details":"Show details",children:v?e(Ma,{size:12}):e(Dr,{size:12})}),v&&e(ul,{lastRefresh:B,dataUpdateCount:w,renderTime:M,isAutoRefreshEnabled:u,isPaused:c,autoRefreshInterval:m,refreshIntervals:x})]})]}),e("div",{class:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[e("div",{class:"flex items-center gap-3",children:[e("button",{onClick:()=>p(!u),class:`flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 ${u?"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30":"bg-gray-500/20 text-gray-400 hover:bg-gray-500/30"}`,title:u?"Disable auto-refresh":"Enable auto-refresh",children:[e("svg",{class:`w-3 h-3 ${u?"animate-spin":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Auto"]}),u&&e("select",{value:m,onChange:J=>d(Number(J.target.value)),disabled:c,class:"px-2 py-1.5 text-xs font-medium bg-white/10 dark:bg-gray-800/50 backdrop-blur-sm rounded-md border border-white/20 dark:border-gray-700 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50",children:x.map(J=>e("option",{value:J.value,class:"bg-white dark:bg-gray-800",children:J.label},J.value))}),e("button",{onClick:()=>h(!c),class:`flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 ${c?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-green-500/20 text-green-400 hover:bg-green-500/30"}`,title:c?"Resume data loading":"Pause data loading",children:[c?e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}):e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),c?"Resume":"Pause"]}),e("button",{onClick:()=>{var J;if(!c){const N=(J=y.find(W=>W.value===o))==null?void 0:J.duration;I(!0),$.getLatestHistoricalMetrics(1e3,N).then(W=>{const X={...W,metrics:W.metrics?[...W.metrics]:[]};if(O(X),L(new Date),k(ue=>ue+1),P(ue=>ue+1),W.metrics&&W.metrics.length>0){const ue=W.metrics[W.metrics.length-1];ue.cpu_percent!==void 0&&H(ue.cpu_percent)}}).finally(()=>I(!1))}},disabled:c||_,class:`flex items-center gap-2 px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 ${c||_?"bg-gray-500/20 text-gray-500 cursor-not-allowed":"bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30"}`,title:"Manual refresh",children:e("svg",{class:`w-3 h-3 ${_?"animate-spin":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})})]}),e("div",{class:"flex items-center gap-1 bg-white/10 dark:bg-gray-800/50 backdrop-blur-sm rounded-lg p-1",children:[y.map(J=>e("button",{onClick:()=>l(J.value),disabled:c,class:`px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 relative ${o===J.value?"bg-gradient-to-r from-[#10b981] to-[#3b82f6] text-white shadow-lg":c?"text-gray-500 dark:text-gray-600 cursor-not-allowed":"text-gray-600 dark:text-gray-300 hover:bg-white/20 dark:hover:bg-gray-700/50"}`,children:J.label},J.value)),_&&!c&&e("div",{class:"ml-2 w-4 h-4 border-2 border-[#10b981]/30 border-t-[#10b981] rounded-full animate-spin"})]})]})]}),e("div",{class:"grid lg:grid-cols-3 gap-6",children:[e("div",{class:"card gradient-card shadow-lg shadow-[#10b981]/20",children:[e("div",{class:"flex items-center justify-between mb-4",children:e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-8 h-8 bg-[#10b981]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-[#10b981]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})}),e("div",{children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"CPU Usage"}),e("p",{class:"text-lg font-bold text-[#10b981]",children:[(()=>{const J=b&&b.metrics&&b.metrics.length>0?b.metrics[b.metrics.length-1].cpu_percent:t.resources.cpu.used_percent;return J==null?void 0:J.toFixed(1)})(),"%",v&&e("span",{class:"text-xs text-gray-500 ml-2",children:["v",w]})]})]})]})}),e("div",{class:"relative w-full h-30 overflow-hidden rounded",style:"min-height: 120px;",children:e("canvas",{ref:r,class:"absolute inset-0 w-full h-full block"})})]}),e("div",{class:"card gradient-card shadow-lg shadow-[#3b82f6]/20",children:[e("div",{class:"flex items-center justify-between mb-4",children:e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-8 h-8 bg-[#3b82f6]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-[#3b82f6]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e("div",{children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Memory"}),e("p",{class:"text-lg font-bold text-[#3b82f6]",children:fe(t.resources.memory.used)})]})]})}),e("div",{class:"relative w-full h-30 overflow-hidden rounded",style:"min-height: 120px;",children:e("canvas",{ref:a,class:"absolute inset-0 w-full h-full block"})})]}),e("div",{class:"card gradient-card shadow-lg shadow-[#f59e0b]/20",children:[e("div",{class:"flex items-center justify-between mb-4",children:e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-8 h-8 bg-[#f59e0b]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-[#f59e0b]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e("div",{children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Network Rate"}),e("p",{class:"text-lg font-bold text-[#f59e0b]",children:[G.toFixed(2)," Mbps",v&&e("span",{class:"text-xs text-gray-500 ml-2",children:["v",w]})]})]})]})}),e("div",{class:"relative w-full h-30 overflow-hidden rounded",style:"min-height: 120px;",children:e("canvas",{ref:s,class:"absolute inset-0 w-full h-full block"})})]})]}),e("div",{class:"grid lg:grid-cols-4 gap-4",children:[e("div",{class:"card gradient-card shadow-lg shadow-[#f59e0b]/20",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-sm font-semibold text-[#f59e0b]",children:"Storage"}),e("div",{class:"text-lg font-bold text-[#f59e0b]",children:[t.resources.disk.used_percent.toFixed(0),"%"]})]}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:[fe(t.resources.disk.used)," / ",fe(t.resources.disk.total)]}),e("div",{class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e("div",{class:"bg-[#f59e0b] h-1.5 rounded-full",style:{width:`${Math.min(t.resources.disk.used_percent,100)}%`}})})]}),e("div",{class:"card gradient-card shadow-lg shadow-[#8b5cf6]/20",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-sm font-semibold text-[#8b5cf6]",children:"Load Avg"}),e("div",{class:"text-lg font-bold text-[#8b5cf6]",children:(Qe=t==null?void 0:t.performance)!=null&&Qe.load_average?t.performance.load_average[0].toFixed(1):"--"})]}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:(Ye=t==null?void 0:t.performance)!=null&&Ye.load_average?`${t.performance.load_average[0].toFixed(1)}, ${t.performance.load_average[1].toFixed(1)}, ${t.performance.load_average[2].toFixed(1)}`:"-- , -- , --"}),e("div",{class:"relative w-full h-5 overflow-hidden rounded",style:"min-height: 20px;",children:e("canvas",{ref:n,class:"absolute inset-0 w-full h-full block opacity-80"})})]}),e("div",{class:"card gradient-card shadow-lg shadow-[#06b6d4]/20",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-sm font-semibold text-[#06b6d4]",children:"Processes"}),e("div",{class:"text-lg font-bold text-[#06b6d4]",children:(($e=t==null?void 0:t.performance)==null?void 0:$e.active_processes)??"---"})]}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Active system processes"}),e("div",{class:"relative w-full h-5 overflow-hidden rounded",style:"min-height: 20px;",children:e("canvas",{ref:i,class:"absolute inset-0 w-full h-full block opacity-80"})})]}),e("div",{class:"card gradient-card shadow-lg shadow-[#ec4899]/20",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-sm font-semibold text-[#ec4899]",children:"File Desc"}),e("div",{class:"text-lg font-bold text-[#ec4899]",children:[(_e=t==null?void 0:t.performance)!=null&&_e.file_descriptors?Math.round(t.performance.file_descriptors.used/t.performance.file_descriptors.max*100):0,"%"]})]}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:(Be=t==null?void 0:t.performance)!=null&&Be.file_descriptors?`${t.performance.file_descriptors.used} / ${t.performance.file_descriptors.max}`:"--- / ---"}),e("div",{class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e("div",{class:"bg-[#ec4899] h-1.5 rounded-full",style:{width:`${(De=t==null?void 0:t.performance)!=null&&De.file_descriptors?Math.min(t.performance.file_descriptors.used/t.performance.file_descriptors.max*100,100):0}%`}})})]})]}),U.visible&&e("div",{class:"fixed z-50 px-3 py-2 text-sm bg-gray-900 dark:bg-gray-800 text-white rounded-lg shadow-xl border border-gray-700 pointer-events-none",style:{left:`${U.x}px`,top:`${U.y}px`,transform:"translate(-50%, -100%)"},children:[e("div",{class:"whitespace-pre-line",children:U.content}),e("div",{class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900 dark:border-t-gray-800"})]})]}):e("div",{class:"grid lg:grid-cols-3 gap-6",children:[1,2,3].map(J=>e("div",{class:"card gradient-card shadow-lg",children:e("div",{class:"skeleton h-32"})},J))})}function ml({projects:t,recentServices:r,onPageChange:a}){const s=i=>{switch(i==null?void 0:i.toLowerCase()){case"running":case"connected":case"online":return"text-emerald-500";case"stopped":case"disconnected":case"offline":return"text-red-500";case"starting":case"pending":return"text-yellow-500";default:return"text-gray-500"}},n=i=>{var h,m;const o=((m=(h=i==null?void 0:i.split("/").pop())==null?void 0:h.split(":")[0])==null?void 0:m.toLowerCase())||"default",l={size:20,className:"text-gray-600 dark:text-gray-300 group-hover:text-[#9c40ff] transition-colors"};return{nginx:e(Nt,{...l}),redis:e(Me,{...l}),postgres:e(Me,{...l}),mysql:e(Me,{...l}),mongodb:e(Me,{...l}),node:e(tt,{...l}),python:e(Mt,{...l}),java:e(qo,{...l}),wordpress:e(mt,{...l}),nextjs:e(ut,{...l}),react:e(Mt,{...l}),vue:e(Mt,{...l})}[o]||e(fr,{...l})};return e("div",{class:"grid lg:grid-cols-3 gap-6",children:[e("div",{class:"card gradient-card shadow-lg shadow-[#8b008b]/20",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] to-[#e94057] bg-clip-text text-transparent",children:"Your Projects"})}),e("button",{onClick:()=>a==null?void 0:a("projects"),class:"text-xs font-medium text-[#8b008b] hover:text-[#e94057] transition-colors",children:"View All"})]}),t&&t.length>0?e("div",{class:"space-y-3",children:t.slice(0,4).map(i=>e("div",{class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-all duration-200 cursor-pointer group",onClick:()=>a==null?void 0:a("projects"),children:[e("div",{class:"flex items-center space-x-4",children:[e("div",{class:"w-10 h-10 bg-gradient-to-br from-[#8b008b] to-[#9c40ff] rounded-xl flex items-center justify-center text-white group-hover:scale-105 transition-transform",children:e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e("div",{children:[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-white group-hover:text-[#8b008b] dark:group-hover:text-[#9c40ff] transition-colors",children:i.name}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:["Created ",new Date(i.created_at).toLocaleDateString()]})]})]}),e("svg",{class:"w-4 h-4 text-gray-400 group-hover:text-[#8b008b] dark:group-hover:text-[#9c40ff] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},i.id))}):e("div",{class:"text-center py-12",children:[e("div",{class:"flex justify-center mb-4",children:e(fr,{size:48,className:"text-gray-400 dark:text-gray-600"})}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:"No projects yet"}),e("p",{class:"text-gray-500 dark:text-gray-500 text-xs",children:"Create your first project to get started"})]})]}),e("div",{class:"lg:col-span-2 card gradient-card shadow-lg shadow-[#9c40ff]/20",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold",children:e("span",{class:"bg-gradient-to-r from-[#9c40ff] to-[#8b008b] bg-clip-text text-transparent",children:"Recent Services"})}),e("div",{class:"w-8 h-8 bg-[#9c40ff]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-[#9c40ff]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})})]}),r.length>0?e("div",{class:"grid md:grid-cols-2 gap-3",children:r.map((i,o)=>{var l,c;return e("div",{class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors cursor-pointer group",onClick:()=>a==null?void 0:a("services"),children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"group-hover:scale-110 transition-transform",children:n(i.image)}),e("div",{children:[e("div",{class:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-32",children:i.name||((c=(l=i.image)==null?void 0:l.split("/").pop())==null?void 0:c.split(":")[0])||"Service"}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:i.status?e("span",{class:`inline-flex items-center space-x-1 ${s(i.status)}`,children:[e("div",{class:`w-1.5 h-1.5 rounded-full ${i.status==="running"?"bg-emerald-500":i.status==="stopped"?"bg-red-500":"bg-yellow-500"}`}),e("span",{children:i.status})]}):"Unknown"})]})]}),e("div",{class:"text-xs text-gray-400 text-right",children:i.created_at&&new Date(i.created_at).toLocaleDateString()})]},i.id||o)})}):e("div",{class:"text-center py-12",children:[e("div",{class:"text-6xl mb-4",children:"🚀"}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:"No services deployed"}),e("p",{class:"text-gray-500 dark:text-gray-500 text-xs",children:"Deploy your first service to see activity"})]})]})]})}function pl({onPageChange:t}){return e("div",{class:"card gradient-card shadow-lg shadow-[#10b981]/20",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold",children:e("span",{class:"bg-gradient-to-r from-[#10b981] to-[#059669] bg-clip-text text-transparent",children:"Quick Deploy"})}),e("div",{class:"w-8 h-8 bg-[#10b981]/20 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-[#10b981]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),e("div",{class:"space-y-4",children:[e("button",{class:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-[#9c40ff]/10 to-[#8b008b]/10 border border-[#9c40ff]/20 rounded-xl hover:from-[#9c40ff]/20 hover:to-[#8b008b]/20 hover:border-[#9c40ff]/30 transition-all duration-300 text-left group",onClick:()=>t==null?void 0:t("projects"),children:[e("div",{class:"flex items-center space-x-4",children:[e("div",{class:"w-10 h-10 bg-[#9c40ff]/20 rounded-lg flex items-center justify-center group-hover:bg-[#9c40ff]/30 transition-colors",children:e("svg",{class:"w-5 h-5 text-[#9c40ff]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),e("div",{children:[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"New Project"}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Create and configure a new project"})]})]}),e("svg",{class:"w-4 h-4 text-[#9c40ff] group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e("button",{class:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-[#10b981]/10 to-[#059669]/10 border border-[#10b981]/20 rounded-xl hover:from-[#10b981]/20 hover:to-[#059669]/20 hover:border-[#10b981]/30 transition-all duration-300 text-left group",onClick:()=>t==null?void 0:t("services"),children:[e("div",{class:"flex items-center space-x-4",children:[e("div",{class:"w-10 h-10 bg-[#10b981]/20 rounded-lg flex items-center justify-center group-hover:bg-[#10b981]/30 transition-colors",children:e("svg",{class:"w-5 h-5 text-[#10b981]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})}),e("div",{children:[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Deploy Service"}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Launch a containerized application"})]})]}),e("svg",{class:"w-4 h-4 text-[#10b981] group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e("button",{class:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-[#f59e0b]/10 to-[#d97706]/10 border border-[#f59e0b]/20 rounded-xl hover:from-[#f59e0b]/20 hover:to-[#d97706]/20 hover:border-[#f59e0b]/30 transition-all duration-300 text-left group",onClick:()=>t==null?void 0:t("routes"),children:[e("div",{class:"flex items-center space-x-4",children:[e("div",{class:"w-10 h-10 bg-[#f59e0b]/20 rounded-lg flex items-center justify-center group-hover:bg-[#f59e0b]/30 transition-colors",children:e("svg",{class:"w-5 h-5 text-[#f59e0b]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e("div",{children:[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Create Route"}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Expose services to external traffic"})]})]}),e("svg",{class:"w-4 h-4 text-[#f59e0b] group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e("button",{class:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-[#8b008b]/10 to-[#e94057]/10 border border-[#8b008b]/20 rounded-xl hover:from-[#8b008b]/20 hover:to-[#e94057]/20 hover:border-[#8b008b]/30 transition-all duration-300 text-left group",onClick:()=>t==null?void 0:t("templates"),children:[e("div",{class:"flex items-center space-x-4",children:[e("div",{class:"w-10 h-10 bg-[#8b008b]/20 rounded-lg flex items-center justify-center group-hover:bg-[#8b008b]/30 transition-colors",children:e("svg",{class:"w-5 h-5 text-[#8b008b]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})}),e("div",{children:[e("div",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Browse Templates"}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Deploy pre-configured service templates"})]})]}),e("svg",{class:"w-4 h-4 text-[#8b008b] group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}function xl({onPageChange:t}){const{data:r}=be(()=>$.getSystemInfo()),{data:a}=be(()=>$.getSystemMetrics()),{data:s}=be(()=>$.getProjects()),{data:n}=be(()=>$.getSystemPlan()),[i,o]=g(0),[l,c]=g(0),[h,m]=g([]);return K(()=>{s&&s.length>0&&(Promise.all(s.map(d=>$.getProjectServices(d.id).catch(()=>[]))).then(d=>{const u=d.flat();o(u.length);const p=u.filter(x=>x.created_at).sort((x,y)=>new Date(y.created_at).getTime()-new Date(x.created_at).getTime()).slice(0,6);m(p)}),$.getAllRoutes().then(d=>{c((d==null?void 0:d.length)||0)}).catch(()=>{c(0)}))},[s]),e("div",{class:"space-y-8 fade-in",children:[e(Lo,{planInfo:n}),e(Mo,{projects:s,totalServices:i,totalRoutes:l,systemInfo:r,onPageChange:t}),e(gl,{systemMetrics:a}),e(ml,{projects:s,recentServices:h,onPageChange:t}),e(pl,{onPageChange:t})]})}function rt({message:t,type:r,isVisible:a,onClose:s}){if(!a)return null;const n={success:"toast-success",error:"toast-error",info:"toast-info"};return g(()=>{const i=setTimeout(s,4e3);return()=>clearTimeout(i)}),e("div",{class:"fixed top-4 right-4 z-50 animate-slide-in",children:e("div",{class:`toast ${n[r]} flex items-center justify-between min-w-80`,children:[e("span",{class:"text-sm",children:t}),e("button",{onClick:s,class:"ml-4 text-current opacity-70 hover:opacity-100",children:"✕"})]})})}function Et({isOpen:t,onClose:r,title:a,children:s,size:n="md"}){return t?e("div",{class:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[e("div",{class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:r}),e("div",{class:`relative w-full ${{sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl"}[n]} max-h-[90vh] overflow-y-auto bg-gray-800 rounded-xl shadow-2xl border border-gray-700 animate-fade-in`,children:[e("div",{class:"flex items-center justify-between p-6 border-b border-gray-700",children:[e("h2",{class:"text-lg font-semibold text-white",children:a}),e("button",{onClick:r,class:"text-gray-400 hover:text-white transition-colors",children:"✕"})]}),e("div",{class:"p-6",children:s})]})]}):null}function bl(){const[t,r]=g("system");K(()=>{const i=Xs();r(i),en()},[]);const a=()=>{const i=ki(t);r(i)},s=()=>t==="system"?e("svg",{class:"w-3 h-3 text-[#ffaa40] group-hover:text-[#ffaa40]/80 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}):t==="dark"?e("svg",{class:"w-3 h-3 text-[#ffaa40] group-hover:text-[#ffaa40]/80 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):e("svg",{class:"w-3 h-3 text-[#ffaa40] group-hover:text-[#ffaa40]/80 transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),n=()=>t==="system"?"Auto":t==="dark"?"Dark":"Light";return e("button",{onClick:a,class:"flex items-center gap-1.5 px-2 py-1.5 rounded-lg bg-gradient-to-r from-orange-50/80 to-amber-50/80 dark:from-gray-800/80 dark:to-gray-700/80 border border-orange-200/50 dark:border-gray-600/50 shadow-sm hover:shadow-md hover:from-orange-100/80 hover:to-amber-100/80 dark:hover:from-gray-700/80 dark:hover:to-gray-600/80 transition-all duration-200 group flex-shrink-0",title:`Theme: ${n()} (click to cycle)`,children:[e("div",{class:"relative w-3 h-3",children:s()}),e("span",{class:"text-gray-600 dark:text-gray-300 text-xs font-medium hidden lg:inline group-hover:text-gray-800 dark:group-hover:text-gray-200 transition-colors duration-200",children:n()})]})}function fl({isOpen:t,onClose:r}){const[a,s]=g(""),[n,i]=g([]),[o,l]=g([]),[c,h]=g(0),[m,d]=g(!1),[u,p]=g(!1),[x,y]=g(!1),[b,O]=g([]),[_,I]=g([{id:1,type:"page",entity_id:"dashboard",title:"Dashboard",subtitle:"System overview and metrics",url_path:"/app/",score:1,content:"Dashboard overview metrics status"},{id:2,type:"page",entity_id:"projects",title:"Projects",subtitle:"Manage your projects",url_path:"/app/projects",score:1,content:"Projects management repository"},{id:3,type:"page",entity_id:"services",title:"Services",subtitle:"Container services",url_path:"/app/services",score:1,content:"Services containers docker"},{id:4,type:"page",entity_id:"routes",title:"Routes",subtitle:"Network routing",url_path:"/app/routes",score:1,content:"Routes network proxy"},{id:5,type:"page",entity_id:"nodes",title:"Nodes",subtitle:"Infrastructure nodes",url_path:"/app/nodes",score:1,content:"Nodes infrastructure servers"},{id:6,type:"page",entity_id:"quickstart",title:"Quick Start",subtitle:"Deployment quick start",url_path:"/app/quickstart",score:1,content:"Quick Start deployment getting started guide tutorial"},{id:7,type:"page",entity_id:"spring-boot",title:"Spring Boot",subtitle:"Spring Boot quickstart guide",url_path:"/app/quickstart/spring",score:1,content:"Spring Boot Java quickstart deployment guide tutorial framework"},{id:8,type:"page",entity_id:"templates",title:"Service Templates",subtitle:"Pre-built service configurations",url_path:"/app/templates",score:1,content:"Templates configurations presets service deployment"},{id:9,type:"page",entity_id:"system-admin",title:"System Admin",subtitle:"System administration",url_path:"/app/administration",score:1,content:"System Admin administration management users permissions"},{id:10,type:"page",entity_id:"registries",title:"Registries",subtitle:"Container registries",url_path:"/app/registries",score:1,content:"Registries docker hub container registry credentials"},{id:11,type:"page",entity_id:"system-logs",title:"System Logs",subtitle:"View system logs",url_path:"/app/logs",score:1,content:"System Logs debugging audit monitoring errors events"},{id:12,type:"page",entity_id:"clients",title:"Clients",subtitle:"Connected clients",url_path:"/app/clients",score:1,content:"Clients connections API access tokens authentication"},{id:13,type:"page",entity_id:"settings",title:"Settings",subtitle:"Application settings",url_path:"/app/settings",score:1,content:"Settings configuration preferences system config"},{id:14,type:"page",entity_id:"integrations",title:"Integrations",subtitle:"Third-party integrations",url_path:"/app/settings/integrations",score:1,content:"Integrations GitHub OAuth webhooks external services API"}]),[B,L]=g(!0),[w,k]=g(!1),[R,P]=g(0),[M,C]=g("all"),T="v2",[D]=g(()=>{const E=new Map;return console.log("🔄 Search cache initialized - fresh start with version",T),E}),v=100,A=5*60*1e3,[G]=g(()=>{const E=new Map;return console.log("🔄 Suggest cache initialized - fresh start with version",T),E}),f=2*60*1e3,[S]=g(()=>{const E=localStorage.getItem("glinrdock_search_analytics");return E?JSON.parse(E):{totalSearches:0,popularQueries:{},zeroResultQueries:[],categoryUsage:{},searchSessions:[],operatorUsage:{},lastReset:Date.now()}}),H=(E,q,Z={},se)=>{S.totalSearches++;const te=E.toLowerCase().trim();if(te.length>=2&&(S.popularQueries[te]=(S.popularQueries[te]||0)+1),q.length===0&&te.length>=2){const ce={query:te,timestamp:Date.now(),operators:Z};S.zeroResultQueries.push(ce),S.zeroResultQueries.length>50&&(S.zeroResultQueries=S.zeroResultQueries.slice(-50))}se&&(S.categoryUsage[se]=(S.categoryUsage[se]||0)+1),Object.keys(Z).length>0&&Object.keys(Z).forEach(ce=>{S.operatorUsage[ce]=(S.operatorUsage[ce]||0)+1});const ee={query:te,results:q.length,timestamp:Date.now(),operators:Object.keys(Z),category:se||"all"};S.searchSessions.push(ee),S.searchSessions.length>200&&(S.searchSessions=S.searchSessions.slice(-200)),localStorage.setItem("glinrdock_search_analytics",JSON.stringify(S)),console.log("📊 Search Analytics:",{query:te,results:q.length,totalSearches:S.totalSearches,operators:Object.keys(Z)})},U=(E,q)=>{const Z={query:q.toLowerCase().trim(),selectedSuggestion:E.label,suggestionType:E.type,timestamp:Date.now()};console.log("🎯 Suggestion Hit:",Z)},j=()=>{const E=Object.entries(S.popularQueries).sort(([,te],[,ee])=>ee-te).slice(0,10).map(([te,ee])=>({query:te,count:ee})),q=S.zeroResultQueries.slice(-10).map(te=>({query:te.query,operators:Object.keys(te.operators||{})})),Z=Object.entries(S.categoryUsage).sort(([,te],[,ee])=>ee-te).map(([te,ee])=>({category:te,count:ee})),se=Object.entries(S.operatorUsage).sort(([,te],[,ee])=>ee-te).map(([te,ee])=>({operator:te,count:ee}));return{totalSearches:S.totalSearches,topQueries:E,recentZeroResults:q,zeroResultRate:(S.zeroResultQueries.length/S.totalSearches*100).toFixed(1),topCategories:Z,operatorStats:se,avgSearchesPerSession:S.totalSearches>0?(S.searchSessions.length/S.totalSearches).toFixed(2):"0"}};typeof window<"u"&&(window.getSearchInsights=j,window.clearSearchCache=()=>{D.clear(),G.clear(),console.log("🧹 Search and suggest caches cleared!")});const V=E=>{const q={};let Z=E;const se=/(\w+):(\w+)/g;let te;for(;(te=se.exec(E))!==null;){const[ee,ce,je]=te;q[ce]=je,Z=Z.replace(ee,"").trim()}return{operators:q,cleanQuery:Z.replace(/\s+/g," ").trim()}},oe=(E,q)=>{var Z;if(Object.keys(q).length===0)return!0;for(const[se,te]of Object.entries(q))switch(se.toLowerCase()){case"type":if(E.type!==te.toLowerCase())return!1;break;case"project":if(!((Z=E.content)!=null&&Z.toLowerCase().includes(te.toLowerCase())))return!1;break}return!0},fe=E=>{const q=D.get(E);return q?Date.now()-q.timestamp>A?(D.delete(E),null):(D.delete(E),D.set(E,q),console.log("🎯 Cache HIT for query:",E,"- Results:",q.results.length),q):null},Ie=(E,q,Z)=>{if(D.size>=v){const te=D.keys().next().value;D.delete(te),console.log("🗑️ Cache eviction - removed:",te)}const se={results:q,timestamp:Date.now(),fts5Available:Z,version:T};D.set(E,se),console.log("💾 Cache SET for query:",E,"- Results:",q.length,"- Cache size:",D.size)},Te=E=>{const q=G.get(E);return q?Date.now()-q.timestamp>f?(G.delete(E),null):(G.delete(E),G.set(E,q),console.log("🎯 Suggest Cache HIT for query:",E,"- Suggestions:",q.suggestions.length),q):null},Qe=(E,q)=>{if(G.size>=v){const se=G.keys().next().value;G.delete(se),console.log("🗑️ Suggest cache eviction - removed:",se)}const Z={suggestions:q,timestamp:Date.now(),version:T};G.set(E,Z),console.log("💾 Suggest Cache SET for query:",E,"- Suggestions:",q.length,"- Cache size:",G.size)},Ye=[{id:"all",label:"All",icon:dt},{id:"project",label:"Projects",icon:pt},{id:"service",label:"Services",icon:tt},{id:"route",label:"Routes",icon:Nt},{id:"registry",label:"Registries",icon:Me},{id:"env_template",label:"Templates",icon:mt},{id:"setting",label:"Settings",icon:Ke},{id:"page",label:"Pages",icon:Cs}],$e=Ge(null),_e=Ge(null),Be=Ge(null),De=Ge(null);K(()=>{const E=localStorage.getItem("glinrdock_recent_searches");if(E)try{O(JSON.parse(E))}catch(q){console.warn("Failed to parse recent searches",q)}},[]),K(()=>{(async()=>{try{const q=[{type:"project",entity_id:1,title:"Dashboard",subtitle:"System overview and metrics",content:"dashboard metrics overview system status",tags:"dashboard system metrics",url_path:"/app/",created_at:new Date().toISOString(),score:1},{type:"service",entity_id:0,title:"Services",subtitle:"Manage Docker services",content:"services docker containers management",tags:"services docker containers",url_path:"/app/services",created_at:new Date().toISOString(),score:1},{type:"route",entity_id:0,title:"Routes",subtitle:"Configure service routing",content:"routes networking domains ports",tags:"routes networking domains",url_path:"/app/routes",created_at:new Date().toISOString(),score:1},{type:"project",entity_id:0,title:"Projects",subtitle:"Manage your projects",content:"projects management organization",tags:"projects management",url_path:"/app/projects",created_at:new Date().toISOString(),score:1},{type:"project",entity_id:0,title:"Templates",subtitle:"Service templates",content:"templates service creation",tags:"templates service",url_path:"/app/templates",created_at:new Date().toISOString(),score:1},{type:"setting",entity_id:0,title:"Settings",subtitle:"Configure system",content:"settings configuration system",tags:"settings configuration",url_path:"/app/settings",created_at:new Date().toISOString(),score:1}];I(q)}catch(q){console.error("Failed to load featured pages:",q)}})()},[]);const J=E=>{if(!E.trim()||E.length<2)return;const q=[E,...b.filter(Z=>Z!==E)].slice(0,10);O(q),localStorage.setItem("glinrdock_recent_searches",JSON.stringify(q))};K(()=>{$.getSearchStatus().then(E=>{y(E.fts5)}).catch(()=>{y(!1)})},[]),K(()=>{t&&$e.current&&$e.current.focus()},[t]),K(()=>{h(0)},[n,M]),K(()=>{const E=a.trim(),q=Date.now();if(!E){i([]),d(!1),L(!0),k(!1);return}if(E.length===1){i([]),l([]),L(!0),k(!0),d(!1),p(!1);return}L(!1),k(!0),_e.current&&_e.current.abort(),Be.current&&(clearTimeout(Be.current),Be.current=null),De.current&&(clearTimeout(De.current),De.current=null);const Z=q-R;let se;return E.length===2?se=250:E.length<=4?se=Z<500?150:100:se=80,se>120&&d(!0),E.length>=2&&(p(!0),setTimeout(async()=>{const{operators:te}=V(E);await ue(E,te)},50)),Be.current=window.setTimeout(async()=>{var te;try{d(!0),P(Date.now());const{operators:ee,cleanQuery:ce}=V(E),je=E.toLowerCase();console.log("🔍 Search operators:",ee,"Clean query:",ce);const Ce=fe(je);if(Ce&&Ce.version===T){let le=Ce.results.filter(ve=>oe(ve,ee));const Pe=_.filter(ve=>{const Ne=`${ve.title} ${ve.subtitle||""} ${ve.content||""}`.toLowerCase(),ot=ce.toLowerCase()||E.toLowerCase(),Je=ot.split(" ").filter(Re=>Re.length>0),Ze=Ne.includes(ot),Ue=Je.some(Re=>Ne.includes(Re)),st=Je.some(Re=>Re.length<3?!1:Ne.split(/\s+/).some(Ee=>Math.abs(Ee.length-Re.length)>2?!1:Ee.startsWith(Re.slice(0,-1))||Ee.startsWith(Re.slice(0,-2))||Re.startsWith(Ee.slice(0,-1))));return Ze||Ue||st}),ye=[...Pe,...le];i(ye),y(Ce.fts5Available),d(!1),k(!1),console.log("🎯 Cache hit with combined results:",{backendResults:le.length,pageResults:Pe.length,total:ye.length}),H(E,ye,ee,M);return}const Ve=new AbortController;_e.current=Ve;const We=ce.trim()||E,at=await $.search(We,{limit:25});if(!Ve.signal.aborted){let le=at.hits||[];console.log("🚀 SEARCH EXECUTION:",{originalQuery:E,cleanQuery:ce,operators:ee,backendResults:le.length,featuredPagesCount:_.length}),Object.keys(ee).length>0&&(le=le.filter(ve=>oe(ve,ee)),console.log("🔧 Applied operator filtering:",Object.keys(ee),"- Results:",le.length)),console.log(`🔍 TESTING PAGE SEARCH - Query: "${E}" Clean: "${ce}"`);const Pe=_.filter(ve=>{const Ne=`${ve.title} ${ve.subtitle||""} ${ve.content||""}`.toLowerCase(),ot=ce.toLowerCase()||E.toLowerCase(),Je=ot.split(" ").filter(ze=>ze.length>0);ve.title.toLowerCase().includes("log")&&console.log(`🔍 Testing "${ve.title}": searchText="${Ne}" queryLower="${ot}"`);const Ze=Ne.includes(ot),Ue=Je.some(ze=>Ne.includes(ze)),st=Je.some(ze=>ze.length<3?!1:Ne.split(/\s+/).some(At=>Math.abs(At.length-ze.length)>2?!1:At.startsWith(ze.slice(0,-1))||At.startsWith(ze.slice(0,-2))||ze.startsWith(At.slice(0,-1)))),Re=Ze||Ue||st;return console.log("🎯 Page match result:",{pageTitle:ve.title,hasDirectMatch:Ze,hasWordMatch:Ue,hasFuzzyMatch:st,isMatch:Re}),Re}),ye=[...Pe,...le];console.log("🔍 Combined results:",{backendResults:le.length,pageResults:Pe.length,total:ye.length,pages:Pe.map(ve=>ve.title)}),i(ye),d(!1),k(!1),H(E,ye,ee,M),Ie(je,at.hits||[],x)}}catch(ee){(te=_e.current)!=null&&te.signal.aborted||(console.error("Search failed:",ee),i([]),d(!1),k(!1))}},se),De.current=window.setTimeout(()=>{k(!1)},se+300),()=>{Be.current&&clearTimeout(Be.current),De.current&&clearTimeout(De.current)}},[a]),K(()=>()=>{_e.current&&_e.current.abort(),Be.current&&clearTimeout(Be.current),De.current&&clearTimeout(De.current)},[]);const N=E=>{a.trim()&&a.trim().length>=2&&J(a.trim()),window.location.href=E.url_path,r()},W=E=>{s(E)},X=()=>{O([]),localStorage.removeItem("glinrdock_recent_searches")},ue=async(E,q)=>{try{const{cleanQuery:Z}=V(E),se=Z.trim()||E.trim(),te=`suggest:${se.toLowerCase()}`,ee=Te(te);if(ee){l(ee.suggestions),p(!1);return}let ce;q.type?ce=q.type:M&&M!=="all"&&(ce=M);const je=await $.suggest(se,{type:ce,limit:8});if(je.suggestions){const Ce=je.suggestions.reduce((Ve,We)=>(Ve.some(le=>le.url_path===We.url_path)||Ve.push(We),Ve),[]);l(Ce),Qe(te,Ce),console.log("🎯 Fetched suggestions:",Ce.length)}}catch(Z){console.warn("Failed to fetch suggestions:",Z),l([])}finally{p(!1)}},Y=(E,q)=>{if(!q.trim())return E;try{const Z=q.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),se=new RegExp(`(${Z})`,"gi");return E.split(se).map((ee,ce)=>se.test(ee)?e("mark",{className:"bg-yellow-200 dark:bg-yellow-800/60 px-0.5 rounded text-inherit",children:ee},ce):ee)}catch{return E}},re=E=>{switch(E){case"project":return e(pt,{className:"w-4 h-4"});case"service":return e(tt,{className:"w-4 h-4"});case"route":return e(Wn,{className:"w-4 h-4"});case"registry":return e(Me,{className:"w-4 h-4"});case"env_template":return e(mt,{className:"w-4 h-4"});case"setting":return e(Ke,{className:"w-4 h-4"});case"page":return e(Cs,{className:"w-4 h-4"});case"node":return e(er,{className:"w-4 h-4"});case"client":return e(Un,{className:"w-4 h-4"});case"log":return e(nl,{className:"w-4 h-4"});case"admin":return e(xt,{className:"w-4 h-4"});default:return e(mt,{className:"w-4 h-4"})}},de=E=>{switch(E){case"project":return"text-blue-400";case"service":return"text-green-400";case"route":return"text-purple-400";case"registry":return"text-indigo-400";case"env_template":return"text-teal-400";case"setting":return"text-orange-400";case"page":return"text-pink-400";case"node":return"text-cyan-400";case"client":return"text-amber-400";case"log":return"text-slate-400";case"admin":return"text-red-400";default:return"text-purple-300"}},ie=E=>{switch(E){case"project":return"Projects";case"service":return"Services";case"route":return"Routes";case"registry":return"Registries";case"env_template":return"Environment Templates";case"setting":return"Settings";case"page":return"Pages";case"node":return"Nodes";case"client":return"Clients";case"log":return"Logs";case"admin":return"Administration";default:return"Other"}},ne=n||[],pe=M==="all"?ne:ne.filter(E=>E.type===M),me=qt(()=>{const E=[];return w&&o.length>0&&o.slice(0,5).forEach((q,Z)=>{E.push({type:"suggestion",item:q,index:Z})}),pe.forEach((q,Z)=>{E.push({type:"result",item:q,index:Z})}),E},[w,o,pe]);K(()=>{if(!t)return;const E=q=>{switch(q.key){case"Escape":q.preventDefault(),r();break;case"ArrowDown":q.preventDefault(),h(Z=>Math.min(Z+1,me.length-1));break;case"ArrowUp":q.preventDefault(),h(Z=>Math.max(Z-1,0));break;case"Enter":if(q.preventDefault(),me[c]){const Z=me[c];if(Z.type==="suggestion"){const se=Z.item;U(se,a),window.location.href=se.url_path}else{const se=Z.item;N(se)}}break}};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[t,me,c,r,a]);const he=pe.reduce((E,q)=>{const Z=q.type;return E[Z]||(E[Z]=[]),E[Z].push(q),E},{});return t?_a(e("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[8vh] px-4",children:[e("div",{className:"fixed inset-0 bg-black/15 dark:bg-black/20 backdrop-blur-lg",onClick:r}),e("div",{className:"relative w-full max-w-4xl max-h-[85vh] min-h-[40vh] bg-white/95 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/80 dark:border-gray-700/50 overflow-hidden flex flex-col mx-4",children:[e("div",{className:"flex items-center px-4 py-3 border-b border-gray-200/80 dark:border-gray-700/50 bg-white/50 dark:bg-gray-800/30 backdrop-blur-sm flex-shrink-0",children:[e(dt,{className:"w-5 h-5 text-gray-600 dark:text-gray-300 mr-3"}),e("input",{ref:$e,type:"text",value:a,onChange:E=>{const q=E.target.value;s(q),q.length===1&&k(!0)},placeholder:"Search projects, services, routes...",className:"flex-1 bg-transparent text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 outline-none text-base font-light"}),m&&e(Hr,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 animate-spin ml-3"}),w&&!m&&a.trim().length>=2&&e("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse ml-3"}),a&&e("button",{onClick:()=>{var E;s(""),i([]),L(!0),k(!1),d(!1),(E=$e.current)==null||E.focus()},className:"ml-2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"Clear search",children:e(Rr,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"})})]}),!x&&e("div",{className:"px-4 py-2 bg-yellow-400/10 dark:bg-yellow-500/10 backdrop-blur-sm border-b border-yellow-200/20 dark:border-yellow-800/20",children:e("div",{className:"flex items-center text-xs text-yellow-700 dark:text-yellow-400",children:[e(we,{className:"w-3 h-3 mr-2"}),"Basic search mode (FTS5 not available)"]})}),!B&&e("div",{className:"px-4 py-2 border-b border-gray-200/80 dark:border-gray-700/50 bg-white/30 dark:bg-gray-800/20",children:e("div",{className:"flex items-center gap-1 overflow-x-auto scrollbar-hide",children:Ye.map(E=>e("button",{onClick:()=>C(E.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all whitespace-nowrap ${M===E.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/30 hover:text-gray-800 dark:hover:text-gray-300"}`,children:[e(E.icon,{className:"w-4 h-4"}),e("span",{children:E.label})]},E.id))})}),e("div",{className:"flex flex-1 overflow-hidden min-h-0",children:[e("div",{className:"flex-1 overflow-y-auto min-h-0",children:B?e("div",{className:"p-3",children:[_.length>0&&e("div",{children:[e("div",{className:"flex items-center gap-2 mb-3",children:[e(pt,{className:"w-4 h-4 text-blue-400"}),e("h3",{className:"text-xs font-medium text-blue-300 tracking-wide",children:"Quick Navigation"})]}),e("div",{className:"space-y-1",children:_.map((E,q)=>e("button",{onClick:()=>N(E),className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-blue-500/5 backdrop-blur-sm rounded-md border border-transparent hover:border-blue-500/10 transition-all group",children:[e("div",{className:`${de(E.type)} flex-shrink-0`,children:re(E.type)}),e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"font-medium text-white text-sm",children:E.title}),E.subtitle&&e("div",{className:"text-xs text-gray-400 truncate",children:E.subtitle})]}),e("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e(St,{className:"w-4 h-4 text-blue-400"})})]},`featured-${q}`))})]}),_.length>0&&b.length>0&&e("div",{className:"mx-3 my-3 border-t border-gray-600/20"}),b.length===0&&_.length===0&&e("div",{className:"px-4 py-8 text-center text-purple-200/70",children:[e(dt,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),e("p",{className:"text-base font-medium mb-2 text-white",children:"Search Everything"}),e("p",{className:"text-sm opacity-75",children:"Start typing to search across projects, services, and routes"})]})]}):a.length===1?e("div",{className:"px-4 py-8 text-center text-purple-200/70",children:[e(dt,{className:"w-12 h-12 mx-auto mb-4 opacity-40"}),e("p",{className:"text-lg font-medium mb-2 text-white",children:"Keep Typing"}),e("p",{className:"text-sm opacity-75",children:w&&a.trim().length===1?"Keep typing...":"Type at least 2 characters to start searching"})]}):m?e("div",{className:"px-4 py-6 text-center text-gray-600 dark:text-gray-400",children:[e(Hr,{className:"w-8 h-8 mx-auto mb-4 animate-spin opacity-60"}),e("p",{className:"text-sm font-medium mb-1 text-gray-800 dark:text-gray-200",children:"Searching..."}),e("p",{className:"text-xs opacity-60",children:['Finding results for "',a,'"']})]}):pe.length===0&&!m&&!w?e("div",{className:"px-4 py-6 text-center text-gray-600 dark:text-gray-400",children:[e(dt,{className:"w-12 h-12 mx-auto mb-4 opacity-40"}),e("p",{className:"text-base font-medium mb-2 text-gray-800 dark:text-gray-200",children:"No results found"}),e("p",{className:"text-sm mb-3 opacity-75",children:['No matches for "',e("span",{className:"font-medium text-gray-900 dark:text-white",children:a}),'"',M!=="all"&&ne.length>0&&e("span",{children:[" in ",ie(M)]})]}),M!=="all"&&ne.length>0?e("button",{onClick:()=>C("all"),className:"text-xs bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 hover:text-blue-300 px-3 py-2 rounded-lg transition-colors border border-blue-500/30 hover:border-blue-400/50",children:["View ",ne.length," results in All categories"]}):e("p",{className:"text-xs opacity-60",children:"Try different keywords or check spelling"})]}):e("div",{className:"py-2",children:[w&&o.length>0&&e("div",{className:"mb-4",children:[e("div",{className:"mx-4 mb-2 px-3 py-2 text-xs font-semibold text-purple-300/80 uppercase tracking-wide bg-purple-500/10 border border-purple-500/20 rounded-lg flex items-center gap-2",children:[e(dt,{className:"w-3 h-3"}),e("span",{children:["Suggestions (",o.length,")"]}),u&&e(Hr,{className:"w-3 h-3 animate-spin ml-auto"})]}),o.slice(0,5).map((E,q)=>e("button",{onClick:()=>{U(E,a),window.location.href=E.url_path},className:`w-full flex items-start px-4 py-2.5 text-left hover:bg-purple-500/15 transition-colors ${q===c?"bg-purple-500/20 border-r-4 border-purple-400 shadow-lg":""}`,children:[e("div",{className:`${de(E.type)} mt-0.5 mr-3 flex-shrink-0`,children:re(E.type)}),e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:"font-medium text-white truncate text-sm",children:Y(E.label,a)}),e("span",{className:"text-xs px-1.5 py-0.5 bg-purple-500/20 text-purple-300 rounded text-uppercase",children:ie(E.type)})]}),e("p",{className:"text-xs text-purple-300/50 font-mono truncate",children:E.url_path})]}),e("div",{className:"flex-shrink-0 ml-2",children:e(St,{className:"w-3 h-3 text-purple-300/40"})})]},`suggestion-${E.url_path}`)),e("div",{className:"mx-3 my-3 border-t border-purple-500/20"})]}),M==="all"&&Object.keys(he).length>1?Object.entries(he).map(([E,q],Z)=>e("div",{className:Z>0?"mt-3":"",children:[e("div",{className:"mx-4 mb-1 px-3 py-2 text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide bg-gray-100 dark:bg-gray-800/40 border border-gray-200 dark:border-gray-700/50 rounded-lg flex items-center gap-2",children:[e("span",{className:de(E),children:re(E)}),e("span",{children:[ie(E)," (",q.length,")"]})]}),q.map((se,te)=>{const ce=(w&&o.length>0?Math.min(o.length,5):0)+Object.entries(he).slice(0,Z).reduce((je,[,Ce])=>je+Ce.length,0)+te;return e("button",{onClick:()=>N(se),className:`w-full flex items-start px-4 py-3 text-left hover:bg-purple-500/20 backdrop-blur-sm transition-all ${ce===c?"bg-purple-500/20 border-r-4 border-purple-400 shadow-lg":""}`,children:[e("div",{className:`${de(se.type)} mt-0.5 mr-3 flex-shrink-0`,children:re(se.type)}),e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:"font-medium text-white truncate",children:Y(se.title,a)}),x&&se.score&&se.score>0&&e("span",{className:"text-xs px-2 py-1 bg-purple-500/30 text-purple-200 rounded-full font-mono",children:se.score.toFixed(1)})]}),se.subtitle&&e("p",{className:"text-sm text-purple-200/80 truncate",children:Y(se.subtitle,a)}),e("p",{className:"text-xs text-purple-300/60 mt-1 font-mono",children:se.url_path})]}),e("div",{className:"flex-shrink-0 ml-2",children:e(St,{className:"w-4 h-4 text-purple-300/60"})})]},`${se.type}-${se.entity_id}`)})]},E)):pe.map((E,q)=>{const se=(w&&o.length>0?Math.min(o.length,5):0)+q;return e("button",{onClick:()=>N(E),className:`w-full flex items-start px-4 py-3 text-left hover:bg-gray-100 dark:hover:bg-gray-700/20 backdrop-blur-sm transition-all ${se===c?"bg-blue-50 dark:bg-blue-900/20 border-r-4 border-blue-500 shadow-lg":""}`,children:[e("div",{className:`${de(E.type)} mt-0.5 mr-3 flex-shrink-0`,children:re(E.type)}),e("div",{className:"flex-1 min-w-0",children:[e("div",{className:"flex items-center gap-2 mb-1",children:[e("span",{className:"font-medium text-gray-900 dark:text-white truncate",children:Y(E.title,a)}),x&&E.score&&E.score>0&&e("span",{className:"text-xs px-2 py-1 bg-blue-500/20 text-blue-700 dark:text-blue-300 rounded-full font-mono",children:E.score.toFixed(1)})]}),E.subtitle&&e("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:Y(E.subtitle,a)}),e("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 font-mono",children:E.url_path})]}),e("div",{className:"flex-shrink-0 ml-2",children:e(St,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})})]},`${E.type}-${E.entity_id}`)})]})}),b.length>0&&B&&e("div",{className:"px-3 pb-3 group",children:[e("div",{className:"flex items-center justify-between mb-2",children:[e("div",{className:"flex items-center gap-2",children:[e(Nr,{className:"w-3.5 h-3.5 text-amber-400"}),e("h3",{className:"text-xs font-medium text-amber-300 tracking-wide",children:"Recent Searches"})]}),e("button",{onClick:X,className:"opacity-0 group-hover:opacity-100 text-xs text-amber-400 hover:text-amber-300 hover:bg-amber-500/10 px-1.5 py-0.5 rounded transition-all flex items-center gap-1",title:"Clear recent searches",children:e(et,{className:"w-2.5 h-2.5"})})]}),e("div",{className:"flex flex-wrap gap-1",children:b.slice(0,10).map((E,q)=>e("button",{onClick:()=>W(E),className:"inline-flex items-center gap-1 px-2 py-0.5 text-xs bg-amber-500/10 hover:bg-amber-500/20 text-amber-200 hover:text-amber-100 rounded-md border border-amber-500/20 hover:border-amber-500/30 transition-all duration-200 max-w-20 truncate",title:E,children:[e(dt,{className:"w-2.5 h-2.5 flex-shrink-0"}),e("span",{className:"truncate",children:E})]},`recent-${q}`))})]})]}),e("div",{className:"flex items-center justify-between px-4 py-2 bg-white/50 dark:bg-gray-800/30 backdrop-blur-sm border-t border-gray-200/80 dark:border-gray-700/50 text-xs text-gray-600 dark:text-gray-300 flex-shrink-0",children:[e("div",{className:"flex items-center gap-6",children:[e("div",{className:"flex items-center gap-2",children:[e("kbd",{className:"px-2 py-1 bg-white dark:bg-gray-700 backdrop-blur-sm border border-gray-300 dark:border-gray-600 rounded text-xs font-medium shadow-sm text-gray-800 dark:text-gray-200",children:"↑"}),e("kbd",{className:"px-2 py-1 bg-white dark:bg-gray-700 backdrop-blur-sm border border-gray-300 dark:border-gray-600 rounded text-xs font-medium shadow-sm text-gray-800 dark:text-gray-200",children:"↓"}),e("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"navigate"})]}),e("div",{className:"flex items-center gap-2",children:[e("kbd",{className:"px-2 py-1 bg-white dark:bg-gray-700 backdrop-blur-sm border border-gray-300 dark:border-gray-600 rounded text-xs font-medium shadow-sm text-gray-800 dark:text-gray-200",children:"↵"}),e("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"select"})]}),e("div",{className:"flex items-center gap-2",children:[e("kbd",{className:"px-2 py-1 bg-white dark:bg-gray-700 backdrop-blur-sm border border-gray-300 dark:border-gray-600 rounded text-xs font-medium shadow-sm text-gray-800 dark:text-gray-200",children:"esc"}),e("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:"close"})]})]}),e("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-500",children:["Powered by GLINR • ",pe.length," results"]})]})]})]}),document.body):null}function yl(){const[t,r]=g(!1),[a,s]=g(!1);K(()=>{const x=()=>{r(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",x),()=>document.removeEventListener("fullscreenchange",x)},[]),K(()=>{const x=y=>{(y.metaKey||y.ctrlKey)&&y.key==="k"&&(y.preventDefault(),s(!0))};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[]);const n=()=>{var x,y,b;t?(b=document.exitFullscreen)==null||b.call(document):(y=(x=document.documentElement).requestFullscreen)==null||y.call(x)},{data:i,loading:o}=be(()=>$.getSystemInfo()),{data:l,loading:c,error:h}=be(()=>$.getHealth());K(()=>{const x=setInterval(()=>{$.getSystemInfo().catch(()=>{}),$.getHealth().catch(()=>{}),$.getSystemStatus().catch(()=>{})},3e4);return()=>clearInterval(x)},[]);const m=()=>o||c?{status:"connecting",label:"SYSTEM API",color:"text-[#ffaa40]",icon:e("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}:h||!l?{status:"offline",label:"SYSTEM API",color:"text-[#e94057]",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}:{status:"online",label:"SYSTEM API",color:"text-[#10b981]",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},d=()=>!(i!=null&&i.docker_status)||i.docker_status!=="connected"?{status:"disconnected",color:"text-[#e94057]",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}:{status:"connected",color:"text-[#10b981]",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})},u=m(),p=d();return e("div",{class:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-700/50 shadow-sm px-4 py-2",children:[e("div",{class:"flex items-center justify-between w-full",children:[e("div",{class:"flex items-center gap-3 overflow-x-auto",children:[e("div",{class:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-gradient-to-r from-green-50/80 to-emerald-50/80 dark:from-gray-800/80 dark:to-gray-700/80 border border-green-200/50 dark:border-gray-600/50 shadow-sm flex-shrink-0",children:[e("div",{class:u.color,children:u.icon}),e("span",{class:`text-xs font-mono ${u.color}`,children:u.status==="connecting"?"Connecting...":u.status.toUpperCase()})]}),e("div",{class:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-gradient-to-r from-blue-50/80 to-cyan-50/80 dark:from-gray-800/80 dark:to-gray-700/80 border border-blue-200/50 dark:border-gray-600/50 shadow-sm flex-shrink-0",children:[e("div",{class:p.color,children:p.icon}),e("span",{class:"text-gray-600 dark:text-gray-300 text-xs font-medium hidden sm:inline",children:"Docker"})]})]}),e("div",{class:"flex-1 max-w-md mx-4",children:e("button",{id:"global-search-trigger",onClick:()=>s(!0),class:"w-full flex items-center gap-3 px-4 py-2 rounded-lg bg-gray-100/50 dark:bg-gray-800/50 border border-gray-300/50 dark:border-gray-600/50 text-gray-500 dark:text-gray-400 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-all duration-200",children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("span",{class:"text-sm",children:"Search projects, services, routes..."}),e("div",{class:"flex items-center gap-1 ml-auto",children:[e("kbd",{class:"px-2 py-0.5 text-xs font-mono bg-gray-200 dark:bg-gray-700 rounded border",children:"⌘"}),e("kbd",{class:"px-2 py-0.5 text-xs font-mono bg-gray-200 dark:bg-gray-700 rounded border",children:"K"})]})]})}),e("div",{class:"flex items-center gap-2",children:[e("div",{class:"flex items-center gap-2 px-2 py-1",children:e("div",{class:`w-2 h-2 rounded-full ${o?"bg-[#ffaa40] animate-pulse":"bg-[#10b981]"}`})}),e("button",{onClick:n,class:"flex items-center gap-2 px-3 py-1.5 rounded-md bg-gradient-to-r from-purple-50/80 to-violet-50/80 dark:from-gray-800/80 dark:to-gray-700/80 border border-purple-200/50 dark:border-gray-600/50 shadow-sm hover:bg-gradient-to-r hover:from-purple-100/80 hover:to-violet-100/80 dark:hover:from-gray-700/80 dark:hover:to-gray-600/80 transition-all duration-200",title:t?"Exit Fullscreen":"Enter Fullscreen",children:[t?e("svg",{class:"w-3 h-3 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 9V4.5M9 9H4.5M9 9L3.5 3.5M15 9v-4.5M15 9h4.5M15 9l5.5-5.5M9 15v4.5M9 15H4.5M9 15l-5.5 5.5M15 15v4.5M15 15h4.5M15 15l5.5 5.5"})}):e("svg",{class:"w-3 h-3 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})}),e("span",{class:"text-gray-600 dark:text-gray-300 text-xs font-medium hidden lg:inline",children:t?"Exit":"Full"})]}),e(bl,{})]})]}),e(fl,{isOpen:a,onClose:()=>s(!1)})]})}const Ls={client:1,viewer:2,user:3,deployer:4,admin:5};let nt=null,Vr=!1,sa=null;function vl(t){sa=t,t?localStorage.setItem("devRoleOverride",t):localStorage.removeItem("devRoleOverride")}function Pt(){return sa||localStorage.getItem("devRoleOverride")}function wr(){return Pt()!==null}function tr(){const t=Pt();return t||(nt==null?void 0:nt.role)}async function kl(){if(Vr&&nt){const t=Pt();return t?{...nt,role:t}:nt}try{nt=await $.getAuthInfo(),Vr=!0;const t=Pt();return t?{...nt,role:t}:nt}catch(t){console.error("Failed to get auth info:",t),Vr=!0,nt={method:"token"};const r=Pt();return r?{...nt,role:r}:nt}}function Gn(t,r){if(!r)return!1;const a=Ls[r]||0,s=Ls[t]||0;return a>=s}function Pa(t){const r=t||tr();return Gn("admin",r)}function Ar(t){const r=t||tr();return Gn("deployer",r)}function Ms(t){switch(t.toLowerCase()){case"admin":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";case"deployer":return"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300";case"user":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"viewer":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"client":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300"}}const wl=[{value:"admin",label:"Admin",description:"Full access to all features"},{value:"deployer",label:"Deployer",description:"Manage services and deployments"},{value:"viewer",label:"Viewer",description:"Read-only access"}];function _l({onRoleChange:t}){const[r,a]=g(Pt()),[s,n]=g(!1),[i,o]=g(wr());K(()=>{const h=Pt();a(h),o(wr())},[]);const l=h=>{vl(h),a(h),o(h!==null),n(!1),t==null||t()};return e("div",{class:"relative",children:[e("button",{onClick:()=>{l(i?null:"admin")},class:`
          flex items-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium
          transition-all duration-200 w-full
          ${i?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50 hover:text-gray-300"}
        `,title:i?"Disable Role Testing Mode":"Enable Role Testing Mode",children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),e("span",{children:i?"Dev Mode":"Role Test"})]}),i&&e("div",{class:"mt-2",children:[e("button",{onClick:()=>n(!s),class:`
              flex items-center justify-between w-full px-3 py-2 rounded-lg text-xs
              transition-all duration-200
              ${Ms(r||"viewer")} 
              hover:opacity-80
            `,children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-2 h-2 rounded-full bg-current opacity-60"}),e("span",{class:"font-medium capitalize",children:r||"viewer"})]}),e("svg",{class:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&e("div",{class:"absolute bottom-full left-0 right-0 mb-1 bg-gray-800 rounded-lg border border-gray-700 shadow-lg z-50",children:e("div",{class:"p-2 space-y-1",children:[wl.map(h=>e("button",{onClick:()=>l(h.value),class:`
                      w-full flex items-center justify-between px-3 py-2 rounded-md text-xs
                      transition-all duration-150
                      ${r===h.value?`${Ms(h.value)} font-medium`:"text-gray-300 hover:bg-gray-700 hover:text-white"}
                    `,children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:`w-2 h-2 rounded-full ${r===h.value?"bg-current":"bg-gray-500"}`}),e("div",{class:"text-left",children:[e("div",{class:"font-medium",children:h.label}),e("div",{class:"text-gray-400 text-xs opacity-75",children:h.description})]})]}),r===h.value&&e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},h.value)),e("div",{class:"border-t border-gray-700 pt-1 mt-1",children:e("button",{onClick:()=>l(null),class:"w-full flex items-center space-x-2 px-3 py-2 rounded-md text-xs text-gray-400 hover:bg-gray-700 hover:text-white transition-all duration-150",children:[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e("span",{children:"Use Actual Role"})]})})]})})]}),i&&e("div",{class:"mt-1 px-2 py-1 text-xs text-yellow-400 bg-yellow-500/10 rounded border border-yellow-500/20",children:e("div",{class:"flex items-center space-x-1",children:[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e("span",{children:["Testing as ",r]})]})})]})}const js=t=>({dashboard:e(Hn,{class:"w-5 h-5"}),projects:e(pt,{class:"w-5 h-5"}),services:e(tt,{class:"w-5 h-5"}),routes:e(Wn,{class:"w-5 h-5"}),nodes:e(Ct,{class:"w-5 h-5"}),quickstart:e(ut,{class:"w-5 h-5"}),spring:e(Zo,{class:"w-5 h-5"}),templates:e(mt,{class:"w-5 h-5"}),administration:e(xt,{class:"w-5 h-5"}),registries:e(Me,{class:"w-5 h-5"}),logs:e(Ko,{class:"w-5 h-5"}),clients:e(Un,{class:"w-5 h-5"}),integrations:e(Mt,{class:"w-5 h-5"}),settings:e(Ke,{class:"w-5 h-5"}),signout:e(Xo,{class:"w-5 h-5"})})[t]||e(Ke,{class:"w-5 h-5"});function Cl({currentPage:t,onPageChange:r,counts:a,isOpen:s=!0,onToggle:n}){const[i,o]=g("admin"),[l,c]=g(!1),[h,m]=g(new Set);K(()=>{const _=localStorage.getItem("sidebar-collapsed-sections");if(_)try{const I=JSON.parse(_);m(new Set(I))}catch{}},[]),K(()=>{const _=tr()||"admin";o(_),c(wr())},[]);const d=()=>{const _=tr()||"admin";o(_),c(wr())},u=_=>{const I=new Set(h);I.has(_)?I.delete(_):I.add(_),m(I),localStorage.setItem("sidebar-collapsed-sections",JSON.stringify([...I]))},p=[{id:"core",label:"Core",items:[{id:"dashboard",label:"Dashboard",icon:"dashboard"}]},{id:"resources",label:"Resources",items:[{id:"projects",label:"Projects",icon:"projects",count:a.projects},{id:"services",label:"Services",icon:"services",count:a.services},{id:"routes",label:"Routes",icon:"routes",count:a.routes},{id:"nodes",label:"Nodes",icon:"nodes"}]},{id:"deployment",label:"Deployment",items:[{id:"quickstart",label:"Quick Start",icon:"quickstart",children:[{id:"quickstart-spring",label:"Spring Boot",icon:"spring",href:"/app/quickstart/spring"}]},{id:"templates",label:"Templates",icon:"templates"}]},{id:"administration",label:"Administration",items:[{id:"administration",label:"System Admin",icon:"administration"},{id:"registries",label:"Registries",icon:"registries"},{id:"logs",label:"System Logs",icon:"logs"},{id:"clients",label:"Clients",icon:"clients"}]},{id:"configuration",label:"Configuration",items:[{id:"settings",label:"Settings",icon:"settings",href:"/app/settings"},{id:"integrations",label:"Integrations",icon:"integrations",href:"/app/settings/integrations"}]}],x=()=>{$.clearToken(),window.location.reload()},y=_=>t===_.id?!0:_.children?_.children.some(I=>t===I.id):!!(_.id==="services"&&t==="service-detail"||_.id==="settings"&&t.startsWith("settings")),b=_=>{if(_.children&&_.children.length>0){const I=`item-${_.id}`;u(I)}else if(_.href)window.history.pushState({},"",_.href);else{const I=_.id==="dashboard"?"/app":`/app/${_.id}`;window.history.pushState({},"",I)}},O=(_,I=0)=>{const B=y(_),L=_.children&&_.children.length>0,w=!h.has(`item-${_.id}`);return e("div",{class:"space-y-1",children:[e("div",{onClick:()=>b(_),class:`
            nav-item cursor-pointer group flex items-center gap-3
            transition-all duration-200 ${I===0?"":"pl-6"}
            ${!s&&I===0&&"md:justify-center md:px-2 md:mx-1 md:gap-0"}
            ${B?"nav-item-active bg-gradient-to-r from-[#9c40ff]/20 to-[#8b008b]/10 border-l-2 border-[#9c40ff] text-white":"nav-item-inactive text-gray-300 hover:text-white hover:bg-gray-800/50"}
          `,title:!s&&I===0?_.label:"",children:[e("div",{class:"flex-shrink-0",children:js(_.icon)}),e("span",{class:`
            flex-1 transition-all duration-300 overflow-hidden whitespace-nowrap
            ${!s&&I===0&&"md:w-0 md:opacity-0"}
          `,children:_.label}),_.count!==void 0&&_.count>0&&e("span",{class:`
              px-2 py-1 text-xs font-medium rounded-full
              transition-all duration-300
              ${B?"bg-blue-500/20 text-blue-300":"bg-gray-600 text-gray-300"}
              ${!s&&I===0&&"md:hidden"}
            `,children:_.count}),L&&e("div",{class:`
              flex-shrink-0 transition-transform duration-200
              ${!s&&I===0&&"md:hidden"}
              ${w?"rotate-90":""}
            `,children:e(St,{class:"w-4 h-4"})})]}),L&&w&&s&&e("div",{class:"space-y-1 transition-all duration-200 overflow-hidden",children:_.children.map(R=>O(R,I+1))})]},_.id)};return e(ae,{children:[s&&e("div",{class:"fixed inset-0 bg-black/60 z-40 md:hidden",onClick:n}),e("aside",{class:`
        fixed
        top-0 left-0
        z-50 md:z-auto
        h-screen
        bg-gray-900/98 md:bg-gray-900/95
        border-r border-gray-700/50
        shadow-2xl
        flex flex-col
        transition-all duration-300 ease-in-out
        ${s?"w-56 translate-x-0":"w-0 md:w-16 -translate-x-full md:translate-x-0"}
        md:translate-x-0
        overflow-hidden
      `,children:[e("div",{class:`
          border-b border-gray-700/50
          transition-all duration-300
          ${s?"p-4":"p-2 md:p-3"}
        `,children:e("div",{class:`
            flex items-center justify-between
            transition-all duration-300
          `,children:[e("div",{class:`
              flex items-center gap-3
              transition-all duration-300
              ${!s&&"md:justify-center md:gap-0"}
            `,children:[e("div",{class:"w-10 h-10 bg-gradient-to-br from-[#9c40ff] via-[#8b008b] to-[#e94057] rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:e("span",{class:"text-white font-bold text-lg",children:"G"})}),e("div",{class:`
                transition-all duration-300 overflow-hidden
                ${!s&&"md:w-0 md:opacity-0"}
              `,children:[e("h1",{class:"text-white font-bold whitespace-nowrap",children:"GLINR Dock"}),e("p",{class:"text-gray-400 text-xs whitespace-nowrap",children:"Container Platform"})]})]}),s?e("button",{onClick:n,class:"hidden md:flex items-center justify-center w-8 h-8 rounded-lg text-gray-400 hover:text-white hover:bg-gray-800/50 transition-all duration-200",title:"Collapse sidebar",children:e(Bn,{class:"w-4 h-4"})}):e("button",{onClick:n,class:"hidden md:flex items-center justify-center w-8 h-8 rounded-lg text-gray-400 hover:text-white hover:bg-gray-800/50 transition-all duration-200 mx-auto",title:"Expand sidebar",children:e(St,{class:"w-4 h-4"})})]})}),e("nav",{class:`
          flex-1 overflow-y-auto
          transition-all duration-300
          ${!s&&"md:px-0"}
        `,children:e("div",{class:`
            transition-all duration-300
            ${s?"p-3 space-y-2":"p-1 space-y-1"}
          `,children:p.map((_,I)=>e("div",{class:`space-y-1 ${I>0?"pt-3 mt-3 border-t border-gray-700/30":""}`,children:[e("div",{onClick:()=>u(_.id),class:`
                    cursor-pointer flex items-center justify-between
                    text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider
                    px-3 py-1 hover:text-gray-300 dark:hover:text-gray-200 transition-colors
                    bg-gray-800/20 dark:bg-gray-700/20 rounded-md
                    ${!s&&"md:hidden"}
                  `,children:[e("span",{children:_.label}),e(Zt,{class:`
                    w-3 h-3 transition-transform duration-200
                    ${h.has(_.id)?"-rotate-90":""}
                  `})]}),e("div",{class:`
                  space-y-1 transition-all duration-200 overflow-hidden
                  ${h.has(_.id)?"max-h-0":"max-h-96"}
                `,children:_.items.map(B=>O(B))})]},_.id))})}),e("div",{class:`
          px-4 pb-2
          transition-all duration-300
          ${!s&&"md:hidden"}
        `,children:e(_l,{onRoleChange:d})}),e("div",{class:`
          border-t border-gray-700/50
          transition-all duration-300
          ${s?"p-4":"p-3"}
        `,children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:`
              flex items-center gap-3
              transition-all duration-300
              ${!s&&"md:w-0 md:opacity-0 md:gap-0"}
            `,children:[e("div",{class:"w-8 h-8 bg-gradient-to-br from-[#ffaa40] to-[#9c40ff] rounded-full flex items-center justify-center shadow-md",children:e(aa,{class:"w-4 h-4 text-white"})}),e("div",{class:"overflow-hidden",children:[e("p",{class:"text-white text-sm font-medium whitespace-nowrap",children:l?`Dev - ${i}`:"Admin User"}),e("p",{class:"text-gray-400 text-xs whitespace-nowrap",children:l?"Testing Mode":"Online"})]})]}),e("button",{onClick:x,class:`
                p-2 rounded-lg text-gray-400 hover:bg-red-500/10 hover:text-red-400
                transition-all duration-200 group flex-shrink-0
                ${!s&&"md:mx-auto"}
              `,title:"Sign Out",children:js("signout")})]})})]})]})}function Sl({status:t,lastChecked:r,size:a="xs"}){const s={xs:"px-1.5 py-0.5 text-xs",sm:"px-2 py-1 text-sm"};if(!t)return e("span",{class:`inline-flex items-center rounded font-medium bg-gray-600 text-gray-300 ${s[a]}`,children:"—"});const i={OK:{bgColor:"bg-green-500/20",textColor:"text-green-400",icon:"✓"},FAIL:{bgColor:"bg-red-500/20",textColor:"text-red-400",icon:"✕"}}[t],o=r?ja(r):"";return e("span",{class:`inline-flex items-center rounded font-medium ${i.bgColor} ${i.textColor} ${s[a]}`,title:r?`Last checked ${o}`:`Status: ${t}`,children:[e("span",{class:"mr-1",children:i.icon}),t]})}function Ll({variant:t="secondary",size:r="md",children:a,className:s=""}){const n={success:"bg-green-500/20 text-green-400",danger:"bg-red-500/20 text-red-400",warning:"bg-yellow-500/20 text-yellow-400",info:"bg-blue-500/20 text-blue-400",secondary:"bg-gray-500/20 text-gray-400"},i={sm:"px-1.5 py-0.5 text-xs",md:"px-2 py-1 text-sm",lg:"px-3 py-1.5 text-base"};return e("span",{class:`inline-flex items-center rounded font-medium ${n[t]} ${i[r]} ${s}`,children:a})}function Na({isOpen:t,onClose:r,title:a,children:s,size:n="md"}){return t?e("div",{class:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[e("div",{class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:r}),e("div",{class:`relative w-full ${{sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl"}[n]} max-h-[90vh] overflow-y-auto bg-gray-800 rounded-xl shadow-2xl border border-gray-700 animate-fade-in`,children:[e("div",{class:"flex items-center justify-between p-6 border-b border-gray-700",children:[e("h2",{class:"text-lg font-semibold text-white",children:a}),e("button",{onClick:r,class:"text-gray-400 hover:text-white transition-colors",children:"✕"})]}),e("div",{class:"p-6",children:s})]})]}):null}function Ea({size:t="md"}){return e("div",{class:`spinner ${{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t]}`})}function Da({isOpen:t,onClose:r,onConfirm:a,title:s,message:n,confirmText:i="Confirm",confirmStyle:o="primary",isLoading:l=!1}){return e(Na,{isOpen:t,onClose:r,title:s,size:"sm",children:e("div",{class:"space-y-4",children:[e("p",{class:"text-gray-300",children:n}),e("div",{class:"flex space-x-3 justify-end",children:[e("button",{onClick:r,disabled:l,class:"btn btn-ghost",children:"Cancel"}),e("button",{onClick:a,disabled:l,class:`btn ${o==="danger"?"btn-danger":"btn-primary"} flex items-center`,children:[l&&e(Ea,{size:"sm"}),e("span",{class:l?"ml-2":"",children:i})]})]})]})})}function Ml({isOpen:t,onClose:r,onSubmit:a}){const[s,n]=g(""),[i,o]=g(""),[l,c]=g(!1),[h,m]=g("");return e(Na,{isOpen:t,onClose:r,title:"Create New Project",children:e("form",{onSubmit:async u=>{if(u.preventDefault(),!s.trim()){m("Project name is required");return}try{c(!0),m(""),await a({name:s.trim(),description:i.trim()}),n(""),o(""),r()}catch(p){m(p instanceof Error?p.message:"Failed to create project")}finally{c(!1)}},class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"Project Name *"}),e("input",{type:"text",value:s,onInput:u=>n(u.target.value),placeholder:"my-awesome-project",class:"input",disabled:l,required:!0})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),e("textarea",{value:i,onInput:u=>o(u.target.value),placeholder:"Brief description of your project",rows:3,class:"input resize-none",disabled:l})]}),h&&e("p",{class:"text-sm text-red-400",children:h}),e("div",{class:"flex space-x-3 justify-end pt-2",children:[e("button",{type:"button",onClick:r,disabled:l,class:"btn btn-ghost",children:"Cancel"}),e("button",{type:"submit",disabled:l||!s.trim(),class:"btn btn-primary flex items-center",children:[l&&e(Ea,{size:"sm"}),e("span",{class:l?"ml-2":"",children:"Create Project"})]})]})]})})}function jl({isOpen:t,onClose:r,onSubmit:a,projectName:s,services:n=[]}){const[i,o]=g(""),[l,c]=g(""),[h,m]=g(""),[d,u]=g(!1),[p,x]=g(!1),[y,b]=g(""),O=async _=>{if(_.preventDefault(),!i.trim()||!l||!h.trim()){b("Domain, service, and port are required");return}const I=parseInt(h);if(isNaN(I)||I<1||I>65535){b("Port must be a number between 1 and 65535");return}try{x(!0),b("");const B={domain:i.trim(),service_id:l,port:I,tls:d};await a(B),o(""),c(""),m(""),u(!1),r()}catch(B){b(B instanceof Error?B.message:"Failed to create route")}finally{x(!1)}};return e(Na,{isOpen:t,onClose:r,title:`Create Route${s?` for ${s}`:""}`,size:"lg",children:e("form",{onSubmit:O,class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"Domain *"}),e("input",{type:"text",value:i,onInput:_=>o(_.target.value),placeholder:"app.example.com",class:"input",disabled:p,required:!0}),e("p",{class:"text-xs text-gray-400 mt-1",children:"Domain name where your service will be accessible"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"Service *"}),e("select",{value:l,onChange:_=>c(_.target.value),class:"input",disabled:p,required:!0,children:[e("option",{value:"",children:"Select service"}),n.map(_=>{var I;return e("option",{value:_.id,children:[_.name," (",((I=_.ports)==null?void 0:I.map(B=>B.container).join(", "))||"no ports",")"]},_.id)})]}),n.length===0&&e("p",{class:"text-xs text-yellow-400 mt-1",children:"No services available. Deploy a service first."})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"Port *"}),e("input",{type:"number",value:h,onInput:_=>m(_.target.value),placeholder:"80",class:"input",disabled:p,min:"1",max:"65535",required:!0}),e("p",{class:"text-xs text-gray-400 mt-1",children:"Port to route traffic to"})]}),e("div",{class:"flex items-center",children:[e("input",{type:"checkbox",id:"tls-enabled",checked:d,onChange:_=>u(_.target.checked),class:"mr-2 rounded",disabled:p}),e("label",{htmlFor:"tls-enabled",class:"text-sm text-gray-300",children:"Enable TLS (HTTPS)"})]}),y&&e("p",{class:"text-sm text-red-400",children:y}),e("div",{class:"flex space-x-3 justify-end pt-2",children:[e("button",{type:"button",onClick:r,disabled:p,class:"btn btn-ghost",children:"Cancel"}),e("button",{type:"submit",disabled:p||!i.trim()||!l||!h.trim(),class:"btn btn-primary flex items-center",children:[p&&e(Ea,{size:"sm"}),e("span",{class:p?"ml-2":"",children:"Create Route"})]})]})]})})}function Pl({isOpen:t,onClose:r,title:a,children:s,size:n="md"}){return t?e("div",{class:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[e("div",{class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:r}),e("div",{class:`relative w-full ${{sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl"}[n]} max-h-[90vh] overflow-y-auto bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 animate-fade-in`,children:[e("div",{class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:a}),e("button",{onClick:r,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"p-6",children:s})]})]}):null}function Nl({value:t,onChange:r,placeholder:a={},disabled:s=!1}){const[n,i]=g(()=>{const m=Object.entries(t||{});return m.length>0?m.map(([d,u])=>({key:d,value:u})):[{key:"",value:""}]}),o=m=>{i(m);const d={};m.forEach(u=>{u.key.trim()&&(d[u.key.trim()]=u.value)}),r(d)},l=(m,d,u)=>{const p=[...n];p[m]={...p[m],[d]:u},o(p)},c=()=>{o([...n,{key:"",value:""}])},h=m=>{if(n.length>1){const d=n.filter((u,p)=>p!==m);o(d)}};return e("div",{class:"space-y-3",children:[n.map((m,d)=>e("div",{class:"flex items-center space-x-2",children:[e("input",{type:"text",value:m.key,onInput:u=>l(d,"key",u.target.value),placeholder:a.key||"Key",class:"flex-1 min-w-0 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",disabled:s}),e("span",{class:"text-gray-500 dark:text-gray-400",children:"="}),e("input",{type:"text",value:m.value,onInput:u=>l(d,"value",u.target.value),placeholder:a.value||"Value",class:"flex-1 min-w-0 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",disabled:s}),e("div",{class:"flex items-center space-x-1",children:n.length>1&&e("button",{type:"button",onClick:()=>h(d),disabled:s,class:"p-1.5 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},d)),!s&&e("button",{type:"button",onClick:c,class:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e("span",{children:"Add Variable"})]})]})}function Kn({value:t,onChange:r,disabled:a=!1}){const[s,n]=g(()=>t.length>0?t:[{container:80,host:80}]),i=d=>{n(d),r(d.filter(u=>u.container>0&&u.host>0))},o=(d,u,p)=>{const x=parseInt(p)||0;if(x<0||x>65535)return;const y=[...s];y[d]={...y[d],[u]:x},i(y)},l=()=>{const d=new Set(s.map(p=>p.host));let u=8080;for(;d.has(u)&&u<65535;)u++;i([...s,{container:80,host:u}])},c=d=>{if(s.length>1){const u=s.filter((p,x)=>x!==d);i(u)}},h=(d,u)=>s.some((p,x)=>x!==u&&p.host===d.host&&p.host>0),m=d=>({80:{type:"HTTP",category:"web",warning:!1},443:{type:"HTTPS",category:"web",warning:!1},3e3:{type:"Development Server",category:"dev",warning:!1},8080:{type:"HTTP Alternate",category:"web",warning:!1},8443:{type:"HTTPS Alternate",category:"web",warning:!1},5e3:{type:"Flask/Development",category:"dev",warning:!1},5432:{type:"PostgreSQL",category:"database",warning:!1},3306:{type:"MySQL",category:"database",warning:!1},27017:{type:"MongoDB",category:"database",warning:!1},6379:{type:"Redis",category:"cache",warning:!1},22:{type:"SSH",category:"system",warning:!0},21:{type:"FTP",category:"system",warning:!0},25:{type:"SMTP",category:"system",warning:!0},53:{type:"DNS",category:"system",warning:!0},993:{type:"IMAPS",category:"system",warning:!0},995:{type:"POP3S",category:"system",warning:!0}})[d]||{type:"Custom",category:"custom",warning:d<1024};return e("div",{class:"space-y-3",children:[e("div",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Map container ports to host ports"}),s.map((d,u)=>{const p=h(d,u),x=m(d.container),y=m(d.host);return e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"flex items-center space-x-2 flex-1",children:[e("div",{class:"flex-1",children:[e("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Container Port"}),e("input",{type:"number",min:"1",max:"65535",value:d.container||"",onInput:b=>o(u,"container",b.target.value),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",disabled:a,placeholder:"80"}),d.container>0&&x.type!=="Custom"&&e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:x.type})]}),e("div",{class:"flex items-center justify-center mt-6",children:e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e("div",{class:"flex-1",children:[e("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Host Port"}),e("input",{type:"number",min:"1",max:"65535",value:d.host||"",onInput:b=>o(u,"host",b.target.value),class:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed ${p?"border-red-500 dark:border-red-500 focus:ring-red-500":y.warning?"border-orange-400 dark:border-orange-500 focus:ring-orange-500":"border-gray-300 dark:border-gray-600 focus:ring-[#9c40ff]"}`,disabled:a,placeholder:"80"}),p&&e("p",{class:"mt-1 text-xs text-red-600 dark:text-red-400 flex items-center",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:e("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Port ",d.host," is already mapped"]}),!p&&d.host>0&&e("div",{class:"mt-1 flex items-center justify-between",children:[e("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:[y.type,y.category==="system"&&e("span",{class:"ml-1 text-orange-600 dark:text-orange-400",children:"• System port"})]}),y.warning&&e("span",{class:"inline-flex items-center text-xs text-orange-600 dark:text-orange-400",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:e("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})}),"Security risk"]})]})]})]}),e("div",{class:"flex items-center space-x-1 mt-6",children:s.length>1&&e("button",{type:"button",onClick:()=>c(u),disabled:a,class:"p-1.5 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove port mapping",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},u)}),!a&&e("button",{type:"button",onClick:l,class:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e("span",{children:"Add Port Mapping"})]}),!a&&e("div",{class:"border-t border-gray-200 dark:border-gray-600 pt-4 space-y-3",children:[e("div",{children:[e("p",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Web Servers:"}),e("div",{class:"flex flex-wrap gap-1",children:[{port:80,label:"HTTP"},{port:443,label:"HTTPS"},{port:3e3,label:"Dev"},{port:8080,label:"Alt HTTP"},{port:8443,label:"Alt HTTPS"},{port:5e3,label:"Flask"}].map(({port:d,label:u})=>e("button",{type:"button",onClick:()=>{new Set(s.map(x=>x.host)).has(d)||i([...s,{container:d,host:d}])},disabled:s.some(p=>p.host===d),class:"inline-flex items-center px-2 py-1 text-xs bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 rounded border border-blue-200 dark:border-blue-700 hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:`Add ${u} server (${d}:${d})`,children:[d,e("span",{class:"ml-1 text-blue-500 dark:text-blue-400",children:["·",u]})]},d))})]}),e("div",{children:[e("p",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Databases:"}),e("div",{class:"flex flex-wrap gap-1",children:[{port:5432,label:"PostgreSQL"},{port:3306,label:"MySQL"},{port:27017,label:"MongoDB"},{port:6379,label:"Redis"}].map(({port:d,label:u})=>e("button",{type:"button",onClick:()=>{new Set(s.map(x=>x.host)).has(d)||i([...s,{container:d,host:d}])},disabled:s.some(p=>p.host===d),class:"inline-flex items-center px-2 py-1 text-xs bg-purple-50 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 rounded border border-purple-200 dark:border-purple-700 hover:bg-purple-100 dark:hover:bg-purple-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:`Add ${u} database (${d}:${d})`,children:[d,e("span",{class:"ml-1 text-purple-500 dark:text-purple-400",children:["·",u]})]},d))})]}),e("div",{children:[e("p",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Development:"}),e("div",{class:"flex flex-wrap gap-1",children:[{port:4e3,label:"Node"},{port:8e3,label:"Django"},{port:9e3,label:"PHP-FPM"},{port:3001,label:"React"}].map(({port:d,label:u})=>e("button",{type:"button",onClick:()=>{new Set(s.map(x=>x.host)).has(d)||i([...s,{container:d,host:d}])},disabled:s.some(p=>p.host===d),class:"inline-flex items-center px-2 py-1 text-xs bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-300 rounded border border-green-200 dark:border-green-700 hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:`Add ${u} server (${d}:${d})`,children:[d,e("span",{class:"ml-1 text-green-500 dark:text-green-400",children:["·",u]})]},d))})]})]})]})}function El({isOpen:t,onClose:r,onSubmit:a,projectName:s}){const[n,i]=g(""),[o,l]=g(""),[c,h]=g({}),[m,d]=g([]),[u,p]=g(""),[x,y]=g([]),[b,O]=g(!1),[_,I]=g(""),B=Ar();K(()=>{t&&B&&L()},[t,B]);const L=async()=>{try{const C=await $.getRegistries();y(C.registries)}catch(C){console.warn("Failed to load registries:",C)}},w=[{image:"nginx:alpine",desc:"Web server"},{image:"node:18-alpine",desc:"Node.js app"},{image:"python:3.11-slim",desc:"Python app"},{image:"postgres:15",desc:"Database"},{image:"redis:alpine",desc:"Cache"},{image:"traefik:latest",desc:"Proxy"},{image:"mongo:6",desc:"MongoDB"},{image:"mysql:8",desc:"MySQL"}],k=()=>{if(!n.trim())return I("Service name is required"),!1;if(!o.trim())return I("Docker image is required"),!1;if(!/^[a-z0-9]([a-z0-9-]*[a-z0-9])?$/.test(n))return I("Service name must be lowercase alphanumeric with hyphens (DNS-label friendly)"),!1;const C=m.map(v=>v.host).filter(v=>v>0),T=new Set(C);return C.length!==T.size?(I("Host ports must be unique"),!1):m.filter(v=>v.container<1||v.container>65535||v.host<1||v.host>65535).length>0?(I("Ports must be between 1 and 65535"),!1):!0},R=async C=>{if(C.preventDefault(),!!k())try{O(!0),I("");const T={name:n.trim(),image:o.trim(),env:Object.keys(c).length>0?c:void 0,ports:m.length>0?m:void 0,registry_id:u||void 0};await a(T),i(""),l(""),h({}),d([]),p(""),r()}catch(T){I(T instanceof Error?T.message:"Failed to create service")}finally{O(!1)}},P=()=>{i(""),l(""),h({}),d([]),p(""),I("")},M=()=>{P(),r()};return e(Pl,{isOpen:t,onClose:M,title:`Deploy Service${s?` to ${s}`:""}`,size:"lg",children:e("form",{onSubmit:R,class:"space-y-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"Service Name *"}),e("input",{type:"text",value:n,onInput:C=>i(C.target.value),placeholder:"my-web-app",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",disabled:b,required:!0}),e("p",{class:"text-xs text-gray-400 mt-1",children:"Must be lowercase, alphanumeric with hyphens (DNS-friendly)"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:["Docker Image *",e("span",{class:"text-xs text-gray-400 font-normal ml-2",children:"Choose from popular images or enter custom"})]}),e("div",{class:"mb-3",children:[e("p",{class:"text-xs text-gray-400 mb-2",children:"Popular images:"}),e("div",{class:"grid grid-cols-2 gap-2",children:w.map(({image:C,desc:T})=>e("button",{type:"button",onClick:()=>l(C),class:"px-3 py-2 text-left text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg text-gray-700 dark:text-gray-300 transition-colors",disabled:b,title:T,children:[e("div",{class:"font-medium",children:C}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:T})]},C))})]}),e("input",{type:"text",value:o,onInput:C=>l(C.target.value),placeholder:"nginx:latest, node:18-alpine, or myregistry/myapp:v1.0",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",disabled:b,required:!0}),e("p",{class:"text-xs text-gray-400 mt-1",children:"Use Docker Hub images or private registry URLs"})]}),B&&x.length>0&&e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:["Container Registry (optional)",e("span",{class:"text-xs text-gray-400 font-normal ml-2",children:"Select registry for private images"})]}),e("select",{value:u,onChange:C=>p(C.target.value),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",disabled:b,children:[e("option",{value:"",children:"No registry (use Docker Hub)"}),x.map(C=>e("option",{value:C.id,children:[C.name," (",C.type,")"]},C.id))]}),e("p",{class:"text-xs text-gray-400 mt-1",children:"Required for pulling private images from container registries"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"Environment Variables (optional)"}),e(Nl,{value:c,onChange:h,placeholder:{key:"NODE_ENV",value:"production"},disabled:b}),e("p",{class:"text-xs text-gray-400 mt-1",children:"Configuration variables for your service"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"Port Mappings (optional)"}),e(Kn,{value:m,onChange:d,disabled:b}),e("p",{class:"text-xs text-gray-400 mt-1",children:"Expose container ports to the host"})]}),_&&e("div",{class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e("p",{class:"text-sm text-red-800 dark:text-red-200",children:_})}),e("div",{class:"flex space-x-3 justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:[e("button",{type:"button",onClick:M,disabled:b,class:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e("button",{type:"submit",disabled:b||!n.trim()||!o.trim(),class:"flex items-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-[#9c40ff] to-[#8b008b] hover:from-[#8b008b] hover:to-[#9c40ff] rounded-lg shadow-lg shadow-[#9c40ff]/25 hover:shadow-xl hover:shadow-[#9c40ff]/30 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-[#9c40ff]/25",children:[b&&e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e("svg",{class:`w-4 h-4 mr-2 ${b?"hidden":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),e("span",{children:b?"Deploying...":"Deploy Service"})]})]})]})})}function Dl({isOpen:t,onClose:r,serviceId:a,serviceName:s}){const[n,i]=g([]),[o,l]=g(!1),[c,h]=g(null),[m,d]=g(!0),[u,p]=g(50),x=Ge(null),y=Ge(null),b=async()=>{if(t)try{l(!0),h(null);const B=await $.getServiceLogs(a,u);i(B.logs||[])}catch(B){console.error("Failed to fetch logs:",B),h(B instanceof Error?B.message:"Failed to fetch logs"),i([])}finally{l(!1)}},O=()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)};K(()=>(t&&(b(),m&&(y.current=setInterval(b,3e3))),()=>{y.current&&(clearInterval(y.current),y.current=null)}),[t,m,u,a]),K(()=>{n.length>0&&setTimeout(O,100)},[n]);const _=()=>{d(!m)},I=B=>{const L=B.target;p(parseInt(L.value))};return t?e("div",{class:"fixed inset-0 z-[9999] flex",children:[e("div",{class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:r}),e("div",{class:"ml-auto relative w-full max-w-4xl bg-white dark:bg-gray-800 shadow-2xl border-l border-gray-200 dark:border-gray-700 animate-slide-in",children:[e("div",{class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e("div",{children:[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Service Logs"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-300",children:s})]}),e("div",{class:"flex items-center gap-3",children:[e("div",{class:"flex items-center gap-2",children:[e("label",{class:"text-sm text-gray-600 dark:text-gray-300",children:"Lines:"}),e("select",{value:u,onChange:I,class:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e("option",{value:25,children:"25"}),e("option",{value:50,children:"50"}),e("option",{value:100,children:"100"}),e("option",{value:200,children:"200"}),e("option",{value:500,children:"500"})]})]}),e("button",{onClick:_,class:`px-3 py-1.5 text-sm rounded transition-colors ${m?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:m?"🟢 Auto":"⏸️ Manual"}),e("button",{onClick:b,disabled:o,class:"px-3 py-1.5 text-sm bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors disabled:opacity-50",children:[o?"⏳":"🔄"," Refresh"]}),e("button",{onClick:r,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e("div",{class:"flex flex-col h-full",children:[e("div",{class:"px-4 py-2 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:e("div",{class:"flex items-center justify-between text-sm",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:c?e("span",{class:"text-red-600 dark:text-red-400",children:["❌ ",c]}):e("span",{children:["📄 ",n.length," lines ",m?"• Auto-refreshing every 3s":""]})}),o&&e("span",{class:"text-blue-600 dark:text-blue-400",children:"⏳ Loading..."})]})}),e("div",{ref:x,class:"flex-1 overflow-y-auto p-4 bg-gray-900 text-green-400 font-mono text-sm",style:{minHeight:"calc(100vh - 160px)"},children:c?e("div",{class:"text-center py-8",children:[e("div",{class:"text-red-400 text-lg mb-2",children:"⚠️ Error Loading Logs"}),e("div",{class:"text-gray-400",children:c}),e("button",{onClick:b,class:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Retry"})]}):n.length===0?e("div",{class:"text-center py-8",children:o?e("div",{class:"text-gray-400",children:"⏳ Loading logs..."}):e("div",{class:"text-gray-500",children:"📭 No logs available"})}):e("pre",{class:"whitespace-pre-wrap break-all",children:n.map((B,L)=>e("div",{class:"hover:bg-gray-800 px-2 py-0.5 -mx-2 rounded",children:[e("span",{class:"text-gray-500 mr-3 select-none",children:[String(L+1).padStart(3," "),"│"]}),e("span",{children:B})]},L))})}),e("div",{class:"px-4 py-2 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:e("div",{class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[e("span",{children:["Service ID: ",a]}),e("div",{class:"flex items-center gap-4",children:[e("button",{onClick:O,class:"text-blue-600 dark:text-blue-400 hover:underline",children:"⬇️ Scroll to Bottom"}),e("span",{children:"Press ESC to close"})]})]})})]})]})]}):null}const Ps={FREE:"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/20",PRO:"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900/20",PREMIUM:"text-purple-600 bg-purple-100 dark:text-purple-400 dark:bg-purple-900/20"};let rr=null,ur=[];async function Qn(){try{const t=await $.getSystemPlan();return rr=t,Rl(),t}catch(t){return console.error("Error fetching plan info:",t),null}}async function vt(){await Qn()}function Yn(t){return ur.push(t),rr&&t(rr),()=>{const r=ur.indexOf(t);r>-1&&ur.splice(r,1)}}function Rl(){ur.forEach(t=>t(rr))}function Al(){return rr}function Ir(t){return t==="unlimited"||t===-1}function Jn(t,r){if(Ir(r))return 0;const a=typeof r=="string"?parseInt(r,10):r;return Math.min(t/a*100,100)}function Il(t,r){return Jn(t,r)>=80}function Tt(t,r){if(Ir(r))return!1;const a=typeof r=="string"?parseInt(r,10):r;return t>=a}function Tl(t){return Ir(t)?"Unlimited":t.toString()}async function $l(){await Qn()}function Zn(t){const r=t;return{text:r,className:Ps[r]||Ps.FREE}}function Bl(){const[t,r]=g(!1),[a,s]=g(null),[n,i]=g(null),[o,l]=g(!1),[c,h]=g(!1),[m,d]=g(null),[u,p]=g(null),[x,y]=g({}),[b,O]=g({show:!1,message:"",type:"info"}),{data:_,loading:I,refetch:B}=be(()=>$.getProjects()),{data:L}=be(()=>$.getAuthInfo()),w=Ar(L==null?void 0:L.role),{data:k}=be(()=>$.get("/routes").then(S=>S.routes||[]),[]),R=S=>k?k.filter(H=>H.service_id===parseInt(S)):[],P=S=>`${S.tls?"https":"http"}://${S.domain}`,{data:M}=be(n?()=>$.getProject(n):()=>Promise.resolve(null),[n]),{data:C}=be(n?()=>$.getProjectServices(Number(n)):()=>Promise.resolve(null),[n]),T=async S=>{try{await $.createProject(S),O({show:!0,message:"Project created successfully",type:"success"}),await vt(),B()}catch(H){const U=H instanceof Error?H.message:"Failed to create project";(U.includes("quota")||U.includes("limit"))&&await vt(),O({show:!0,message:U,type:"error"})}},D=async()=>{if(a)try{await $.deleteProject(a),O({show:!0,message:"Project deleted successfully",type:"success"}),s(null),B()}catch(S){O({show:!0,message:S instanceof Error?S.message:"Failed to delete project",type:"error"})}},v=async S=>{if(n)try{await $.createService(n,S),O({show:!0,message:"Service created successfully",type:"success"}),l(!1),await vt()}catch(H){const U=H instanceof Error?H.message:"Failed to create service";(U.includes("quota")||U.includes("limit"))&&await vt(),O({show:!0,message:U,type:"error"})}},A=async(S,H)=>{y(U=>({...U,[`start_${S}`]:!0}));try{await $.startService(S),O({show:!0,message:`Service "${H}" started successfully`,type:"success"})}catch(U){O({show:!0,message:U instanceof Error?U.message:"Failed to start service",type:"error"})}finally{y(U=>({...U,[`start_${S}`]:!1}))}},G=async(S,H)=>{y(U=>({...U,[`stop_${S}`]:!0}));try{await $.stopService(S),O({show:!0,message:`Service "${H}" stopped successfully`,type:"success"})}catch(U){O({show:!0,message:U instanceof Error?U.message:"Failed to stop service",type:"error"})}finally{y(U=>({...U,[`stop_${S}`]:!1}))}},f=(S,H)=>{d(S),p(H),h(!0)};return I?e("div",{class:"p-3 sm:p-4 max-w-7xl mx-auto space-y-4 fade-in",children:e("div",{class:"animate-pulse",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("div",{children:[e("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-32 mb-2"}),e("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-56"})]}),e("div",{class:"h-10 bg-gray-200 dark:bg-gray-700 rounded-lg w-32"})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:e("div",{class:"p-4 space-y-3",children:[...Array(3)].map((S,H)=>e("div",{class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg"}),e("div",{children:[e("div",{class:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-24 mb-1"}),e("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-32"})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-16"}),e("div",{class:"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded"})]})]})},H))})})]})}):e("div",{class:"p-3 sm:p-4 max-w-7xl mx-auto space-y-4 fade-in",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("div",{children:[e("h1",{class:"text-2xl font-bold mb-1",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] via-[#9c40ff] to-[#e94057] bg-clip-text text-transparent",children:"Projects"})}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm",children:"Organize and manage container applications"})]}),w&&e("button",{class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-[#9c40ff] to-[#8b008b] hover:from-[#8b008b] hover:to-[#9c40ff] text-white font-medium rounded-lg shadow-md transition-all duration-200 hover:scale-[1.02] text-sm",onClick:()=>r(!0),children:[e(yt,{class:"w-4 h-4 mr-2"}),"New Project"]})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:e("div",{class:"p-4",children:_&&_.length>0?e("div",{class:"space-y-3",children:_.map(S=>e("div",{class:`group bg-gray-50 dark:bg-gray-700/50 rounded-lg border-2 transition-all duration-200 cursor-pointer hover:shadow-md ${n===S.id.toString()?"border-[#9c40ff] bg-purple-50 dark:bg-purple-900/20":"border-transparent hover:border-gray-200 dark:hover:border-gray-600"}`,onClick:()=>i(n===S.id.toString()?null:S.id.toString()),children:e("div",{class:"p-4",children:[e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-10 h-10 bg-gradient-to-br from-[#9c40ff]/20 to-[#8b008b]/20 rounded-lg flex items-center justify-center",children:e(pt,{class:"w-5 h-5 text-[#9c40ff]"})}),e("div",{class:"flex-1",children:[e("div",{class:"flex items-center gap-3 mb-1",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white group-hover:text-[#8b008b] dark:group-hover:text-[#9c40ff] transition-colors",children:S.name}),S.description&&e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:["• ",S.description]})]}),e("div",{class:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[e("span",{children:["ID: ",S.id]}),e("span",{children:["Created ",new Date(S.created_at).toLocaleDateString()]}),S.branch&&e("span",{class:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-2 py-0.5 rounded",children:[e(vr,{class:"w-3 h-3 inline mr-1"}),S.branch]}),S.network_name&&e("span",{class:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded font-mono",children:[e(er,{class:"w-3 h-3 inline mr-1"}),S.network_name]})]})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("button",{class:"p-1.5 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/20 rounded transition-colors",onClick:H=>{H.stopPropagation();const U=`/app/services?project=${S.id}`;window.history.pushState({},"",U),window.dispatchEvent(new PopStateEvent("popstate"))},title:"View services",children:e(Dr,{class:"w-4 h-4"})}),w&&e("button",{class:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors",onClick:H=>{H.stopPropagation(),s(S.id.toString())},title:"Delete project",children:e(et,{class:"w-4 h-4"})}),e(Zt,{class:`w-4 h-4 text-gray-400 transition-transform duration-200 ${n===S.id.toString()?"rotate-180":""}`})]})]}),n===S.id.toString()&&M&&C!==void 0&&e("div",{class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600 space-y-4 bg-white dark:bg-gray-800 rounded-b-lg -mx-4 -mb-4 px-4 pb-4",children:[(M.repo_url||M.image_target||M.network_name)&&e("div",{class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 space-y-2",children:[e("h5",{class:"text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide flex items-center",children:[e(Ke,{class:"w-3 h-3 mr-1.5"}),"Configuration"]}),e("div",{class:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs",children:[M.repo_url&&e("div",{class:"flex items-center space-x-2",children:[e(Uo,{class:"w-3.5 h-3.5 text-gray-500 flex-shrink-0"}),e("div",{class:"min-w-0",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Repository:"}),e("a",{href:M.repo_url,target:"_blank",rel:"noopener noreferrer",class:"ml-1 text-purple-600 dark:text-purple-400 hover:underline font-mono text-xs truncate block",children:M.repo_url})]})]}),M.image_target&&e("div",{class:"flex items-center space-x-2",children:[e(Lt,{class:"w-3.5 h-3.5 text-gray-500 flex-shrink-0"}),e("div",{class:"min-w-0",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Image Target:"}),e("span",{class:"ml-1 font-mono text-xs text-gray-900 dark:text-white truncate block",children:M.image_target})]})]}),M.network_name&&e("div",{class:"flex items-center space-x-2",children:[e(er,{class:"w-3.5 h-3.5 text-gray-500 flex-shrink-0"}),e("div",{class:"min-w-0",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Network:"}),e("span",{class:"ml-1 font-mono text-xs text-gray-900 dark:text-white",children:M.network_name})]})]}),M.branch&&e("div",{class:"flex items-center space-x-2",children:[e(vr,{class:"w-3.5 h-3.5 text-gray-500 flex-shrink-0"}),e("div",{class:"min-w-0",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Branch:"}),e("span",{class:"ml-1 font-mono text-xs text-gray-900 dark:text-white",children:M.branch})]})]})]})]}),e("div",{children:[e("div",{class:"flex items-center justify-between mb-3",children:[e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white flex items-center",children:[e(Lt,{class:"w-4 h-4 mr-1.5 text-gray-500"}),"Services (",C?C.length:0,")"]}),e("div",{class:"flex gap-2",children:[e("button",{onClick:H=>{H.stopPropagation();const U=`/app/services?project=${S.id}`;window.history.pushState({},"",U),window.dispatchEvent(new PopStateEvent("popstate"))},class:"px-2 py-1 text-xs text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/20 rounded transition-colors",children:"View All"}),w&&e("button",{onClick:H=>{H.stopPropagation(),l(!0)},class:"px-2 py-1 text-xs text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/20 rounded transition-colors",children:"Deploy Service"})]})]}),C&&C.length>0?e("div",{class:"grid gap-2",children:[C.slice(0,3).map(H=>e("div",{class:"bg-white dark:bg-gray-800 rounded p-3 border border-gray-200 dark:border-gray-600",children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center space-x-2 min-w-0 flex-1",children:[e("div",{class:"w-6 h-6 bg-blue-100 dark:bg-blue-900/30 rounded flex items-center justify-center",children:e(Lt,{class:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),e("div",{class:"min-w-0 flex-1",children:[e("div",{class:"flex items-center gap-2",children:[e("span",{class:"font-medium text-sm text-gray-900 dark:text-white truncate",children:H.name}),e("span",{class:`px-1.5 py-0.5 text-xs font-medium rounded-full ${H.status==="running"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":H.status==="stopped"?"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:H.status||"unknown"})]}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400 truncate",children:H.image})]})]}),e("div",{class:"flex items-center gap-1",children:[(()=>{const U=R(H.id);return U.length>0?e("button",{onClick:j=>{j.stopPropagation(),window.open(P(U[0]),"_blank")},class:"p-1 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/20 rounded transition-colors",title:`Open ${U[0].domain}`,children:e(Er,{class:"w-3 h-3"})}):null})(),e("button",{onClick:U=>{U.stopPropagation(),f(H.id,H.name)},class:"p-1 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"View logs",children:e(mt,{class:"w-3 h-3"})}),w&&e(ae,{children:H.status==="running"?e("button",{onClick:U=>{U.stopPropagation(),G(H.id,H.name)},disabled:x[`stop_${H.id}`],class:"p-1 text-orange-600 dark:text-orange-400 hover:bg-orange-100 dark:hover:bg-orange-900/20 rounded transition-colors disabled:opacity-50",title:"Stop service",children:x[`stop_${H.id}`]?e("div",{class:"w-3 h-3 border border-orange-600 border-t-transparent rounded-full animate-spin"}):e(Qt,{class:"w-3 h-3"})}):e("button",{onClick:U=>{U.stopPropagation(),A(H.id,H.name)},disabled:x[`start_${H.id}`],class:"p-1 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/20 rounded transition-colors disabled:opacity-50",title:"Start service",children:x[`start_${H.id}`]?e("div",{class:"w-3 h-3 border border-green-600 border-t-transparent rounded-full animate-spin"}):e(jt,{class:"w-3 h-3"})})})]})]})},H.id)),C.length>3&&e("div",{class:"text-center py-2",children:e("button",{onClick:H=>{H.stopPropagation();const U=`/app/services?project=${S.id}`;window.history.pushState({},"",U),window.dispatchEvent(new PopStateEvent("popstate"))},class:"text-xs text-purple-600 dark:text-purple-400 hover:underline",children:["View all ",C.length," services"]})})]}):e("div",{class:"text-center py-6 text-gray-500 dark:text-gray-400",children:[e(Lt,{class:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e("p",{class:"text-xs",children:"No services deployed yet"}),w&&e("button",{onClick:H=>{H.stopPropagation(),l(!0)},class:"mt-2 px-3 py-1 text-xs bg-[#9c40ff] text-white rounded hover:bg-[#8b008b] transition-colors",children:"Deploy First Service"})]})]})]})]})},S.id))}):e("div",{class:"text-center py-12",children:[e("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e(pt,{class:"w-8 h-8 text-gray-400"})}),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No projects found"}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm mb-6",children:w?"Create your first project to organize and manage services.":"No projects have been created yet."}),w&&e("button",{class:"inline-flex items-center px-4 py-2 bg-[#9c40ff] hover:bg-[#8b008b] text-white font-medium rounded-lg transition-colors",onClick:()=>r(!0),children:[e(yt,{class:"w-4 h-4 mr-2"}),"Create Project"]})]})})}),e(Ml,{isOpen:t,onClose:()=>r(!1),onSubmit:T}),e(Da,{isOpen:!!a,onClose:()=>s(null),onConfirm:D,title:"Delete Project",message:"Are you sure you want to delete this project? This action cannot be undone.",confirmText:"Delete",confirmStyle:"danger"}),e(El,{isOpen:o,onClose:()=>l(!1),onSubmit:v,projectName:M==null?void 0:M.name}),e(Dl,{isOpen:c,onClose:()=>{h(!1),d(null),p(null)},serviceId:m||"",serviceName:u||""}),e(rt,{message:b.message,type:b.type,isVisible:b.show,onClose:()=>O({...b,show:!1})})]})}const Fr={preferBrandIcons:!0,theme:"system"};class zl{constructor(){qe(this,"settings");this.settings=this.loadSettings()}loadSettings(){try{const r=localStorage.getItem("glinr-settings");if(r){const a=JSON.parse(r);return{...Fr,...a}}}catch(r){console.warn("Failed to load settings from localStorage:",r)}return Fr}saveSettings(){try{localStorage.setItem("glinr-settings",JSON.stringify(this.settings))}catch(r){console.warn("Failed to save settings to localStorage:",r)}}get preferBrandIcons(){return this.settings.preferBrandIcons}set preferBrandIcons(r){this.settings.preferBrandIcons=r,this.saveSettings()}get theme(){return this.settings.theme}set theme(r){this.settings.theme=r,this.saveSettings()}getAll(){return{...this.settings}}reset(){this.settings={...Fr},this.saveSettings()}}const Ol=new zl;function Hl({slug:t,color:r,className:a="w-full h-full object-contain",alt:s,onError:n,onLoad:i}){const[o,l]=g(null),[c,h]=g(!0),[m,d]=g(!1);if(K(()=>{let p=!1;return(async()=>{try{if(h(!0),d(!1),dr.isIconCached(t,r)){const b=await dr.getIcon(t,r);p||(l(b),h(!1),b&&i&&i(),!b&&n&&n());return}const y=await dr.getIcon(t,r);p||(l(y),h(!1),y?i&&i():(d(!0),n&&n()))}catch{p||(d(!0),h(!1),n&&n())}})(),()=>{p=!0}},[t,r,n,i]),c||m||!o)return null;const u=`data:image/svg+xml;base64,${btoa(o)}`;return e("img",{src:u,alt:s||t,className:`${a} cached-simple-icon`,loading:"lazy",style:{display:"block"}})}const Ns=()=>Ol.preferBrandIcons,z={postgresql:Me,redis:ut,mongodb:Me,mysql:Me,nginx:Nt,apache:Nt,nodedotjs:Mt,python:Mt,java:Mt,rabbitmq:rl,elasticsearch:Me,grafana:Ho,kafka:sl,minio:pt,docker:Lt},Fe={postgresql:"#336791",redis:"#DC382D",mongodb:"#47A248",mysql:"#4479A1",nginx:"#269539",apache:"#D22128",nodedotjs:"#339933",python:"#3776AB",java:"#ED8B00",rabbitmq:"#FF6600",elasticsearch:"#FEC514",grafana:"#F46800",kafka:"#231F20",minio:"#C72E29",docker:"#2496ED"},Es=[{patterns:["postgres"],icon:z.postgresql,color:Fe.postgresql,name:"PostgreSQL",slug:"postgresql"},{patterns:["redis"],icon:z.redis,color:Fe.redis,name:"Redis",slug:"redis"},{patterns:["mongo"],icon:z.mongodb,color:Fe.mongodb,name:"MongoDB",slug:"mongodb"},{patterns:["mysql"],icon:z.mysql,color:Fe.mysql,name:"MySQL",slug:"mysql"},{patterns:["mariadb"],icon:z.mysql,color:Fe.mysql,name:"MariaDB",slug:"mariadb"},{patterns:["nginx"],icon:z.nginx,color:Fe.nginx,name:"Nginx",slug:"nginx"},{patterns:["apache","httpd"],icon:z.apache,color:Fe.apache,name:"Apache",slug:"apache"},{patterns:["node"],icon:z.nodedotjs,color:Fe.nodedotjs,name:"Node.js",slug:"nodedotjs"},{patterns:["python"],icon:z.python,color:Fe.python,name:"Python",slug:"python"},{patterns:["openjdk","java"],icon:z.java,color:Fe.java,name:"Java",slug:"openjdk"},{patterns:["rabbitmq"],icon:z.rabbitmq,color:Fe.rabbitmq,name:"RabbitMQ",slug:"rabbitmq"},{patterns:["elasticsearch","elastic"],icon:z.elasticsearch,color:Fe.elasticsearch,name:"Elasticsearch",slug:"elasticsearch"},{patterns:["grafana"],icon:z.grafana,color:Fe.grafana,name:"Grafana",slug:"grafana"},{patterns:["kafka"],icon:z.kafka,color:Fe.kafka,name:"Kafka",slug:"apachekafka"},{patterns:["minio"],icon:z.minio,color:Fe.minio,name:"MinIO",slug:"minio"},{patterns:["docker"],icon:z.docker,color:Fe.docker,name:"Docker",slug:"docker"},{patterns:["influxdb"],icon:z.elasticsearch,color:"#22ADF6",name:"InfluxDB",slug:"influxdb"},{patterns:["cassandra"],icon:Me,color:"#1287B1",name:"Cassandra",slug:"apachecassandra"},{patterns:["clickhouse"],icon:Me,color:"#FFCC00",name:"ClickHouse",slug:"clickhouse"},{patterns:["cockroach"],icon:Me,color:"#6933FF",name:"CockroachDB",slug:"cockroachlabs"},{patterns:["neo4j"],icon:Me,color:"#008CC1",name:"Neo4j",slug:"neo4j"},{patterns:["arangodb"],icon:Me,color:"#68A063",name:"ArangoDB",slug:"arangodb"},{patterns:["prometheus","prom/"],icon:z.grafana,color:"#E6522C",name:"Prometheus",slug:"prometheus"},{patterns:["jaeger"],icon:z.grafana,color:"#60D0E4",name:"Jaeger",slug:"jaeger"},{patterns:["zipkin"],icon:z.grafana,color:"#FF6B35",name:"Zipkin"},{patterns:["kibana"],icon:z.grafana,color:"#005571",name:"Kibana",slug:"kibana"},{patterns:["logstash"],icon:z.grafana,color:"#005571",name:"Logstash",slug:"logstash"},{patterns:["loki"],icon:z.grafana,color:"#F46800",name:"Loki",slug:"grafana"},{patterns:["tempo"],icon:z.grafana,color:"#F46800",name:"Tempo",slug:"grafana"},{patterns:["victoria"],icon:z.grafana,color:"#621773",name:"VictoriaMetrics",slug:"victoriametrics"},{patterns:["alertmanager"],icon:z.grafana,color:"#E6522C",name:"Alertmanager",slug:"prometheus"},{patterns:["jenkins"],icon:z.docker,color:"#D33833",name:"Jenkins",slug:"jenkins"},{patterns:["code-server"],icon:z.nodedotjs,color:"#007ACC",name:"Code Server",slug:"visualstudiocode"},{patterns:["theia"],icon:z.nodedotjs,color:"#0B5394",name:"Eclipse Theia",slug:"eclipseide"},{patterns:["traefik"],icon:z.nginx,color:"#24A1C1",name:"Traefik",slug:"traefikproxy"},{patterns:["caddy"],icon:z.nginx,color:"#1F88C0",name:"Caddy",slug:"caddy"},{patterns:["memcached"],icon:z.redis,color:"#1db4e8",name:"Memcached"},{patterns:["hazelcast"],icon:z.redis,color:"#FF6900",name:"Hazelcast"},{patterns:["solr"],icon:z.elasticsearch,color:"#D9411E",name:"Apache Solr",slug:"apachesolr"},{patterns:["meilisearch"],icon:z.elasticsearch,color:"#FF5CAA",name:"MeiliSearch",slug:"meilisearch"},{patterns:["opensearch"],icon:z.elasticsearch,color:"#005EB8",name:"OpenSearch",slug:"opensearch"},{patterns:["nextcloud"],icon:z.minio,color:"#0082C9",name:"Nextcloud",slug:"nextcloud"},{patterns:["owncloud"],icon:z.minio,color:"#1D2D44",name:"ownCloud",slug:"owncloud"},{patterns:["seafile"],icon:z.minio,color:"#FF8C00",name:"Seafile"},{patterns:["syncthing"],icon:z.minio,color:"#0891D1",name:"Syncthing",slug:"syncthing"},{patterns:["filebrowser"],icon:z.minio,color:"#007d9c",name:"FileBrowser"},{patterns:["gitea"],icon:z.nginx,color:"#609926",name:"Gitea",slug:"gitea"},{patterns:["gitlab"],icon:z.nginx,color:"#FC6D26",name:"GitLab",slug:"gitlab"},{patterns:["vault"],icon:z.nginx,color:"#000000",name:"Vault",slug:"vault"},{patterns:["consul"],icon:z.nginx,color:"#CA2171",name:"Consul",slug:"consul"},{patterns:["keycloak"],icon:z.nginx,color:"#4D4D4D",name:"Keycloak",slug:"keycloak"},{patterns:["vaultwarden"],icon:z.nginx,color:"#175DDC",name:"Vaultwarden",slug:"bitwarden"},{patterns:["bitwarden"],icon:z.nginx,color:"#175DDC",name:"Bitwarden",slug:"bitwarden"},{patterns:["wordpress"],icon:z.nginx,color:"#21759B",name:"WordPress",slug:"wordpress"},{patterns:["ghost"],icon:z.nginx,color:"#15171A",name:"Ghost",slug:"ghost"},{patterns:["drupal"],icon:z.nginx,color:"#0073BA",name:"Drupal",slug:"drupal"},{patterns:["strapi"],icon:z.nodedotjs,color:"#2F2E8B",name:"Strapi",slug:"strapi"},{patterns:["plex"],icon:z.nginx,color:"#E5A00D",name:"Plex",slug:"plex"},{patterns:["jellyfin"],icon:z.nginx,color:"#00A4DC",name:"Jellyfin",slug:"jellyfin"},{patterns:["plausible"],icon:z.grafana,color:"#5850EC",name:"Plausible",slug:"plausibleanalytics"},{patterns:["umami"],icon:z.grafana,color:"#FF6B35",name:"Umami",slug:"umami"},{patterns:["matomo"],icon:z.grafana,color:"#3450A3",name:"Matomo",slug:"matomo"},{patterns:["linuxserver/sonarr"],icon:z.nginx,color:"#35C5F0",name:"Sonarr",slug:"sonarr"},{patterns:["linuxserver/radarr"],icon:z.nginx,color:"#FFC230",name:"Radarr",slug:"radarr"},{patterns:["linuxserver/bazarr"],icon:z.nginx,color:"#FF6900",name:"Bazarr",slug:"bazarr"},{patterns:["linuxserver/lidarr"],icon:z.nginx,color:"#159552",name:"Lidarr",slug:"lidarr"},{patterns:["linuxserver/readarr"],icon:z.nginx,color:"#D4AF37",name:"Readarr"},{patterns:["linuxserver/prowlarr"],icon:z.nginx,color:"#FF6B35",name:"Prowlarr"},{patterns:["linuxserver/jackett"],icon:z.nginx,color:"#9F1D20",name:"Jackett",slug:"jackett"},{patterns:["linuxserver/overseerr"],icon:z.nginx,color:"#5460E6",name:"Overseerr"},{patterns:["linuxserver/tautulli"],icon:z.grafana,color:"#DBA81A",name:"Tautulli"},{patterns:["linuxserver/heimdall"],icon:z.nginx,color:"#52C8F5",name:"Heimdall"},{patterns:["linuxserver/organizr"],icon:z.nginx,color:"#1B1C1D",name:"Organizr"},{patterns:["linuxserver/duplicati"],icon:z.minio,color:"#FF8C00",name:"Duplicati"},{patterns:["linuxserver/plex"],icon:z.nginx,color:"#E5A00D",name:"Plex"},{patterns:["linuxserver/jellyfin"],icon:z.nginx,color:"#00A4DC",name:"Jellyfin"},{patterns:["linuxserver/emby"],icon:z.nginx,color:"#52B54B",name:"Emby"},{patterns:["linuxserver/nextcloud"],icon:z.nginx,color:"#0082C9",name:"Nextcloud",slug:"nextcloud"},{patterns:["linuxserver/photoprism"],icon:z.nginx,color:"#40BCF4",name:"PhotoPrism"},{patterns:["linuxserver/bookstack"],icon:z.nginx,color:"#0288D1",name:"BookStack"},{patterns:["linuxserver/wikijs"],icon:z.nginx,color:"#1976D2",name:"Wiki.js"},{patterns:["linuxserver/code-server"],icon:z.nginx,color:"#007ACC",name:"Code Server"},{patterns:["linuxserver/transmission"],icon:z.nginx,color:"#C41E3A",name:"Transmission",slug:"transmission"},{patterns:["linuxserver/qbittorrent"],icon:z.nginx,color:"#2E5BBA",name:"qBittorrent",slug:"qbittorrent"},{patterns:["linuxserver/deluge"],icon:z.nginx,color:"#D3D3D3",name:"Deluge",slug:"deluge"},{patterns:["linuxserver/nzbget"],icon:z.nginx,color:"#37B24D",name:"NZBGet"},{patterns:["linuxserver/sabnzbd"],icon:z.nginx,color:"#F7931A",name:"SABnzbd"},{patterns:["sonarr"],icon:z.nginx,color:"#35C5F0",name:"Sonarr",slug:"sonarr"},{patterns:["radarr"],icon:z.nginx,color:"#FFC230",name:"Radarr",slug:"radarr"},{patterns:["bazarr"],icon:z.nginx,color:"#FF6900",name:"Bazarr",slug:"bazarr"},{patterns:["sonarqube"],icon:z.nginx,color:"#4E9BCD",name:"SonarQube"},{patterns:["couchbase"],icon:z.redis,color:"#EA2328",name:"Couchbase"},{patterns:["couchdb"],icon:z.redis,color:"#E42528",name:"CouchDB",slug:"apachecouchdb"},{patterns:["etcd"],icon:z.postgresql,color:"#419EDA",name:"etcd",slug:"etcd"},{patterns:["phpmyadmin"],icon:z.mysql,color:"#F29111",name:"phpMyAdmin",slug:"phpmyadmin"},{patterns:["adminer"],icon:z.mysql,color:"#34567C",name:"Adminer",slug:"adminer"},{patterns:["joomla"],icon:z.nginx,color:"#5091CD",name:"Joomla",slug:"joomla"},{patterns:["authentik"],icon:z.nginx,color:"#FF6A00",name:"authentik",slug:"authentik"},{patterns:["pihole"],icon:z.nginx,color:"#96060C",name:"Pi-hole",slug:"pihole"},{patterns:["unbound"],icon:z.nginx,color:"#E05D44",name:"Unbound"},{patterns:["haproxy"],icon:z.nginx,color:"#106DA9",name:"HAProxy"},{patterns:["nats"],icon:z.nginx,color:"#199BFC",name:"NATS"},{patterns:["rmohr/activemq","activemq"],icon:z.nginx,color:"#AA1C16",name:"ActiveMQ"},{patterns:["golang"],icon:z.nodedotjs,color:"#00ADD8",name:"Go",slug:"go"},{patterns:["php"],icon:z.nodedotjs,color:"#777BB4",name:"PHP",slug:"php"},{patterns:["ruby"],icon:z.nodedotjs,color:"#CC342D",name:"Ruby",slug:"ruby"},{patterns:["mcr.microsoft.com/dotnet/runtime","dotnet"],icon:z.nodedotjs,color:"#5C2D91",name:".NET",slug:"dotnet"},{patterns:["mailhog/mailhog","mailhog"],icon:z.nginx,color:"#BA3925",name:"MailHog"},{patterns:["zookeeper"],icon:z.nginx,color:"#D22128",name:"ZooKeeper"},{patterns:["linuxserver/wireguard"],icon:z.nginx,color:"#88171A",name:"WireGuard",slug:"wireguard"},{patterns:["kylemanna/openvpn"],icon:z.nginx,color:"#EA7E20",name:"OpenVPN",slug:"openvpn"},{patterns:["internetsystemsconsortium/bind9","bind9"],icon:z.nginx,color:"#4053D6",name:"BIND 9"},{patterns:["dgraph/dgraph","dgraph"],icon:z.postgresql,color:"#E50695",name:"Dgraph",slug:"dgraph"},{patterns:["orientdb"],icon:z.postgresql,color:"#EE6A42",name:"OrientDB"},{patterns:["questdb/questdb","questdb"],icon:z.postgresql,color:"#D14671",name:"QuestDB"},{patterns:["metabase/metabase","metabase"],icon:z.nginx,color:"#509EE3",name:"Metabase",slug:"metabase"},{patterns:["prefecthq/prefect","prefect"],icon:z.nginx,color:"#024DFD",name:"Prefect",slug:"prefect"},{patterns:["n8nio/n8n","n8n"],icon:z.nginx,color:"#EA4B71",name:"n8n",slug:"n8n"},{patterns:["nocodb/nocodb","nocodb"],icon:z.nginx,color:"#FF792E",name:"NocoDB"},{patterns:["hasura/graphql-engine","hasura"],icon:z.nginx,color:"#1EB4D4",name:"Hasura",slug:"hasura"},{patterns:["emby/embyserver"],icon:z.nginx,color:"#52B54B",name:"Emby"},{patterns:["portainer"],icon:z.docker,color:"#13BEF9",name:"Portainer",slug:"portainer"},{patterns:["watchtower"],icon:z.docker,color:"#2496ED",name:"Watchtower"},{patterns:["uptime-kuma"],icon:z.grafana,color:"#5CDD8B",name:"Uptime Kuma",slug:"uptimekuma"},{patterns:["ubuntu"],icon:z.nginx,color:"#E95420",name:"Ubuntu",slug:"ubuntu"},{patterns:["linux"],icon:z.nginx,color:"#FCC624",name:"Linux",slug:"linux"},{patterns:["apple"],icon:z.nginx,color:"#000000",name:"Apple",slug:"apple"},{patterns:["pterodactyl"],icon:z.nginx,color:"#0E4688",name:"Pterodactyl Panel",slug:"pterodactyl"},{patterns:["passbolt"],icon:z.nginx,color:"#D40101",name:"Passbolt"},{patterns:["raspberry","rasberry","rpi"],icon:z.nginx,color:"#C51A4A",name:"Raspberry Pi"}],Vl=t=>{const r=t.toLowerCase();for(const a of Es)if(a.patterns.some(s=>r.includes(s)))return{icon:a.icon,color:a.color,name:a.name,slug:a.slug};if(r.includes("/")){const a=r.split("/").pop()||r;for(const s of Es)if(s.patterns.some(n=>a===n))return{icon:s.icon,color:s.color,name:s.name,slug:s.slug}}return null},kt=({imageName:t,className:r="w-8 h-8",size:a,color:s})=>{const n=Vl(t);if(!n)return e("div",{className:`${r} bg-gray-200 dark:bg-gray-700 rounded flex items-center justify-center text-gray-500 dark:text-gray-400 text-xs font-bold`,style:{width:a,height:a},children:e(tt,{className:"w-1/2 h-1/2"})});const i=n.icon||tt,o=s||n.color;return e("div",{className:`${r} rounded flex items-center justify-center`,"data-service":t,style:{width:a,height:a,color:o,backgroundColor:"transparent"},children:[n.slug&&Ns()?e(Hl,{slug:n.slug,color:n.color.replace("#",""),alt:n.name,className:"w-full h-full object-contain",onError:()=>{const l=document.querySelector(`[data-service="${t}"]`);if(l){const c=l.querySelector(".cached-simple-icon"),h=l.querySelector(".fallback-icon");c&&(c.style.display="none"),h&&(h.style.display="block")}}}):null,e(i,{className:`w-3/4 h-3/4 fallback-icon text-gray-600 dark:text-gray-300 ${n.slug&&Ns()?"hidden":""}`})]})};function Wt({children:t,variant:r="default",size:a="xs",className:s=""}){const n={xs:"px-2 py-1 text-xs",sm:"px-2.5 py-1.5 text-sm"},i={default:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300",success:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",warning:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300",error:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",info:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",secondary:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300"};return e("span",{class:`inline-flex items-center rounded-full font-medium border-0 ${n[a]} ${i[r]} ${s}`,children:t})}function Ra({status:t,size:r="xs",showDot:a=!0}){const s={running:{variant:"success",color:"bg-green-500",label:"Running"},stopped:{variant:"default",color:"bg-gray-500",label:"Stopped"},error:{variant:"error",color:"bg-red-500",label:"Error"},starting:{variant:"info",color:"bg-blue-500",label:"Starting"},stopping:{variant:"warning",color:"bg-orange-500",label:"Stopping"},created:{variant:"info",color:"bg-blue-500",label:"Created"},paused:{variant:"warning",color:"bg-yellow-500",label:"Paused"},unknown:{variant:"default",color:"bg-gray-400",label:"Unknown"}},n=s[t]||s.error;return e(Wt,{variant:n.variant,size:r,children:[a&&e("div",{class:`w-1.5 h-1.5 rounded-full mr-1.5 ${n.color}`}),n.label]})}function Fl({port:t,size:r="xs"}){return e(Wt,{variant:"info",size:r,children:[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 717.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),t.host,":",t.container]})}function Wl({tag:t,size:r="xs"}){return e(Wt,{variant:"secondary",size:r,children:[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),t]})}function Xn(t){const[r,a]=t.split("@"),[s,n="latest"]=r.split(":"),i=s.split("/");let o,l,c;return i.length===1?c=i[0]:i.length===2?i[0].includes(".")||i[0].includes(":")?(o=i[0],c=i[1]):(l=i[0],c=i[1]):i.length>=3?(o=i[0],l=i[1],c=i.slice(2).join("/")):c=s,{registry:o,namespace:l,repository:c,tag:n,digest:a}}function _r(t){return Xn(t).tag}function na(t){const r=Xn(t),a=[r.repository];return r.tag!=="latest"&&a.push(r.tag),a.join(":")}function Ul(t){const r=new Date(t),s=new Date().getTime()-r.getTime(),n=Math.floor(s/(1e3*60)),i=Math.floor(s/(1e3*60*60)),o=Math.floor(s/(1e3*60*60*24));return n<60?n<1?"Just now":`${n}m ago`:i<24?`${i}h ago`:o<7?`${o}d ago`:r.toLocaleDateString()}function ql({projects:t,onServiceAdopted:r}){const[a,s]=g([]),[n,i]=g(!1),[o,l]=g(null),[c,h]=g(!1),[m,d]=g(!1),[u,p]=g(null),[x,y]=g(!1),[b,O]=g(!1),[_,I]=g({projectId:"",serviceName:""}),[B,L]=g(!1),[w,k]=g(!1),[R,P]=g({message:"",type:"info",isVisible:!1}),M=(f,S)=>{P({message:f,type:S,isVisible:!0})},C=async()=>{i(!0),l(null);try{const f=await $.discoverServices(c);s(f.discovered_services||[])}catch(f){l(f instanceof Error?f.message:"Failed to discover services"),console.error("Discovery failed:",f)}finally{i(!1)}};K(()=>{C()},[c]);const T=(f,S)=>{p(f),S==="adopt"?(I({projectId:"",serviceName:f.container_name.replace("/glinr_","").replace(/^[0-9]+_/,"")||"imported-service"}),d(!0)):S==="cleanup"?(k(f.status.includes("Up")),L(!0)):S==="inspect"&&M(`Container ID: ${f.container_id}`,"info")},D=async()=>{if(!u||!_.projectId||!_.serviceName){M("Please fill in all required fields","error");return}y(!0);try{const f={container_id:u.container_id,project_id:parseInt(_.projectId),service_name:_.serviceName},S=await $.adoptContainer(f);M(S.message,"success"),d(!1),p(null),I({projectId:"",serviceName:""}),await C(),r==null||r()}catch(f){console.error("Adoption failed:",f),M(f instanceof Error?f.message:"Failed to adopt container","error")}finally{y(!1)}},v=async()=>{if(u){O(!0);try{const f={container_id:u.container_id,force:w},S=await $.cleanupContainer(f);M(S.message,"success"),L(!1),p(null),k(!1),await C()}catch(f){console.error("Cleanup failed:",f),M(f instanceof Error?f.message:"Failed to cleanup container","error")}finally{O(!1)}}},A=f=>f.is_orphaned?f.status.includes("Up")?"text-yellow-600":"text-red-600":f.status.includes("Up")?"text-green-600":"text-gray-600",G=f=>f.is_orphaned?e(we,{className:"w-4 h-4 text-yellow-500"}):f.status.includes("Up")?e(Xt,{className:"w-4 h-4 text-green-500"}):e(Fo,{className:"w-4 h-4 text-gray-500"});return e("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200/50 dark:border-gray-700/50",children:[e("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center space-x-3",children:[e(dt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Service Discovery"}),e("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e(Lt,{className:"w-4 h-4"}),e("span",{children:[a.length," containers found"]})]})]}),e("div",{className:"flex items-center space-x-3",children:[e("div",{className:"flex items-center space-x-3",children:[e("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Show all containers"}),e("button",{type:"button",className:`relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${c?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"}`,role:"switch","aria-checked":c,onClick:()=>h(!c),children:[e("span",{className:"sr-only",children:"Show all containers"}),e("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out ${c?"translate-x-4":"translate-x-0"}`})]})]}),e("button",{onClick:C,disabled:n,className:"inline-flex items-center px-3 py-2 text-sm bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors disabled:opacity-50",children:[e(hr,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),n?"Discovering...":"Refresh"]})]})]})}),e("div",{className:"p-6",children:[o&&e("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg",children:[e("div",{className:"flex items-center text-red-800 dark:text-red-200",children:[e(we,{className:"w-5 h-5 mr-2"}),e("span",{className:"font-medium",children:"Discovery Failed"})]}),e("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:o})]}),a.length===0&&!n?e("div",{className:"text-center py-12",children:[e(Lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:c?"No containers found":"No orphaned containers found"}),e("p",{className:"text-gray-600 dark:text-gray-400",children:c?"No GLINR-managed containers are running on this system.":"All containers are properly tracked in the database."})]}):e("div",{className:"space-y-4",children:a.map(f=>e("div",{className:`flex items-center justify-between p-4 border rounded-lg transition-colors ${f.is_orphaned?"border-yellow-200 dark:border-yellow-700 bg-yellow-50/50 dark:bg-yellow-900/10":"border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-700/20"}`,children:[e("div",{className:"flex items-center space-x-4",children:[e(kt,{imageName:f.image,className:"w-12 h-12 shadow-lg",size:48}),e("div",{children:[e("div",{className:"flex items-center space-x-2",children:[e("h4",{className:"font-medium text-gray-900 dark:text-white",children:f.container_name.replace("/glinr_","").replace(/^[0-9]+_/,"")}),G(f),e("span",{className:`text-sm ${A(f)}`,children:f.status})]}),e("div",{className:"flex items-center space-x-3 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[e("span",{className:"font-mono",children:f.image}),e("span",{children:"•"}),e("span",{children:new Date(f.created).toLocaleDateString()}),f.project_id&&e(ae,{children:[e("span",{children:"•"}),e("span",{children:["Project ",f.project_id]})]})]}),f.is_orphaned&&f.orphan_reason&&e("div",{className:"mt-2 flex items-center space-x-2 text-sm text-yellow-700 dark:text-yellow-300",children:[e(Bt,{className:"w-4 h-4"}),e("span",{children:f.orphan_reason})]})]})]}),e("div",{className:"flex items-center space-x-2",children:[f.is_orphaned&&e("button",{onClick:()=>T(f,"adopt"),className:"inline-flex items-center px-3 py-2 text-sm bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 rounded-lg hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors",children:[e(yt,{className:"w-4 h-4 mr-1"}),"Adopt"]}),e("button",{onClick:()=>T(f,"cleanup"),className:"inline-flex items-center px-3 py-2 text-sm bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800/50 transition-colors",children:[e(et,{className:"w-4 h-4 mr-1"}),"Cleanup"]}),e("button",{onClick:()=>T(f,"inspect"),className:"inline-flex items-center px-3 py-2 text-sm bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[e(Bt,{className:"w-4 h-4 mr-1"}),"Details"]})]})]},f.container_id))})]}),e(Et,{isOpen:m,onClose:()=>d(!1),title:"Adopt Container",size:"md",children:u&&e("div",{className:"space-y-6",children:[e("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700",children:e("div",{className:"flex items-start space-x-3",children:[e(Bt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),e("div",{children:[e("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Container Adoption"}),e("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"This will create a new service entry in the database for this existing container. The container will be managed by GLINR going forward."})]})]})}),e("div",{className:"space-y-4",children:[e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Container Details"}),e("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg space-y-2 text-sm",children:[e("div",{children:[e("strong",{children:"Name:"})," ",u.container_name]}),e("div",{children:[e("strong",{children:"Image:"})," ",u.image]}),e("div",{children:[e("strong",{children:"Status:"})," ",u.status]}),e("div",{children:[e("strong",{children:"Created:"})," ",new Date(u.created).toLocaleString()]})]})]}),e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign to Project"}),e("select",{value:_.projectId,onChange:f=>I(S=>({...S,projectId:f.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[e("option",{value:"",children:"Select a project..."}),t.map(f=>e("option",{value:f.id,children:f.name},f.id))]})]}),e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Name"}),e("input",{type:"text",value:_.serviceName,onChange:f=>I(S=>({...S,serviceName:f.target.value})),placeholder:"Enter service name...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),e("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),e("button",{onClick:D,disabled:x,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x?e(ae,{children:[e(hr,{className:"w-4 h-4 mr-2 animate-spin"}),"Adopting..."]}):e(ae,{children:[e(yt,{className:"w-4 h-4 mr-2"}),"Adopt Container"]})})]})]})}),e(Et,{isOpen:B,onClose:()=>L(!1),title:"Cleanup Container",size:"md",children:u&&e("div",{className:"space-y-6",children:[e("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-700",children:e("div",{className:"flex items-start space-x-3",children:[e(we,{className:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5"}),e("div",{children:[e("h4",{className:"font-medium text-red-900 dark:text-red-100 mb-2",children:"Container Cleanup"}),e("p",{className:"text-sm text-red-800 dark:text-red-200",children:["This will permanently remove the container and its data.",u.status.includes("Up")&&" The container is currently running and will be forcefully stopped."]})]})]})}),e("div",{className:"space-y-4",children:[e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Container Details"}),e("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg space-y-2 text-sm",children:[e("div",{children:[e("strong",{children:"Name:"})," ",u.container_name]}),e("div",{children:[e("strong",{children:"Image:"})," ",u.image]}),e("div",{children:[e("strong",{children:"Status:"})," ",u.status]}),e("div",{children:[e("strong",{children:"Created:"})," ",new Date(u.created).toLocaleString()]})]})]}),u.status.includes("Up")&&e("div",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",id:"forceCleanup",checked:w,onChange:f=>k(f.target.checked),className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),e("label",{htmlFor:"forceCleanup",className:"text-sm text-gray-700 dark:text-gray-300",children:"Force stop running container"})]})]}),e("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),e("button",{onClick:v,disabled:b,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?e(ae,{children:[e(hr,{className:"w-4 h-4 mr-2 animate-spin"}),"Cleaning up..."]}):e(ae,{children:[e(et,{className:"w-4 h-4 mr-2"}),"Delete Container"]})})]})]})}),e(rt,{message:R.message,type:R.type,isVisible:R.isVisible,onClose:()=>P(f=>({...f,isVisible:!1}))})]})}function Gl({isOpen:t,onClose:r,onConfirm:a,title:s="Delete Service",message:n="This action cannot be undone. This will permanently delete the service and all associated data.",serviceName:i,requireTextConfirmation:o=!0,confirmationText:l,isLoading:c=!1,customContent:h}){const[m,d]=g("");if(!t)return null;const u=l||i||"DELETE",p=!o||m===u,x=b=>{b.preventDefault(),p&&!c&&a()},y=()=>{d(""),r()};return e("div",{class:"fixed inset-0 z-50 overflow-y-auto",children:e("div",{class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e("div",{class:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity",onClick:y}),e("div",{class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full border border-gray-200 dark:border-gray-700",children:e("form",{onSubmit:x,children:[e("div",{class:"bg-white dark:bg-gray-800 px-6 pt-6 pb-4",children:e("div",{class:"sm:flex sm:items-start",children:[e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30 sm:mx-0 sm:h-10 sm:w-10",children:e(we,{class:"h-6 w-6 text-red-600 dark:text-red-400"})}),e("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1",children:[e("h3",{class:"text-lg leading-6 font-semibold text-gray-900 dark:text-white",children:s}),e("div",{class:"mt-3 space-y-3",children:[i&&e("div",{class:"bg-gray-50 dark:bg-gray-900/50 rounded-lg p-3 border border-gray-200 dark:border-gray-700",children:e("p",{class:"text-sm font-medium text-gray-900 dark:text-white",children:["Service: ",i]})}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",children:n}),h]}),o&&e("div",{class:"mt-4",children:[e("div",{class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 mb-3",children:e("div",{class:"flex",children:[e(ol,{class:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5 mr-2 flex-shrink-0"}),e("div",{class:"text-sm",children:e("p",{class:"text-yellow-800 dark:text-yellow-200 font-medium",children:["Type ",e("code",{class:"bg-yellow-200 dark:bg-yellow-800 px-1.5 py-0.5 rounded font-mono text-xs",children:u})," to confirm"]})})]})}),e("input",{type:"text",value:m,onInput:b=>d(b.target.value),placeholder:`Type "${u}" to confirm`,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm",autoComplete:"off",spellCheck:!1}),m&&m!==u&&e("p",{class:"text-xs text-red-600 dark:text-red-400 mt-1",children:['Please type "',u,'" exactly as shown']})]})]}),e("button",{type:"button",onClick:y,class:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-700",disabled:c,children:e(Rr,{class:"h-5 w-5"})})]})}),e("div",{class:"bg-gray-50 dark:bg-gray-900/50 px-6 py-4 sm:flex sm:flex-row-reverse border-t border-gray-200 dark:border-gray-700",children:[e("button",{type:"submit",disabled:!p||c,class:"w-full inline-flex justify-center items-center rounded-lg border border-transparent shadow-sm px-4 py-2.5 bg-red-600 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed sm:ml-3 sm:w-auto transition-all duration-200",children:c?e(ae,{children:[e("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete Forever"}),e("button",{type:"button",onClick:y,disabled:c,class:"mt-3 w-full inline-flex justify-center rounded-lg border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2.5 bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed sm:mt-0 sm:ml-3 sm:w-auto transition-all duration-200",children:"Cancel"})]})]})})]})})}function Kl({onNavigateToService:t}={}){const[r,a]=g([]),[s,n]=g([]),[i,o]=g(!0),[l,c]=g(!0),[h,m]=g(null),[d,u]=g(!1),[p,x]=g({name:"",image:"",ports:[{host:8080,container:8080}],env:{}}),[y,b]=g(""),[O,_]=g(!1),[I,B]=g("cards"),[L,w]=g("name"),[k,R]=g("asc"),[P,M]=g("all"),[C,T]=g(""),[D,v]=g(!1),[A,G]=g(null),[f,S]=g(!1),H=N=>{const W=new URL(window.location.href);N===""?W.searchParams.delete("project"):W.searchParams.set("project",N.toString()),window.history.replaceState({},"",W.toString())},{data:U}=be(()=>$.getSystemInfo());K(()=>{j()},[]),K(()=>{h!==null&&s.length>0&&V()},[h,s]),K(()=>{const W=new URLSearchParams(window.location.search).get("project");if(W&&s.length>0){const X=parseInt(W,10);!isNaN(X)&&s.some(ue=>ue.id===X)&&m(X)}},[s]);const j=async()=>{try{const N=await $.getProjects();n(N),N.length>0&&h===null&&m("")}catch(N){console.error("Failed to load projects:",N)}finally{c(!1)}},V=async()=>{try{let N=[];if(h===""){const W=[];for(const X of s)try{const ue=await $.getProjectServices(X.id);W.push(...ue)}catch(ue){console.error(`Failed to load services for project ${X.id}:`,ue)}N=W}else N=await $.getProjectServices(h);a(N)}catch(N){console.error("Failed to load services:",N)}finally{o(!1)}},oe=async(N,W)=>{try{if(N==="start")await $.startService(W);else if(N==="stop")await $.stopService(W);else if(N==="restart")await $.restartService(W);else if(N==="delete"){const X=r.find(ue=>ue.id===W);G({id:W,name:(X==null?void 0:X.name)||"Unknown Service"}),v(!0);return}V()}catch(X){console.error(`Failed to ${N} service:`,X)}},fe=async()=>{if(!(!A||f)){S(!0);try{await $.deleteService(A.id),V()}catch(N){console.error("Failed to delete service:",N)}finally{S(!1),v(!1),G(null)}}},Ie=()=>{f||(v(!1),G(null))},Te=async()=>{if(!p.name||!p.image)return;const N=h===""?s.length>0?s[0].id:null:h;if(N){_(!0);try{const W={};y.trim()&&y.split(`
`).forEach(X=>{const[ue,...Y]=X.split("=");ue&&Y.length>0&&(W[ue.trim()]=Y.join("=").trim())}),await $.createService(N,{name:p.name,image:p.image,ports:p.ports.length>0?p.ports:void 0,env:Object.keys(W).length>0?W:void 0}),x({name:"",image:"",ports:[{host:8080,container:8080}],env:{}}),b(""),u(!1),V()}catch(W){console.error("Failed to create service:",W)}finally{_(!1)}}},Qe=()=>{x({...p,ports:[...p.ports,{host:3e3,container:3e3}]})},Ye=N=>{x({...p,ports:p.ports.filter((W,X)=>X!==N)})},$e=(N,W,X)=>{const ue=[...p.ports];ue[N][W]=X,x({...p,ports:ue})},_e=r.filter(N=>{if(P!=="all"&&N.status!==P)return!1;if(C.trim()){const W=C.toLowerCase();return N.name.toLowerCase().includes(W)||N.image.toLowerCase().includes(W)||na(N.image).toLowerCase().includes(W)}return!0}).sort((N,W)=>{let X=0;switch(L){case"name":X=N.name.localeCompare(W.name);break;case"status":X=N.status.localeCompare(W.status);break;case"image":X=N.image.localeCompare(W.image);break;case"created":X=N.name.localeCompare(W.name);break;default:X=0}return k==="asc"?X:-X}),Be=()=>e("div",{class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:_e.map(N=>e("div",{class:"group bg-gradient-to-r from-white/50 via-gray-50/40 to-white/50 dark:from-gray-800/50 dark:via-gray-700/40 dark:to-gray-800/50 rounded-xl p-4 border border-gray-200/50 dark:border-gray-600/50 hover:shadow-lg hover:shadow-[#10b981]/10 hover:border-[#10b981]/30 transition-all duration-200 hover:scale-[1.02] cursor-pointer",onClick:()=>t==null?void 0:t(N.id),children:e("div",{class:"flex flex-col items-center text-center",children:[e(kt,{imageName:N.image,className:"w-12 h-12 mb-3",size:48}),e("h3",{class:"font-bold text-gray-900 dark:text-white mb-1 truncate w-full",children:N.name}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-2 truncate w-full",children:na(N.image)}),e("div",{class:"flex flex-wrap gap-1 mb-2 justify-center",children:[e(Ra,{status:N.status,size:"xs"}),_r(N.image)!=="latest"&&e(Wl,{tag:_r(N.image),size:"xs"})]}),N.ports&&N.ports.length>0&&e("div",{class:"flex flex-wrap gap-1 mb-3 justify-center",children:[N.ports.slice(0,2).map((W,X)=>e(Fl,{port:W,size:"xs"},X)),N.ports.length>2&&e("span",{class:"text-xs text-gray-500",children:["+",N.ports.length-2]})]}),e("div",{class:"flex items-center gap-1 w-full",children:[N.status==="running"?e(ae,{children:[e("button",{class:"flex-1 px-2 py-1 text-xs text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-all",onClick:W=>{W.stopPropagation(),oe("stop",N.id)},title:"Stop",children:e(Qt,{className:"w-3 h-3 mx-auto"})}),e("button",{class:"flex-1 px-2 py-1 text-xs text-yellow-600 dark:text-yellow-400 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 rounded transition-all",onClick:W=>{W.stopPropagation(),oe("restart",N.id)},title:"Restart",children:e(lt,{className:"w-3 h-3 mx-auto"})})]}):e("button",{class:"flex-1 px-2 py-1 text-xs text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/30 rounded transition-all",onClick:W=>{W.stopPropagation(),oe("start",N.id)},title:"Start",children:e(jt,{className:"w-3 h-3 mx-auto"})}),e("button",{class:"flex-1 px-2 py-1 text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-900/30 rounded transition-all",onClick:W=>{W.stopPropagation(),oe("delete",N.id)},title:"Delete",children:e(et,{className:"w-3 h-3 mx-auto"})})]})]})},N.id))}),De=()=>e("div",{class:"space-y-2",children:_e.map(N=>e("div",{class:"group flex items-center justify-between py-3 px-4 bg-gradient-to-r from-white/50 via-gray-50/40 to-white/50 dark:from-gray-800/50 dark:via-gray-700/40 dark:to-gray-800/50 rounded-lg border border-gray-200/50 dark:border-gray-600/50 hover:shadow-md hover:shadow-[#10b981]/10 hover:border-[#10b981]/30 transition-all duration-200 cursor-pointer",onClick:()=>t==null?void 0:t(N.id),children:[e("div",{class:"flex items-center gap-4 flex-1",children:[e(kt,{imageName:N.image,className:"w-8 h-8",size:32}),e("div",{class:"flex-1 min-w-0",children:[e("h3",{class:"font-semibold text-gray-900 dark:text-white truncate",children:N.name}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 truncate",children:N.image})]}),e("span",{class:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N.status==="running"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":N.status==="stopped"?"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:[e("div",{class:`w-1.5 h-1.5 rounded-full mr-1 ${N.status==="running"?"bg-green-500":N.status==="stopped"?"bg-gray-500":"bg-red-500"}`}),N.status]})]}),e("div",{class:"flex items-center gap-1 ml-4",children:[N.status==="running"?e(ae,{children:[e("button",{class:"p-1.5 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-all",onClick:W=>{W.stopPropagation(),oe("stop",N.id)},title:"Stop",children:e(Qt,{className:"w-4 h-4"})}),e("button",{class:"p-1.5 text-yellow-600 dark:text-yellow-400 hover:bg-yellow-100 dark:hover:bg-yellow-900/30 rounded transition-all",onClick:W=>{W.stopPropagation(),oe("restart",N.id)},title:"Restart",children:e(lt,{className:"w-4 h-4"})})]}):e("button",{class:"p-1.5 text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/30 rounded transition-all",onClick:W=>{W.stopPropagation(),oe("start",N.id)},title:"Start",children:e(jt,{className:"w-4 h-4"})}),e("button",{class:"p-1.5 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-900/30 rounded transition-all",onClick:W=>{W.stopPropagation(),oe("delete",N.id)},title:"Delete",children:e(et,{className:"w-4 h-4"})})]})]},N.id))}),J=()=>e("div",{class:"grid gap-4",children:_e.map(N=>e("div",{class:"group bg-gradient-to-r from-white/50 via-gray-50/40 to-white/50 dark:from-gray-800/50 dark:via-gray-700/40 dark:to-gray-800/50 rounded-xl p-5 border border-gray-200/50 dark:border-gray-600/50 hover:shadow-lg hover:shadow-[#10b981]/10 hover:border-[#10b981]/30 transition-all duration-200 hover:scale-[1.01] cursor-pointer",onClick:()=>t==null?void 0:t(N.id),children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center space-x-4",children:[e(kt,{imageName:N.image,className:"w-14 h-14 shadow-md group-hover:shadow-lg transition-all duration-200",size:56}),e("div",{children:[e("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-1 group-hover:text-[#047857] dark:group-hover:text-[#10b981] transition-colors duration-200",children:N.name}),e("div",{class:"flex items-center space-x-4 text-sm text-gray-600 dark:text-gray-400",children:[e("span",{class:"flex items-center space-x-1",children:[e(Me,{className:"w-4 h-4"}),e("span",{children:N.image})]}),N.ports&&N.ports.length>0&&e("span",{class:"flex items-center space-x-1",children:[e(er,{className:"w-4 h-4"}),e("span",{children:N.ports.map(W=>`${W.host}:${W.container}`).join(", ")})]})]}),e("div",{class:"flex items-center space-x-2 mt-2",children:e("span",{class:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${N.status==="running"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border border-green-200 dark:border-green-700":N.status==="stopped"?"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300 border border-gray-200 dark:border-gray-700":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-700"}`,children:[e("div",{class:`w-2 h-2 rounded-full mr-1.5 ${N.status==="running"?"bg-green-500":N.status==="stopped"?"bg-gray-500":"bg-red-500"}`}),N.status]})})]})]}),e("div",{class:"flex items-center space-x-2",children:[N.status==="running"?e(ae,{children:[e("button",{class:"inline-flex items-center px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 bg-red-50/80 dark:bg-red-900/20 hover:bg-red-100/80 dark:hover:bg-red-900/30 rounded-lg transition-all duration-200 hover:scale-105",onClick:W=>{W.stopPropagation(),oe("stop",N.id)},title:"Stop service",children:[e(Qt,{className:"w-4 h-4 mr-1"}),"Stop"]}),e("button",{class:"inline-flex items-center px-3 py-2 text-sm font-medium text-yellow-600 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300 bg-yellow-50/80 dark:bg-yellow-900/20 hover:bg-yellow-100/80 dark:hover:bg-yellow-900/30 rounded-lg transition-all duration-200 hover:scale-105",onClick:W=>{W.stopPropagation(),oe("restart",N.id)},title:"Restart service",children:[e(lt,{className:"w-4 h-4 mr-1"}),"Restart"]})]}):e("button",{class:"inline-flex items-center px-3 py-2 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 bg-green-50/80 dark:bg-green-900/20 hover:bg-green-100/80 dark:hover:bg-green-900/30 rounded-lg transition-all duration-200 hover:scale-105",onClick:W=>{W.stopPropagation(),oe("start",N.id)},title:"Start service",children:[e(jt,{className:"w-4 h-4 mr-1"}),"Start"]}),e("button",{class:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-gray-50/80 dark:bg-gray-900/20 hover:bg-gray-100/80 dark:hover:bg-gray-900/30 rounded-lg transition-all duration-200 hover:scale-105",onClick:W=>{W.stopPropagation(),oe("delete",N.id)},title:"Delete service",children:[e(et,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})},N.id))});return e("div",{class:"space-y-6 fade-in",children:[e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("h1",{class:"text-3xl font-bold mb-2",children:e("span",{class:"bg-gradient-to-r from-[#10b981] via-[#059669] to-[#047857] bg-clip-text text-transparent",children:"Services"})}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Deploy and manage containerized services"})]}),e("div",{class:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium ${(U==null?void 0:U.docker_status)==="connected"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:[e("div",{class:`w-2 h-2 rounded-full ${(U==null?void 0:U.docker_status)==="connected"?"bg-green-500":"bg-red-500"}`}),e("span",{class:"hidden sm:inline",children:"Docker "}),(U==null?void 0:U.docker_status)==="connected"?"Connected":"Disconnected"]})]}),s.length>0?e(ae,{children:[e("div",{class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 mb-4",children:e("div",{class:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e("div",{class:"flex-1",children:[e("div",{class:"flex items-center gap-2 mb-3",children:[e(_s,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),e("span",{class:"text-sm font-medium text-gray-900 dark:text-white",children:"Project:"})]}),s.length<=6?e("div",{class:"flex flex-wrap gap-2",children:[e("button",{onClick:()=>{m(""),H("")},class:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ${h===""?"bg-[#10b981] text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:["All Projects",h===""&&e(Xt,{className:"w-3 h-3 ml-1 inline"})]}),s.map(N=>e("button",{onClick:()=>{m(N.id),H(N.id)},class:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 truncate max-w-[200px] ${h===N.id?"bg-[#10b981] text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:N.name,children:[N.name,h===N.id&&e(Xt,{className:"w-3 h-3 ml-1 inline"})]},N.id))]}):e("div",{class:"relative",children:[e("select",{value:h===""?"":h||"",onChange:N=>{const W=N.target.value,X=W===""?"":parseInt(W,10);m(X),H(X)},class:"w-full sm:w-64 px-3 py-2 pr-8 rounded-lg text-sm font-medium bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white focus:ring-2 focus:ring-[#10b981] focus:border-transparent cursor-pointer",children:[e("option",{value:"",children:["All Projects (",s.length,")"]}),s.map(N=>e("option",{value:N.id,children:N.name},N.id))]}),e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),l&&e("div",{class:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mt-2",children:[e(hr,{className:"w-4 h-4 animate-spin"}),e("span",{class:"text-sm",children:"Loading projects..."})]})]}),e("div",{class:"flex flex-col sm:flex-row gap-3 lg:flex-shrink-0",children:[e("div",{class:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[e("button",{class:`p-1.5 rounded transition-all ${I==="grid"?"bg-white dark:bg-gray-600 shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>B("grid"),title:"Grid View",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e("button",{class:`p-1.5 rounded transition-all ${I==="list"?"bg-white dark:bg-gray-600 shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>B("list"),title:"List View",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),e("button",{class:`p-1.5 rounded transition-all ${I==="cards"?"bg-white dark:bg-gray-600 shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>B("cards"),title:"Card View",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})]}),e("div",{class:"flex gap-2",children:[e("button",{class:"px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center",onClick:()=>{window.history.pushState({},"","/app/templates"),window.dispatchEvent(new PopStateEvent("popstate"))},children:[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Templates"]}),e("button",{class:"px-3 py-2 bg-[#10b981] hover:bg-[#059669] text-white text-sm font-medium rounded-lg transition-colors flex items-center",onClick:()=>u(!0),children:[e(On,{className:"w-4 h-4 mr-1.5"}),"Deploy"]})]})]})]})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-3 mb-4",children:e("div",{class:"flex flex-col sm:flex-row gap-3",children:[e("div",{class:"flex-1",children:e("div",{class:"relative",children:[e(dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e("input",{type:"text",placeholder:"Search services...",value:C,onInput:N=>T(N.target.value),class:"w-full pl-9 pr-9 py-2 bg-gray-50 dark:bg-gray-700 border-0 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#10b981] focus:bg-white dark:focus:bg-gray-600 transition-all text-sm"}),C&&e("button",{onClick:()=>T(""),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e(Rr,{className:"w-4 h-4"})})]})}),e("div",{class:"flex items-center gap-2 text-sm",children:[e("select",{value:P,onChange:N=>M(N.target.value),class:"px-2 py-1.5 bg-gray-50 dark:bg-gray-700 border-0 rounded text-gray-900 dark:text-white",children:[e("option",{value:"all",children:"All"}),e("option",{value:"running",children:"Running"}),e("option",{value:"stopped",children:"Stopped"}),e("option",{value:"error",children:"Error"})]}),e("select",{value:L,onChange:N=>w(N.target.value),class:"px-2 py-1.5 bg-gray-50 dark:bg-gray-700 border-0 rounded text-gray-900 dark:text-white",children:[e("option",{value:"name",children:"Name"}),e("option",{value:"status",children:"Status"}),e("option",{value:"image",children:"Image"})]}),e("button",{onClick:()=>R(k==="asc"?"desc":"asc"),class:"p-1.5 bg-gray-50 dark:bg-gray-700 rounded text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",title:`Sort ${k==="asc"?"Descending":"Ascending"}`,children:k==="asc"?e(Oo,{className:"w-4 h-4"}):e(zo,{className:"w-4 h-4"})}),e("span",{class:"text-gray-500 dark:text-gray-400 ml-2",children:[_e.length," service",_e.length!==1?"s":""]})]})]})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:e("div",{class:"p-4",children:i?e("div",{class:"space-y-4",children:[e("div",{class:"animate-pulse bg-gray-200 dark:bg-gray-700 rounded-xl h-20"}),e("div",{class:"animate-pulse bg-gray-200 dark:bg-gray-700 rounded-xl h-20"}),e("div",{class:"animate-pulse bg-gray-200 dark:bg-gray-700 rounded-xl h-20"})]}):_e.length>0?e(ae,{children:[I==="grid"&&Be(),I==="list"&&De(),I==="cards"&&J()]}):e("div",{class:"text-center py-12",children:[e("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e(tt,{className:"w-8 h-8 text-gray-400"})}),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No services found"}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm mb-6",children:h===""?"No services deployed in any project yet.":"No services deployed in this project yet."}),e("button",{class:"inline-flex items-center px-4 py-2 bg-[#10b981] hover:bg-[#059669] text-white font-medium rounded-lg transition-colors",onClick:()=>u(!0),children:[e(yt,{className:"w-4 h-4 mr-2"}),"Deploy Service"]})]})})})]}):e("div",{class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-8",children:e("div",{class:"text-center",children:[e("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e(_s,{className:"w-8 h-8 text-gray-400"})}),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No projects found"}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm mb-6 max-w-md mx-auto",children:"Create a project first to organize and deploy your services."}),e("div",{class:"inline-flex items-center px-3 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 font-medium rounded-lg border border-blue-200 dark:border-blue-800 text-sm",children:[e(Bt,{className:"w-4 h-4 mr-2"}),"Go to Projects page to create one"]})]})}),s.length>0&&e("div",{className:"mt-6",children:e(ql,{projects:s,onServiceAdopted:()=>{V()}})}),d&&e("div",{class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white",children:"Deploy New Service"}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Deploy a containerized service to your project"})]}),e("div",{class:"p-6 space-y-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Name"}),e("input",{type:"text",value:p.name,onChange:N=>x({...p,name:N.target.value}),placeholder:"my-spring-app",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#10b981] focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Docker Image"}),e("input",{type:"text",value:p.image,onChange:N=>x({...p,image:N.target.value}),placeholder:"openjdk:17-jdk-alpine",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#10b981] focus:border-transparent"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Popular images: openjdk:17-jdk-alpine, node:18-alpine, nginx:alpine, postgres:15-alpine"})]}),e("div",{children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Port Mappings"}),e("button",{type:"button",onClick:Qe,class:"text-xs text-[#10b981] hover:text-[#059669] font-medium",children:"+ Add Port"})]}),p.ports.map((N,W)=>e("div",{class:"flex items-center space-x-2 mb-2",children:[e("input",{type:"number",value:N.host,onChange:X=>$e(W,"host",parseInt(X.target.value)||0),placeholder:"Host port",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-[#10b981] focus:border-transparent"}),e("span",{class:"text-gray-500 dark:text-gray-400",children:":"}),e("input",{type:"number",value:N.container,onChange:X=>$e(W,"container",parseInt(X.target.value)||0),placeholder:"Container port",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-[#10b981] focus:border-transparent"}),p.ports.length>1&&e("button",{type:"button",onClick:()=>Ye(W),class:"text-red-500 hover:text-red-600 p-1",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},W))]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Environment Variables"}),e("textarea",{value:y,onChange:N=>b(N.target.value),placeholder:`SPRING_PROFILES_ACTIVE=prod
DATABASE_URL=postgresql://localhost:5432/mydb
PORT=8080`,rows:4,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#10b981] focus:border-transparent text-sm font-mono"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"One variable per line in KEY=VALUE format"})]})]}),e("div",{class:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[e("button",{onClick:()=>u(!1),disabled:O,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:"Cancel"}),e("button",{onClick:Te,disabled:O||!p.name||!p.image,class:"px-4 py-2 bg-gradient-to-r from-[#10b981] to-[#059669] hover:from-[#059669] hover:to-[#047857] text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Deploying...":"Deploy Service"})]})]})}),e(Gl,{isOpen:D,onClose:Ie,onConfirm:fe,serviceName:A==null?void 0:A.name,isLoading:f,requireTextConfirmation:!0,title:"Delete Service",message:"This action cannot be undone. This will permanently delete the service, remove its container, and delete all associated data including volumes, networks, and configurations.",customContent:e("div",{class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:e("div",{class:"text-sm text-red-800 dark:text-red-200",children:[e("p",{class:"font-medium mb-1",children:"This will:"}),e("ul",{class:"list-disc list-inside space-y-1 text-xs",children:[e("li",{children:"Stop and remove the Docker container"}),e("li",{children:"Delete the service configuration"}),e("li",{children:"Remove all associated volumes and data"}),e("li",{children:"Clear network configurations"})]})]})})})]})}const ei=[{id:"postgresql",name:"postgresql",displayName:"PostgreSQL",description:"Advanced open source relational database with excellent performance and reliability",baseImage:"postgres",category:"database",iconKey:"postgresql",defaultPort:5432,defaultEnv:{POSTGRES_DB:"myapp",POSTGRES_USER:"admin",POSTGRES_PASSWORD:"secure_password"},documentation:"https://www.postgresql.org/docs/",tags:["database","sql","relational","acid"],popular:!0,complexity:"intermediate"},{id:"mysql",name:"mysql",displayName:"MySQL",description:"World's most popular open source relational database",baseImage:"mysql",category:"database",iconKey:"mysql",defaultPort:3306,defaultEnv:{MYSQL_ROOT_PASSWORD:"rootpassword",MYSQL_DATABASE:"myapp",MYSQL_USER:"admin",MYSQL_PASSWORD:"secure_password"},documentation:"https://dev.mysql.com/doc/",tags:["database","sql","relational"],popular:!0,complexity:"beginner"},{id:"mongodb",name:"mongodb",displayName:"MongoDB",description:"Document-based NoSQL database for modern applications",baseImage:"mongo",category:"database",iconKey:"mongodb",defaultPort:27017,defaultEnv:{MONGO_INITDB_ROOT_USERNAME:"admin",MONGO_INITDB_ROOT_PASSWORD:"secure_password",MONGO_INITDB_DATABASE:"myapp"},documentation:"https://docs.mongodb.com/",tags:["database","nosql","document"],popular:!0,complexity:"beginner"},{id:"redis",name:"redis",displayName:"Redis",description:"In-memory data structure store - cache, database, and message broker",baseImage:"redis",category:"cache",iconKey:"redis",defaultPort:6379,defaultEnv:{},documentation:"https://redis.io/docs/",tags:["cache","memory","key-value"],popular:!0,complexity:"beginner"},{id:"nginx",name:"nginx",displayName:"Nginx",description:"High-performance web server, reverse proxy, and load balancer",baseImage:"nginx",category:"web",iconKey:"nginx",defaultPort:80,defaultEnv:{},documentation:"https://nginx.org/en/docs/",tags:["web","proxy","server"],popular:!0,complexity:"intermediate"},{id:"nodejs",name:"nodejs",displayName:"Node.js",description:"JavaScript runtime built on Chrome's V8 JavaScript engine",baseImage:"node",category:"development",iconKey:"nodedotjs",defaultPort:3e3,defaultEnv:{NODE_ENV:"development"},documentation:"https://nodejs.org/en/docs/",tags:["development","javascript","runtime"],popular:!0,complexity:"beginner"},{id:"python",name:"python",displayName:"Python",description:"Python runtime for applications, scripts, and data science",baseImage:"python",category:"development",iconKey:"python",defaultPort:8e3,defaultEnv:{PYTHONUNBUFFERED:"1"},documentation:"https://docs.python.org/",tags:["development","python","scripting"],popular:!0,complexity:"beginner"},{id:"openjdk",name:"openjdk",displayName:"OpenJDK (Java)",description:"OpenJDK Java runtime for enterprise applications",baseImage:"openjdk",category:"development",iconKey:"java",defaultPort:8080,defaultEnv:{JAVA_OPTS:"-Xmx512m"},documentation:"https://openjdk.org/guide/",tags:["development","java","jvm"],popular:!0,complexity:"intermediate"},{id:"rabbitmq",name:"rabbitmq",displayName:"RabbitMQ",description:"Reliable message broker supporting multiple messaging protocols",baseImage:"rabbitmq",category:"message",iconKey:"rabbitmq",defaultPort:5672,additionalPorts:[15672],defaultEnv:{RABBITMQ_DEFAULT_USER:"admin",RABBITMQ_DEFAULT_PASS:"secure_password"},documentation:"https://www.rabbitmq.com/documentation.html",tags:["messaging","queue","amqp"],popular:!0,complexity:"intermediate"},{id:"elasticsearch",name:"elasticsearch",displayName:"Elasticsearch",description:"Distributed search and analytics engine built on Apache Lucene",baseImage:"docker.elastic.co/elasticsearch/elasticsearch",category:"database",iconKey:"elasticsearch",defaultPort:9200,defaultEnv:{"discovery.type":"single-node","xpack.security.enabled":"false"},documentation:"https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html",tags:["search","analytics","database"],popular:!0,complexity:"advanced"},{id:"mariadb",name:"mariadb",displayName:"MariaDB",description:"MySQL-compatible database server with enhanced features",baseImage:"mariadb",category:"database",iconKey:"mysql",defaultPort:3306,defaultEnv:{MARIADB_ROOT_PASSWORD:"rootpassword",MARIADB_DATABASE:"myapp",MARIADB_USER:"admin",MARIADB_PASSWORD:"secure_password"},documentation:"https://mariadb.org/documentation/",tags:["database","sql","mysql-compatible"],popular:!0,complexity:"beginner"},{id:"influxdb",name:"influxdb",displayName:"InfluxDB",description:"Time series database designed for IoT and monitoring",baseImage:"influxdb",category:"database",iconKey:"database",defaultPort:8086,defaultEnv:{INFLUXDB_DB:"myapp",INFLUXDB_ADMIN_USER:"admin",INFLUXDB_ADMIN_PASSWORD:"secure_password"},documentation:"https://docs.influxdata.com/influxdb/",tags:["database","timeseries","iot","metrics"],popular:!0,complexity:"intermediate"},{id:"cassandra",name:"cassandra",displayName:"Apache Cassandra",description:"Highly scalable NoSQL database for big data",baseImage:"cassandra",category:"database",iconKey:"database",defaultPort:9042,defaultEnv:{CASSANDRA_CLUSTER_NAME:"MyCluster"},documentation:"https://cassandra.apache.org/doc/",tags:["database","nosql","distributed","big-data"],popular:!0,complexity:"advanced"},{id:"couchdb",name:"couchdb",displayName:"Apache CouchDB",description:"Document database with HTTP API and replication",baseImage:"couchdb",category:"database",iconKey:"database",defaultPort:5984,defaultEnv:{COUCHDB_USER:"admin",COUCHDB_PASSWORD:"secure_password"},documentation:"https://docs.couchdb.org/",tags:["database","nosql","document","http-api"],popular:!1,complexity:"intermediate"},{id:"apache",name:"apache",displayName:"Apache HTTP Server",description:"World's most used web server software",baseImage:"httpd",category:"web",iconKey:"apache",defaultPort:80,defaultEnv:{},documentation:"https://httpd.apache.org/docs/",tags:["web","server","http"],popular:!0,complexity:"beginner"},{id:"haproxy",name:"haproxy",displayName:"HAProxy",description:"Reliable, high performance load balancer",baseImage:"haproxy",category:"web",iconKey:"web",defaultPort:80,additionalPorts:[8080],defaultEnv:{},documentation:"http://www.haproxy.org/#docs",tags:["proxy","load-balancer","performance"],popular:!0,complexity:"intermediate"},{id:"kafka",name:"kafka",displayName:"Apache Kafka",description:"Distributed event streaming platform for high-throughput data pipelines",baseImage:"confluentinc/cp-kafka",category:"streaming",iconKey:"kafka",defaultPort:9092,defaultEnv:{KAFKA_ZOOKEEPER_CONNECT:"zookeeper:2181",KAFKA_ADVERTISED_LISTENERS:"PLAINTEXT://localhost:9092"},documentation:"https://kafka.apache.org/documentation/",tags:["streaming","events","distributed","big-data"],popular:!0,complexity:"advanced"},{id:"nats",name:"nats",displayName:"NATS",description:"High performance cloud native messaging system",baseImage:"nats",category:"message",iconKey:"message",defaultPort:4222,additionalPorts:[8222],defaultEnv:{},documentation:"https://docs.nats.io/",tags:["messaging","cloud-native","performance"],popular:!0,complexity:"intermediate"},{id:"activemq",name:"activemq",displayName:"Apache ActiveMQ",description:"Powerful open source messaging broker",baseImage:"rmohr/activemq",category:"message",iconKey:"message",defaultPort:61616,additionalPorts:[8161],defaultEnv:{},documentation:"https://activemq.apache.org/getting-started",tags:["messaging","jms","broker"],popular:!0,complexity:"intermediate"},{id:"golang",name:"golang",displayName:"Go",description:"Go programming language runtime",baseImage:"golang",category:"development",iconKey:"go",defaultPort:8080,defaultEnv:{CGO_ENABLED:"0"},documentation:"https://golang.org/doc/",tags:["development","golang","runtime"],popular:!0,complexity:"intermediate"},{id:"php",name:"php",displayName:"PHP",description:"PHP runtime for web applications",baseImage:"php",category:"development",iconKey:"php",defaultPort:9e3,defaultEnv:{},documentation:"https://www.php.net/docs.php",tags:["development","php","web"],popular:!0,complexity:"beginner"},{id:"ruby",name:"ruby",displayName:"Ruby",description:"Ruby programming language runtime",baseImage:"ruby",category:"development",iconKey:"ruby",defaultPort:3e3,defaultEnv:{},documentation:"https://ruby-doc.org/",tags:["development","ruby","rails"],popular:!0,complexity:"intermediate"},{id:"dotnet",name:"dotnet",displayName:".NET Core",description:"Cross-platform .NET runtime",baseImage:"mcr.microsoft.com/dotnet/runtime",category:"development",iconKey:"microsoft",defaultPort:5e3,defaultEnv:{ASPNETCORE_ENVIRONMENT:"Development"},documentation:"https://docs.microsoft.com/dotnet/",tags:["development","dotnet","microsoft","csharp"],popular:!0,complexity:"intermediate"},{id:"grafana",name:"grafana",displayName:"Grafana",description:"Analytics and monitoring platform with beautiful dashboards",baseImage:"grafana/grafana",category:"monitoring",iconKey:"grafana",defaultPort:3e3,defaultEnv:{GF_SECURITY_ADMIN_PASSWORD:"admin"},documentation:"https://grafana.com/docs/",tags:["monitoring","analytics","dashboards"],popular:!0,complexity:"intermediate"},{id:"prometheus",name:"prometheus",displayName:"Prometheus",description:"Monitoring system and time series database",baseImage:"prom/prometheus",category:"monitoring",iconKey:"monitoring",defaultPort:9090,defaultEnv:{},documentation:"https://prometheus.io/docs/",tags:["monitoring","metrics","timeseries"],popular:!0,complexity:"intermediate"},{id:"jaeger",name:"jaeger",displayName:"Jaeger",description:"Distributed tracing platform",baseImage:"jaegertracing/all-in-one",category:"monitoring",iconKey:"monitoring",defaultPort:16686,additionalPorts:[14268],defaultEnv:{},documentation:"https://www.jaegertracing.io/docs/",tags:["monitoring","tracing","distributed"],popular:!0,complexity:"advanced"},{id:"zipkin",name:"zipkin",displayName:"Zipkin",description:"Distributed tracing system",baseImage:"openzipkin/zipkin",category:"monitoring",iconKey:"monitoring",defaultPort:9411,defaultEnv:{},documentation:"https://zipkin.io/",tags:["monitoring","tracing","distributed"],popular:!1,complexity:"intermediate"},{id:"minio",name:"minio",displayName:"MinIO",description:"High performance object storage compatible with Amazon S3",baseImage:"minio/minio",category:"storage",iconKey:"minio",defaultPort:9e3,additionalPorts:[9001],defaultEnv:{MINIO_ROOT_USER:"minioadmin",MINIO_ROOT_PASSWORD:"minioadmin"},documentation:"https://docs.min.io/",tags:["storage","s3","object-storage"],popular:!0,complexity:"intermediate"},{id:"jenkins",name:"jenkins",displayName:"Jenkins",description:"Automation server for CI/CD pipelines",baseImage:"jenkins/jenkins",category:"development",iconKey:"jenkins",defaultPort:8080,additionalPorts:[5e4],defaultEnv:{},documentation:"https://www.jenkins.io/doc/",tags:["ci-cd","automation","development"],popular:!0,complexity:"intermediate"},{id:"mailhog",name:"mailhog",displayName:"MailHog",description:"Email testing tool for developers",baseImage:"mailhog/mailhog",category:"development",iconKey:"mail",defaultPort:8025,additionalPorts:[1025],defaultEnv:{},documentation:"https://github.com/mailhog/MailHog",tags:["email","testing","development"],popular:!0,complexity:"beginner"},{id:"memcached",name:"memcached",displayName:"Memcached",description:"High-performance, distributed memory object caching system",baseImage:"memcached",category:"cache",iconKey:"memcached",defaultPort:11211,defaultEnv:{},documentation:"https://memcached.org/tutorial",tags:["cache","memory","performance"],popular:!0,complexity:"beginner"},{id:"hazelcast",name:"hazelcast",displayName:"Hazelcast",description:"In-memory computing platform with distributed data structures",baseImage:"hazelcast/hazelcast",category:"cache",iconKey:"hazelcast",defaultPort:5701,defaultEnv:{},documentation:"https://docs.hazelcast.com/hazelcast/latest/",tags:["cache","distributed","java"],popular:!0,complexity:"intermediate"},{id:"traefik",name:"traefik",displayName:"Traefik",description:"Modern HTTP reverse proxy and load balancer",baseImage:"traefik",category:"web",iconKey:"traefik",defaultPort:80,additionalPorts:[8080],defaultEnv:{},documentation:"https://doc.traefik.io/traefik/",tags:["proxy","load-balancer","routing"],popular:!0,complexity:"intermediate"},{id:"caddy",name:"caddy",displayName:"Caddy",description:"Fast, multi-platform web server with automatic HTTPS",baseImage:"caddy",category:"web",iconKey:"caddy",defaultPort:80,additionalPorts:[443],defaultEnv:{},documentation:"https://caddyserver.com/docs/",tags:["web-server","https","reverse-proxy"],popular:!0,complexity:"beginner"},{id:"sonarqubecloud",name:"sonarqubecloud",displayName:"SonarQube",description:"Code quality and security analysis platform",baseImage:"sonarqubecloud",category:"development",iconKey:"sonarqube",defaultPort:9e3,defaultEnv:{SONAR_ES_BOOTSTRAP_CHECKS_DISABLE:"true"},documentation:"https://docs.sonarqube.org/",tags:["code-quality","static-analysis","security"],popular:!0,complexity:"intermediate"},{id:"vault",name:"vault",displayName:"HashiCorp Vault",description:"Secure, store and tightly control access to tokens and secrets",baseImage:"vault",category:"security",iconKey:"vault",defaultPort:8200,defaultEnv:{VAULT_DEV_ROOT_TOKEN_ID:"myroot",VAULT_DEV_LISTEN_ADDRESS:"0.0.0.0:8200"},documentation:"https://learn.hashicorp.com/vault/",tags:["security","secrets","hashicorp"],popular:!0,complexity:"advanced"},{id:"consul",name:"consul",displayName:"HashiCorp Consul",description:"Service mesh solution providing service discovery and configuration",baseImage:"consul",category:"networking",iconKey:"consul",defaultPort:8500,defaultEnv:{},documentation:"https://learn.hashicorp.com/consul/",tags:["service-discovery","service-mesh","hashicorp"],popular:!0,complexity:"advanced"},{id:"etcd",name:"etcd",displayName:"etcd",description:"Distributed, reliable key-value store for critical data",baseImage:"quay.io/coreos/etcd",category:"database",iconKey:"etcd",defaultPort:2379,additionalPorts:[2380],defaultEnv:{},documentation:"https://etcd.io/docs/",tags:["key-value","distributed","kubernetes"],popular:!0,complexity:"intermediate"},{id:"zookeeper",name:"zookeeper",displayName:"Apache ZooKeeper",description:"Centralized service for maintaining configuration information",baseImage:"zookeeper",category:"messaging",iconKey:"apachezookeeper",defaultPort:2181,defaultEnv:{},documentation:"https://zookeeper.apache.org/doc/",tags:["coordination","distributed","apache"],popular:!0,complexity:"intermediate"},{id:"portainer",name:"portainer",displayName:"Portainer",description:"Lightweight management UI for Docker environments",baseImage:"portainer/portainer-ce",category:"development",iconKey:"portainer",defaultPort:9e3,defaultEnv:{},documentation:"https://documentation.portainer.io/",tags:["docker","management","ui"],popular:!0,complexity:"beginner"},{id:"adminer",name:"adminer",displayName:"Adminer",description:"Full-featured database management tool written in PHP",baseImage:"adminer",category:"development",iconKey:"adminer",defaultPort:8080,defaultEnv:{},documentation:"https://www.adminer.org/",tags:["database","admin","php"],popular:!0,complexity:"beginner"},{id:"phpmyadmin",name:"phpmyadmin",displayName:"phpMyAdmin",description:"Web interface for MySQL and MariaDB administration",baseImage:"phpmyadmin",category:"development",iconKey:"phpmyadmin",defaultPort:80,defaultEnv:{PMA_ARBITRARY:"1"},documentation:"https://docs.phpmyadmin.net/",tags:["mysql","admin","web"],popular:!0,complexity:"beginner"},{id:"wordpress",name:"wordpress",displayName:"WordPress",description:"Popular open-source content management system",baseImage:"wordpress",category:"web",iconKey:"wordpress",defaultPort:80,defaultEnv:{WORDPRESS_DB_HOST:"mysql:3306",WORDPRESS_DB_NAME:"wordpress"},documentation:"https://wordpress.org/support/",tags:["cms","blog","php"],popular:!0,complexity:"intermediate"},{id:"ghost",name:"ghost",displayName:"Ghost",description:"Modern publishing platform for blogs and publications",baseImage:"ghost",category:"web",iconKey:"ghost",defaultPort:2368,defaultEnv:{NODE_ENV:"development"},documentation:"https://ghost.org/docs/",tags:["blog","cms","nodejs"],popular:!0,complexity:"intermediate"},{id:"drupal",name:"drupal",displayName:"Drupal",description:"Open-source content management platform",baseImage:"drupal",category:"web",iconKey:"drupal",defaultPort:80,defaultEnv:{},documentation:"https://www.drupal.org/docs/",tags:["cms","php","web"],popular:!0,complexity:"intermediate"},{id:"joomla",name:"joomla",displayName:"Joomla",description:"Award-winning content management system",baseImage:"joomla",category:"web",iconKey:"joomla",defaultPort:80,defaultEnv:{},documentation:"https://docs.joomla.org/",tags:["cms","php","web"],popular:!0,complexity:"intermediate"},{id:"nextcloud",name:"nextcloud",displayName:"Nextcloud",description:"Self-hosted productivity platform and file sync",baseImage:"nextcloud",category:"storage",iconKey:"nextcloud",defaultPort:80,defaultEnv:{},documentation:"https://docs.nextcloud.com/",tags:["cloud","file-sync","collaboration"],popular:!0,complexity:"intermediate"},{id:"owncloud",name:"owncloud",displayName:"ownCloud",description:"Self-hosted file sync and share solution",baseImage:"owncloud/server",category:"storage",iconKey:"owncloud",defaultPort:8080,defaultEnv:{},documentation:"https://doc.owncloud.com/",tags:["cloud","file-sync","storage"],popular:!0,complexity:"intermediate"},{id:"seafile",name:"seafile",displayName:"Seafile",description:"High performance file syncing and sharing platform",baseImage:"seafileltd/seafile-mc",category:"storage",iconKey:"seafile",defaultPort:80,defaultEnv:{},documentation:"https://manual.seafile.com/",tags:["file-sync","storage","collaboration"],popular:!0,complexity:"intermediate"},{id:"gitea",name:"gitea",displayName:"Gitea",description:"Lightweight Git service written in Go",baseImage:"gitea/gitea",category:"development",iconKey:"gitea",defaultPort:3e3,additionalPorts:[22],defaultEnv:{},documentation:"https://docs.gitea.io/",tags:["git","version-control","golang"],popular:!0,complexity:"beginner"},{id:"gitlab",name:"gitlab",displayName:"GitLab",description:"Complete DevOps platform with Git repository management",baseImage:"gitlab/gitlab-ce",category:"development",iconKey:"gitlab",defaultPort:80,additionalPorts:[443,22],defaultEnv:{},documentation:"https://docs.gitlab.com/",tags:["git","devops","ci-cd"],popular:!0,complexity:"advanced"},{id:"keycloak",name:"keycloak",displayName:"Keycloak",description:"Open source identity and access management solution",baseImage:"quay.io/keycloak/keycloak",category:"security",iconKey:"keycloak",defaultPort:8080,defaultEnv:{KEYCLOAK_ADMIN:"admin",KEYCLOAK_ADMIN_PASSWORD:"admin"},documentation:"https://www.keycloak.org/documentation",tags:["authentication","sso","oauth"],popular:!0,complexity:"intermediate"},{id:"authentik",name:"authentik",displayName:"authentik",description:"The authentication glue you need",baseImage:"ghcr.io/goauthentik/server",category:"security",iconKey:"authentik",defaultPort:9e3,defaultEnv:{},documentation:"https://goauthentik.io/docs/",tags:["authentication","sso","identity"],popular:!0,complexity:"intermediate"},{id:"wireguard",name:"wireguard",displayName:"WireGuard",description:"Fast, modern, secure VPN tunnel",baseImage:"linuxserver/wireguard",category:"networking",iconKey:"wireguard",defaultPort:51820,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://www.wireguard.com/",tags:["vpn","security","networking"],popular:!0,complexity:"advanced"},{id:"openvpn",name:"openvpn",displayName:"OpenVPN",description:"Robust and highly flexible VPN daemon",baseImage:"kylemanna/openvpn",category:"networking",iconKey:"openvpn",defaultPort:1194,defaultEnv:{},documentation:"https://openvpn.net/community-resources/",tags:["vpn","security","networking"],popular:!0,complexity:"advanced"},{id:"pihole",name:"pihole",displayName:"Pi-hole",description:"Network-wide ad blocker and DNS sinkhole",baseImage:"pihole/pihole",category:"networking",iconKey:"pihole",defaultPort:80,additionalPorts:[53],defaultEnv:{WEBPASSWORD:"admin"},documentation:"https://docs.pi-hole.net/",tags:["dns","ad-blocker","networking"],popular:!0,complexity:"intermediate"},{id:"unbound",name:"unbound",displayName:"Unbound",description:"Validating, recursive, caching DNS resolver",baseImage:"mvance/unbound",category:"networking",iconKey:"dns",defaultPort:53,defaultEnv:{},documentation:"https://unbound.docs.nlnetlabs.nl/",tags:["dns","resolver","security"],popular:!0,complexity:"intermediate"},{id:"bind9",name:"bind9",displayName:"BIND 9",description:"The most widely used name server software",baseImage:"internetsystemsconsortium/bind9",category:"networking",iconKey:"dns",defaultPort:53,defaultEnv:{},documentation:"https://bind9.readthedocs.io/",tags:["dns","nameserver","networking"],popular:!0,complexity:"advanced"},{id:"transmission",name:"transmission",displayName:"Transmission",description:"Fast, easy, and free BitTorrent client",baseImage:"linuxserver/transmission",category:"storage",iconKey:"transmission",defaultPort:9091,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://transmissionbt.com/",tags:["torrent","download","p2p"],popular:!0,complexity:"beginner"},{id:"qbittorrent",name:"qbittorrent",displayName:"qBittorrent",description:"Free and reliable P2P BitTorrent client",baseImage:"linuxserver/qbittorrent",category:"storage",iconKey:"qbittorrent",defaultPort:8080,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://www.qbittorrent.org/",tags:["torrent","download","p2p"],popular:!0,complexity:"beginner"},{id:"deluge",name:"deluge",displayName:"Deluge",description:"Lightweight, cross-platform BitTorrent client",baseImage:"linuxserver/deluge",category:"storage",iconKey:"deluge",defaultPort:8112,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://deluge-torrent.org/",tags:["torrent","download","python"],popular:!0,complexity:"intermediate"},{id:"jackett",name:"jackett",displayName:"Jackett",description:"API support for torrent trackers",baseImage:"linuxserver/jackett",category:"storage",iconKey:"jackett",defaultPort:9117,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://github.com/Jackett/Jackett",tags:["torrent","indexer","api"],popular:!0,complexity:"intermediate"},{id:"sonarr",name:"sonarr",displayName:"Sonarr",description:"Smart PVR for newsgroup and BitTorrent users",baseImage:"linuxserver/sonarr",category:"media",iconKey:"sonarr",defaultPort:8989,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://wiki.servarr.com/sonarr",tags:["media","automation","tv-shows"],popular:!0,complexity:"intermediate"},{id:"radarr",name:"radarr",displayName:"Radarr",description:"Movie collection manager for newsgroup and BitTorrent users",baseImage:"linuxserver/radarr",category:"media",iconKey:"radarr",defaultPort:7878,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://wiki.servarr.com/radarr",tags:["media","automation","movies"],popular:!0,complexity:"intermediate"},{id:"lidarr",name:"lidarr",displayName:"Lidarr",description:"Music collection manager for newsgroup and BitTorrent users",baseImage:"linuxserver/lidarr",category:"media",iconKey:"lidarr",defaultPort:8686,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://wiki.servarr.com/lidarr",tags:["media","automation","music"],popular:!0,complexity:"intermediate"},{id:"bazarr",name:"bazarr",displayName:"Bazarr",description:"Subtitle management for Sonarr and Radarr",baseImage:"linuxserver/bazarr",category:"media",iconKey:"bazarr",defaultPort:6767,defaultEnv:{PUID:"1000",PGID:"1000"},documentation:"https://wiki.bazarr.media/",tags:["media","subtitles","automation"],popular:!0,complexity:"intermediate"},{id:"plex",name:"plex",displayName:"Plex Media Server",description:"Stream movies, TV shows, and music to any device",baseImage:"plexinc/pms-docker",category:"media",iconKey:"plex",defaultPort:32400,defaultEnv:{PLEX_CLAIM:"claim-token-here"},documentation:"https://support.plex.tv/",tags:["media","streaming","entertainment"],popular:!0,complexity:"intermediate"},{id:"jellyfin",name:"jellyfin",displayName:"Jellyfin",description:"Free software media system that puts you in control",baseImage:"jellyfin/jellyfin",category:"media",iconKey:"jellyfin",defaultPort:8096,defaultEnv:{},documentation:"https://jellyfin.org/docs/",tags:["media","streaming","open-source"],popular:!0,complexity:"intermediate"},{id:"emby",name:"emby",displayName:"Emby",description:"Personal media server for streaming to devices",baseImage:"emby/embyserver",category:"media",iconKey:"emby",defaultPort:8096,defaultEnv:{},documentation:"https://emby.media/support/",tags:["media","streaming","server"],popular:!0,complexity:"intermediate"},{id:"clickhouse",name:"clickhouse",displayName:"ClickHouse",description:"Fast open-source column-oriented database",baseImage:"clickhouse/clickhouse-server",category:"database",iconKey:"clickhouse",defaultPort:8123,additionalPorts:[9e3],defaultEnv:{},documentation:"https://clickhouse.com/docs/",tags:["database","analytics","olap"],popular:!0,complexity:"intermediate"},{id:"cockroachdb",name:"cockroachdb",displayName:"CockroachDB",description:"Distributed SQL database built on a transactional and strongly-consistent key-value store",baseImage:"cockroachdb/cockroach",category:"database",iconKey:"cockroachdb",defaultPort:26257,additionalPorts:[8080],defaultEnv:{},documentation:"https://www.cockroachlabs.com/docs/",tags:["database","distributed","sql"],popular:!0,complexity:"advanced"},{id:"dgraph",name:"dgraph",displayName:"Dgraph",description:"Fast, distributed, open source graph database",baseImage:"dgraph/dgraph",category:"database",iconKey:"dgraph",defaultPort:8080,additionalPorts:[9080],defaultEnv:{},documentation:"https://dgraph.io/docs/",tags:["database","graph","distributed"],popular:!0,complexity:"advanced"},{id:"neo4j",name:"neo4j",displayName:"Neo4j",description:"Leading graph database technology",baseImage:"neo4j",category:"database",iconKey:"neo4j",defaultPort:7474,additionalPorts:[7687],defaultEnv:{NEO4J_AUTH:"neo4j/password"},documentation:"https://neo4j.com/docs/",tags:["database","graph","nosql"],popular:!0,complexity:"intermediate"},{id:"arangodb",name:"arangodb",displayName:"ArangoDB",description:"Multi-model database for graph, document & key/value",baseImage:"arangodb",category:"database",iconKey:"arangodb",defaultPort:8529,defaultEnv:{ARANGO_ROOT_PASSWORD:"password"},documentation:"https://www.arangodb.com/docs/",tags:["database","multi-model","graph"],popular:!0,complexity:"intermediate"},{id:"scylladb",name:"scylladb",displayName:"ScyllaDB",description:"Real-time big data database that is API-compatible with Apache Cassandra",baseImage:"scylladb/scylla",category:"database",iconKey:"scylladb",defaultPort:9042,defaultEnv:{},documentation:"https://docs.scylladb.com/",tags:["database","nosql","cassandra"],popular:!0,complexity:"advanced"},{id:"couchbase",name:"couchbase",displayName:"Couchbase",description:"Modern database for enterprise applications",baseImage:"couchbase",category:"database",iconKey:"couchbase",defaultPort:8091,defaultEnv:{},documentation:"https://docs.couchbase.com/",tags:["database","nosql","json"],popular:!0,complexity:"intermediate"},{id:"orientdb",name:"orientdb",displayName:"OrientDB",description:"Multi-model database combining graphs and documents",baseImage:"orientdb",category:"database",iconKey:"orientdb",defaultPort:2424,additionalPorts:[2480],defaultEnv:{ORIENTDB_ROOT_PASSWORD:"rootpwd"},documentation:"https://orientdb.org/docs/",tags:["database","multi-model","graph"],popular:!1,complexity:"intermediate"},{id:"questdb",name:"questdb",displayName:"QuestDB",description:"Fast SQL database for time series and analytics",baseImage:"questdb/questdb",category:"database",iconKey:"questdb",defaultPort:9e3,additionalPorts:[8812],defaultEnv:{},documentation:"https://questdb.io/docs/",tags:["database","timeseries","analytics"],popular:!0,complexity:"intermediate"},{id:"victoriametrics",name:"victoriametrics",displayName:"VictoriaMetrics",description:"Fast, cost-effective monitoring solution and time series database",baseImage:"victoriametrics/victoria-metrics",category:"monitoring",iconKey:"victoriametrics",defaultPort:8428,defaultEnv:{},documentation:"https://docs.victoriametrics.com/",tags:["monitoring","timeseries","prometheus"],popular:!0,complexity:"intermediate"},{id:"loki",name:"loki",displayName:"Grafana Loki",description:"Like Prometheus, but for logs",baseImage:"grafana/loki",category:"monitoring",iconKey:"loki",defaultPort:3100,defaultEnv:{},documentation:"https://grafana.com/docs/loki/",tags:["logging","monitoring","grafana"],popular:!0,complexity:"intermediate"},{id:"tempo",name:"tempo",displayName:"Grafana Tempo",description:"High volume, minimal dependency distributed tracing backend",baseImage:"grafana/tempo",category:"monitoring",iconKey:"tempo",defaultPort:3200,defaultEnv:{},documentation:"https://grafana.com/docs/tempo/",tags:["tracing","monitoring","observability"],popular:!0,complexity:"advanced"},{id:"otel-collector",name:"otel-collector",displayName:"OpenTelemetry Collector",description:"Vendor-agnostic implementation to receive, process and export telemetry data",baseImage:"otel/opentelemetry-collector",category:"monitoring",iconKey:"opentelemetry",defaultPort:4317,additionalPorts:[4318],defaultEnv:{},documentation:"https://opentelemetry.io/docs/collector/",tags:["telemetry","observability","tracing"],popular:!0,complexity:"advanced"},{id:"fluentd",name:"fluentd",displayName:"Fluentd",description:"Unified logging layer to collect, filter, buffer, and output logs",baseImage:"fluent/fluentd",category:"monitoring",iconKey:"fluentd",defaultPort:24224,defaultEnv:{},documentation:"https://docs.fluentd.org/",tags:["logging","data-collection","monitoring"],popular:!0,complexity:"intermediate"},{id:"logstash",name:"logstash",displayName:"Logstash",description:"Server-side data processing pipeline",baseImage:"docker.elastic.co/logstash/logstash",category:"monitoring",iconKey:"logstash",defaultPort:5044,defaultEnv:{},documentation:"https://www.elastic.co/guide/en/logstash/",tags:["logging","data-processing","elastic"],popular:!0,complexity:"intermediate"},{id:"kibana",name:"kibana",displayName:"Kibana",description:"Analytics and visualization platform designed to work with Elasticsearch",baseImage:"docker.elastic.co/kibana/kibana",category:"monitoring",iconKey:"kibana",defaultPort:5601,defaultEnv:{},documentation:"https://www.elastic.co/guide/en/kibana/",tags:["analytics","visualization","elastic"],popular:!0,complexity:"intermediate"},{id:"metabase",name:"metabase",displayName:"Metabase",description:"Business intelligence and analytics",baseImage:"metabase/metabase",category:"monitoring",iconKey:"metabase",defaultPort:3e3,defaultEnv:{},documentation:"https://www.metabase.com/docs/",tags:["analytics","business-intelligence","visualization"],popular:!0,complexity:"beginner"},{id:"superset",name:"superset",displayName:"Apache Superset",description:"Modern data exploration and visualization platform",baseImage:"apache/superset",category:"monitoring",iconKey:"apachesuperset",defaultPort:8088,defaultEnv:{},documentation:"https://superset.apache.org/",tags:["analytics","visualization","apache"],popular:!0,complexity:"intermediate"},{id:"airbyte",name:"airbyte",displayName:"Airbyte",description:"Open-source data integration platform",baseImage:"airbyte/webapp",category:"development",iconKey:"airbyte",defaultPort:8e3,defaultEnv:{},documentation:"https://docs.airbyte.com/",tags:["data-integration","etl","data-pipeline"],popular:!0,complexity:"intermediate"},{id:"prefect",name:"prefect",displayName:"Prefect",description:"Modern workflow orchestration framework",baseImage:"prefecthq/prefect",category:"development",iconKey:"prefect",defaultPort:4200,defaultEnv:{},documentation:"https://docs.prefect.io/",tags:["workflow","orchestration","python"],popular:!0,complexity:"intermediate"},{id:"airflow",name:"airflow",displayName:"Apache Airflow",description:"Platform to programmatically author, schedule and monitor workflows",baseImage:"apache/airflow",category:"development",iconKey:"apacheairflow",defaultPort:8080,defaultEnv:{},documentation:"https://airflow.apache.org/docs/",tags:["workflow","orchestration","apache"],popular:!0,complexity:"advanced"},{id:"dagster",name:"dagster",displayName:"Dagster",description:"Data orchestrator for machine learning, analytics, and ETL",baseImage:"dagster/dagster-celery-docker",category:"development",iconKey:"dagster",defaultPort:3e3,defaultEnv:{},documentation:"https://docs.dagster.io/",tags:["data-orchestration","etl","ml"],popular:!0,complexity:"intermediate"},{id:"dbt",name:"dbt",displayName:"dbt (data build tool)",description:"Transform data in your warehouse using SQL",baseImage:"fishtownanalytics/dbt",category:"development",iconKey:"dbt",defaultPort:8080,defaultEnv:{},documentation:"https://docs.getdbt.com/",tags:["data-transformation","sql","analytics"],popular:!0,complexity:"intermediate"},{id:"n8n",name:"n8n",displayName:"n8n",description:"Free and source-available fair-code licensed workflow automation tool",baseImage:"n8nio/n8n",category:"development",iconKey:"n8n",defaultPort:5678,defaultEnv:{},documentation:"https://docs.n8n.io/",tags:["workflow","automation","no-code"],popular:!0,complexity:"beginner"},{id:"nodered",name:"nodered",displayName:"Node-RED",description:"Flow-based programming tool for wiring together hardware devices, APIs and online services",baseImage:"nodered/node-red",category:"development",iconKey:"nodered",defaultPort:1880,defaultEnv:{},documentation:"https://nodered.org/docs/",tags:["automation","iot","flow-programming"],popular:!0,complexity:"beginner"},{id:"nocodb",name:"nocodb",displayName:"NocoDB",description:"Open source Airtable alternative",baseImage:"nocodb/nocodb",category:"development",iconKey:"nocodb",defaultPort:8080,defaultEnv:{},documentation:"https://docs.nocodb.com/",tags:["database","no-code","airtable"],popular:!0,complexity:"beginner"},{id:"strapi",name:"strapi",displayName:"Strapi",description:"Open-source headless CMS",baseImage:"strapi/strapi",category:"web",iconKey:"strapi",defaultPort:1337,defaultEnv:{},documentation:"https://docs.strapi.io/",tags:["cms","headless","api"],popular:!0,complexity:"intermediate"},{id:"supabase",name:"supabase",displayName:"Supabase",description:"Open source Firebase alternative",baseImage:"supabase/postgres",category:"web",iconKey:"supabase",defaultPort:3e3,defaultEnv:{},documentation:"https://supabase.com/docs/",tags:["backend-as-a-service","firebase","api"],popular:!0,complexity:"intermediate"},{id:"hasura",name:"hasura",displayName:"Hasura",description:"Instant GraphQL APIs on your data",baseImage:"hasura/graphql-engine",category:"web",iconKey:"hasura",defaultPort:8080,defaultEnv:{},documentation:"https://hasura.io/docs/",tags:["graphql","api","backend"],popular:!0,complexity:"intermediate"},{id:"yugabytedb",name:"yugabytedb",displayName:"YugabyteDB",description:"Distributed SQL database",baseImage:"yugabytedb/yugabyte",category:"database",iconKey:"yugabytedb",defaultPort:5433,additionalPorts:[7e3],defaultEnv:{},documentation:"https://docs.yugabyte.com/",tags:["database","distributed","sql"],popular:!0,complexity:"advanced"}];function Ql(t){const r=t.toLowerCase();return ei.filter(a=>a.displayName.toLowerCase().includes(r)||a.description.toLowerCase().includes(r)||a.tags.some(s=>s.toLowerCase().includes(r)))}async function Yl(t){const r=`image-${t}`,a=ht.get(r,"docker");if(a)return a;if(!Vt.canMakeRequest("dockerhub-info"))return console.warn(`Rate limit exceeded for Docker Hub image info. Remaining: ${Vt.getRemainingRequests("dockerhub-info")}`),null;try{const n=await fetch(`/v1/dockerhub/repo/${t}`);if(!n.ok)throw new Error(`HTTP ${n.status}`);const i=await n.json();return ht.set(r,i,"docker"),i}catch(s){return console.warn(`Failed to fetch Docker image info for ${t}:`,s),null}}async function Ds(t,r=10){const a=`tags-${t}-${r}`,s=ht.get(a,"docker");if(s)return s;if(!Vt.canMakeRequest("dockerhub-tags"))return console.warn(`Rate limit exceeded for Docker Hub tags. Remaining: ${Vt.getRemainingRequests("dockerhub-tags")}`),[];try{const i=await fetch(`/v1/dockerhub/tags/${t}?page_size=${r}`);if(!i.ok)throw new Error(`HTTP ${i.status}`);const l=(await i.json()).results||[];return ht.set(a,l,"docker"),l}catch(n){return console.warn(`Failed to fetch tags for ${t}:`,n),[]}}function Rs(t){var s;if(!t.length)return"latest";const r=[n=>/^\d+\.\d+\.\d+$/.test(n)?100:0,n=>/^\d+\.\d+$/.test(n)?90:0,n=>/^\d+$/.test(n)?80:0,n=>n==="stable"?70:0,n=>n==="lts"?65:0,n=>n.includes("alpine")?60:0,n=>n==="latest"?50:0],a=t.map(n=>({tag:n.name,score:r.reduce((i,o)=>i+o(n.name),0),lastUpdated:new Date(n.last_updated).getTime()}));return a.sort((n,i)=>n.score!==i.score?i.score-n.score:i.lastUpdated-n.lastUpdated),((s=a[0])==null?void 0:s.tag)||"latest"}async function Jl(t,r=25){const a=`search-${t}-${r}`,s=ht.get(a,"docker");if(s)return s;if(!Vt.canMakeRequest("dockerhub-search"))return console.warn(`Rate limit exceeded for Docker Hub search. Remaining: ${Vt.getRemainingRequests("dockerhub-search")}`),[];try{const i=`/v1/dockerhub/search?query=${encodeURIComponent(t)}&page_size=${r}`,o=await fetch(i);if(!o.ok){const h=await o.text();throw console.error(`❌ Docker Hub search failed: ${o.status} - ${h}`),new Error(`HTTP ${o.status}: ${h}`)}const c=(await o.json()).results||[];return ht.set(a,c,"docker"),c}catch(n){return console.error(`❌ Failed to search Docker images for ${t}:`,n),[]}}class Zl{constructor(){qe(this,"templates",new Map);qe(this,"externalTemplates",new Map);this.initializeCoreTemplates()}initializeCoreTemplates(){ei.forEach(r=>{const a={...r,verificationLevel:this.getVerificationLevel(r),isExternal:!1,lastVerified:new Date().toISOString()};this.templates.set(r.id,a)})}getVerificationLevel(r){const a=["postgres","mysql","mongo","redis","nginx","node","python","openjdk","rabbitmq","alpine","ubuntu","debian"],s=["docker.elastic.co/elasticsearch/elasticsearch","grafana/grafana","confluentinc/cp-kafka","minio/minio"];return a.some(n=>r.baseImage.includes(n))?"official":s.some(n=>r.baseImage.includes(n))?"verified":"community"}async getAllTemplates(r=!0){const a=Array.from(this.templates.values());if(!r)return a;const s=Array.from(this.externalTemplates.values());return[...a,...s]}async getTemplatesByCategory(r,a=!0){const s=await this.getAllTemplates(a);return r==="all"?s:s.filter(n=>n.category===r)}async searchTemplates(r,a=50){const s=Ql(r).map(n=>({...n,verificationLevel:this.getVerificationLevel(n),isExternal:!1,lastVerified:new Date().toISOString()}));try{const n=Math.max(10,a-Math.min(s.length,15)),i=await Jl(r,n),l=(await Promise.all(i.map(async p=>await this.convertDockerSearchToTemplate(p)))).filter(p=>p!==null),c=s.slice(0,Math.min(15,a)),h=new Set(c.map(p=>p.name.toLowerCase())),m=new Set(c.map(p=>p.baseImage.toLowerCase())),d=l.filter(p=>{const x=p.name.toLowerCase(),y=p.baseImage.toLowerCase();return!h.has(x)&&!m.has(y)&&!h.has(y.split("/").pop()||"")});return[...c,...d].slice(0,a)}catch(n){return console.error("❌ External Docker Hub search failed:",n),console.error("Error details:",{message:n instanceof Error?n.message:String(n),stack:n instanceof Error?n.stack:void 0}),s.slice(0,a)}}async convertDockerSearchToTemplate(r){try{const a=await Yl(r.repo_name);if(!a)return null;const s=await Ds(r.repo_name,5),n=Rs(s),i={id:`external-${r.repo_name.replace("/","-")}`,name:r.repo_name,displayName:this.formatDisplayName(r.repo_name),description:a.description||r.short_description||"External Docker image",baseImage:r.repo_name,dynamicVersion:n,category:this.guessCategory(r.repo_name,a.description),iconKey:this.guessIconKey(r.repo_name),defaultPort:this.guessDefaultPort(r.repo_name),documentation:`https://hub.docker.com/r/${r.repo_name}`,tags:this.extractTags(r.repo_name,a.description),popular:a.star_count>100,complexity:"intermediate",verificationLevel:r.is_official?"official":"external",isExternal:!0,pullCount:a.pull_count,starCount:a.star_count,dockerInfo:a};return this.externalTemplates.set(i.id,i),i}catch(a){return console.warn("Failed to convert search result:",a),null}}formatDisplayName(r){const a=r.split("/").pop()||r;return a.charAt(0).toUpperCase()+a.slice(1).replace(/[-_]/g," ")}guessCategory(r,a=""){const s={database:["postgres","mysql","mongo","redis","elastic","influx","cassandra"],web:["nginx","apache","httpd","caddy","traefik"],development:["node","python","java","golang","php","ruby"],monitoring:["grafana","prometheus","jaeger","kibana"],message:["rabbitmq","kafka","nats","activemq"],cache:["redis","memcached","hazelcast"],storage:["minio","nextcloud","seafile"]},n=`${r} ${a}`.toLowerCase();for(const[i,o]of Object.entries(s))if(o.some(l=>n.includes(l)))return i;return"development"}guessIconKey(r){const a={postgres:"postgresql",mysql:"mysql",mongo:"mongodb",redis:"redis",nginx:"nginx",node:"nodedotjs",python:"python",java:"java",rabbitmq:"rabbitmq",elastic:"elasticsearch"},s=r.toLowerCase();for(const[n,i]of Object.entries(a))if(s.includes(n))return i;return"docker"}guessDefaultPort(r){const a={postgres:5432,mysql:3306,mongo:27017,redis:6379,nginx:80,apache:80,node:3e3,elastic:9200,rabbitmq:5672,kafka:9092},s=r.toLowerCase();for(const[n,i]of Object.entries(a))if(s.includes(n))return i;return 8080}extractTags(r,a=""){const s=`${r} ${a}`.toLowerCase();return["database","web","api","server","cache","queue","monitoring","analytics","storage","security","development","runtime"].filter(i=>s.includes(i))}async getTemplateWithVersion(r){const a=this.templates.get(r)||this.externalTemplates.get(r);if(!a)return null;if(a.isExternal||!a.dynamicVersion)try{const s=await Ds(a.baseImage,10),n=Rs(s);a.dynamicVersion=n,a.lastUpdated=new Date().toISOString()}catch(s){console.warn(`Failed to fetch version for ${a.baseImage}:`,s),a.dynamicVersion="latest"}return a}getTemplateStats(){const r=this.templates.size,a=this.externalTemplates.size,s={official:0,verified:0,community:0,external:a};return this.templates.forEach(n=>{s[n.verificationLevel]++}),{total:r+a,core:r,external:a,verificationLevels:s}}}const Wr=new Zl;function Ur({verificationLevel:t,size:r="sm",showText:a=!0}){const s={sm:"text-xs px-2 py-1",md:"text-sm px-2.5 py-1.5",lg:"text-base px-3 py-2"},n={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},o={official:{bgColor:"bg-blue-100 dark:bg-blue-900/30",textColor:"text-blue-800 dark:text-blue-300",borderColor:"border-blue-200 dark:border-blue-800",icon:e("svg",{className:n[r],fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),label:"Official",description:"Official Docker image maintained by the project team"},verified:{bgColor:"bg-green-100 dark:bg-green-900/30",textColor:"text-green-800 dark:text-green-300",borderColor:"border-green-200 dark:border-green-800",icon:e("svg",{className:n[r],fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),label:"GLINR Verified",description:"Tested and verified by GLINR platform team"},community:{bgColor:"bg-purple-100 dark:bg-purple-900/30",textColor:"text-purple-800 dark:text-purple-300",borderColor:"border-purple-200 dark:border-purple-800",icon:e("svg",{className:n[r],fill:"currentColor",viewBox:"0 0 20 20",children:[e("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"}),e("path",{d:"M6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})]}),label:"Community",description:"Popular community-maintained template"},external:{bgColor:"bg-gray-100 dark:bg-gray-700",textColor:"text-gray-700 dark:text-gray-300",borderColor:"border-gray-300 dark:border-gray-600",icon:e("svg",{className:n[r],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),label:"External",description:"External template - use at your own discretion"}}[t];return e("div",{className:`inline-flex items-center gap-1.5 rounded-full font-medium border ${o.bgColor} ${o.textColor} ${o.borderColor} ${s[r]}`,title:o.description,children:[o.icon,a&&e("span",{children:o.label})]})}function Xl({viewMode:t,onViewModeChange:r,className:a=""}){return e("div",{class:`flex items-center bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-1 ${a}`,children:[e("button",{class:`p-2 rounded-lg transition-all duration-200 ${t==="grid"?"bg-[#10b981] text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>r("grid"),title:"Grid View - Compact cards, perfect for overview",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e("button",{class:`p-2 rounded-lg transition-all duration-200 ${t==="list"?"bg-[#10b981] text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>r("list"),title:"List View - Minimal rows, great for quick scanning",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),e("button",{class:`p-2 rounded-lg transition-all duration-200 ${t==="cards"?"bg-[#10b981] text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>r("cards"),title:"Card View - Detailed info, best for management",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})]})}function ed(){var U;const[t,r]=g([]),[a,s]=g(""),[n,i]=g("all"),[o,l]=g(""),[c,h]=g("all"),[m,d]=g(!1),[u,p]=g(null),[x,y]=g(null),[b,O]=g("cards"),[_,I]=g([]),[B,L]=g(!0),{data:w}=be(()=>$.getSystemInfo());K(()=>{P(),k()},[]);const k=async()=>{L(!0);try{const j=await Wr.getAllTemplates(!0);I(j)}catch(j){console.error("Failed to load templates:",j)}finally{L(!1)}},R=async j=>{if(!j.trim()){k();return}L(!0);try{const V=await Wr.searchTemplates(j,25);I(V)}catch(V){console.error("Failed to search templates:",V)}finally{L(!1)}};K(()=>{const j=setTimeout(()=>{R(o)},300);return()=>clearTimeout(j)},[o]);const P=async()=>{try{const j=await $.getProjects();r(j||[]),j&&j.length>0&&s(j[0].id)}catch(j){console.error("Failed to load projects:",j)}},M=async j=>{if(!a){y({type:"error",message:"Please select a project first"});return}if((w==null?void 0:w.docker_status)!=="connected"){y({type:"error",message:"Docker is not connected. Please start Docker and try again."});return}p(j.id),y(null);try{const V=Date.now().toString().slice(-4),oe=`${j.name}-${V}`.toLowerCase().replace(/[^a-z0-9-]/g,"-"),fe=[{host:j.defaultPort,container:C(j)}];j.additionalPorts&&j.additionalPorts.forEach((Ye,$e)=>{const _e=T(j,$e);fe.push({host:Ye,container:_e})});const Ie=await Wr.getTemplateWithVersion(j.id),Te=Ie!=null&&Ie.dynamicVersion?`${j.baseImage}:${Ie.dynamicVersion}`:j.baseImage,Qe={name:oe,image:Te,ports:fe,env:j.defaultEnv||{}};await $.createService(a,Qe),y({type:"success",message:`${j.displayName} deployed successfully as "${oe}" on port ${j.defaultPort}`})}catch(V){console.error("Failed to deploy service:",V),y({type:"error",message:V.message||"Failed to deploy service"})}finally{p(null)}},C=j=>({redis:6379,postgres:5432,mongodb:27017,nginx:80,rabbitmq:5672,elasticsearch:9200,mysql:3306,grafana:3e3})[j.id]||8080,T=(j,V)=>j.id==="rabbitmq"&&V===0?15672:8080+V,D=j=>{const V=j.toLowerCase();if(V.includes("/"))if(V.startsWith("mcr.microsoft.com/")||V.includes(".")){const oe=V.split("/").pop()||V;return`https://hub.docker.com/search?q=${encodeURIComponent(oe)}`}else return`https://hub.docker.com/r/${j}`;else return`https://hub.docker.com/_/${j}`},v=[{id:"all",name:"All Services",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})},{id:"database",name:"Databases",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})})},{id:"cache",name:"Cache",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},{id:"web",name:"Web Servers",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})},{id:"message",name:"Messaging",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})},{id:"streaming",name:"Streaming",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072M18.364 5.636a9 9 0 010 12.728M9.879 16.121A3 3 0 1012.015 11L11 14l1.879 2.121z"})})},{id:"monitoring",name:"Monitoring",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"development",name:"Development",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{id:"storage",name:"Storage",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"})})},{id:"media",name:"Media",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})},{id:"security",name:"Security",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})},{id:"networking",name:"Networking",icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}];let A=_;n!=="all"&&(A=A.filter(j=>j.category===n)),c!=="all"&&(A=A.filter(j=>j.complexity===c)),m&&(A=A.filter(j=>j.popular));const G=((U=t.find(j=>j.id===a))==null?void 0:U.name)||"Unknown Project",f=()=>e("div",{class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:A.map(j=>e("div",{class:`${j.isExternal?"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"} rounded-xl border shadow-sm hover:shadow-lg transition-all duration-200 overflow-hidden relative`,children:[j.isExternal&&e("div",{class:"absolute top-2 right-2 z-10",children:e("a",{href:D(j.baseImage),target:"_blank",rel:"noopener noreferrer",class:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm hover:bg-blue-600 transition-colors",title:`View ${j.baseImage} on Docker Hub`,children:e("svg",{class:"w-4 h-4 text-white",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:e("path",{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"})})})}),e("div",{class:"p-4",children:[e("div",{class:"flex items-center gap-3 mb-3",children:[e("div",{class:"w-12 h-12 flex items-center justify-center",children:e(kt,{imageName:j.baseImage,className:"w-10 h-10"})}),e("div",{class:"flex-1 min-w-0",children:[e("h3",{class:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:j.displayName}),e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:j.isExternal?j.baseImage:`Port ${j.defaultPort}`})]})]}),e("div",{class:"flex items-center gap-2 mb-3 flex-wrap",children:[j.category!=="development"&&e("span",{class:"inline-block text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:j.category}),e(Ur,{verificationLevel:j.verificationLevel,size:"sm",showText:!0}),j.popular&&e("div",{class:"flex items-center gap-1 text-yellow-600 dark:text-yellow-400",children:[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e("span",{class:"text-xs font-medium",children:"Popular"})]})]}),j.isExternal&&(j.starCount||j.pullCount)&&e("div",{class:"flex items-center gap-3 mb-3 text-xs text-gray-600 dark:text-gray-400",children:[j.starCount&&e("div",{class:"flex items-center gap-1",children:[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e("span",{children:j.starCount.toLocaleString()})]}),j.pullCount&&e("div",{class:"flex items-center gap-1",children:[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),e("span",{children:j.pullCount.toLocaleString()})]})]}),e("div",{class:"flex gap-2",children:[e("button",{onClick:()=>M(j),disabled:!a||(w==null?void 0:w.docker_status)!=="connected"||u===j.id,class:`flex-1 flex items-center justify-center gap-1.5 px-2.5 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${!a||(w==null?void 0:w.docker_status)!=="connected"?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":u===j.id?"bg-yellow-500 text-white cursor-wait":"bg-slate-700 hover:bg-slate-600 text-white border border-slate-600 hover:border-slate-500 shadow-sm hover:shadow-md transition-all duration-200"}`,children:u===j.id?e(ae,{children:[e("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("span",{class:"hidden sm:inline",children:"Starting..."})]}):e(ae,{children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),e("span",{class:"hidden sm:inline",children:"Launch"})]})}),e("button",{class:"p-2 rounded-lg border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",title:"View details",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})]},j.id))}),S=()=>e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:e("div",{class:"divide-y divide-gray-200 dark:divide-gray-700",children:A.map(j=>e("div",{class:`p-4 transition-colors duration-200 ${j.isExternal?"bg-gradient-to-r from-blue-50/50 to-transparent dark:from-blue-900/10 hover:from-blue-100/70 dark:hover:from-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center gap-4 flex-1",children:[e("div",{class:"w-12 h-12 flex items-center justify-center",children:e(kt,{imageName:j.baseImage,className:"w-10 h-10"})}),e("div",{class:"flex-1",children:[e("div",{class:"flex items-center gap-3 mb-1 flex-wrap",children:[e("h3",{class:"font-semibold text-gray-900 dark:text-white",children:j.displayName}),j.isExternal&&e("span",{class:"text-xs text-blue-600 dark:text-blue-400 font-mono bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:j.baseImage}),j.category!=="development"&&e("span",{class:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:j.category}),e(Ur,{verificationLevel:j.verificationLevel,size:"sm",showText:!0}),j.isExternal&&e("a",{href:D(j.baseImage),target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center justify-center w-6 h-6 bg-blue-500 hover:bg-blue-600 text-white rounded-full transition-colors",title:`View ${j.baseImage} on Docker Hub`,children:e("svg",{class:"w-3.5 h-3.5",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:e("path",{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"})})})]}),e("div",{class:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[!j.isExternal&&e("span",{children:["Port ",j.defaultPort]}),j.isExternal&&(j.starCount||j.pullCount)&&e("div",{class:"flex items-center gap-3",children:[j.starCount&&e("div",{class:"flex items-center gap-1",children:[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e("span",{children:j.starCount.toLocaleString()})]}),j.pullCount&&e("div",{class:"flex items-center gap-1",children:[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),e("span",{children:j.pullCount.toLocaleString()})]})]}),e("div",{class:"flex gap-1",children:j.tags.filter(V=>V!==j.category).slice(0,2).map(V=>e("span",{class:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded",children:V},V))})]})]})]}),e("div",{class:"flex items-center gap-2",children:[e("button",{onClick:()=>M(j),disabled:!a||(w==null?void 0:w.docker_status)!=="connected"||u===j.id,class:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${!a||(w==null?void 0:w.docker_status)!=="connected"?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":u===j.id?"bg-yellow-500 text-white cursor-wait":"bg-slate-700 hover:bg-slate-600 text-white border border-slate-600 hover:border-slate-500 shadow-sm hover:shadow-md transition-all duration-200"}`,children:u===j.id?e(ae,{children:[e("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Launching..."]}):e(ae,{children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Launch"]})}),e("button",{class:"p-2 rounded-lg border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",title:"View details",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})},j.id))})}),H=()=>e("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:A.map(j=>e("div",{class:`${j.isExternal?"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-blue-200 dark:border-blue-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"} rounded-xl border shadow-lg hover:shadow-xl transition-all duration-200 overflow-hidden flex flex-col h-full relative`,children:[j.isExternal&&e("div",{class:"absolute top-3 right-3 z-10",children:e("a",{href:D(j.baseImage),target:"_blank",rel:"noopener noreferrer",class:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm hover:bg-blue-600 transition-colors",title:`View ${j.baseImage} on Docker Hub`,children:e("svg",{class:"w-4 h-4 text-white",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:e("path",{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"})})})}),e("div",{class:"p-4 flex flex-col flex-grow",children:[e("div",{class:"flex items-center gap-3 mb-3",children:[e("div",{class:"w-10 h-10 flex items-center justify-center",children:e(kt,{imageName:j.baseImage,className:"w-8 h-8"})}),e("div",{class:"flex-1",children:[e("h3",{class:"font-bold text-gray-900 dark:text-white",children:j.displayName}),j.isExternal&&e("p",{class:"text-xs text-blue-600 dark:text-blue-400 font-mono mt-0.5",children:j.baseImage}),e("div",{class:"flex items-center gap-2 mt-1 flex-wrap",children:[j.category!=="development"&&e("span",{class:"text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded",children:j.category}),e(Ur,{verificationLevel:j.verificationLevel,size:"sm",showText:!0}),!j.isExternal&&e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:["Port ",j.defaultPort]})]})]})]}),e("div",{class:"flex-grow mb-4",children:e("p",{class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3",children:j.description})}),j.isExternal&&(j.starCount||j.pullCount)&&e("div",{class:"flex items-center gap-3 mb-3 text-xs text-gray-600 dark:text-gray-400 justify-center",children:[j.starCount&&e("div",{class:"flex items-center gap-1",children:[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e("span",{children:[j.starCount.toLocaleString()," stars"]})]}),j.pullCount&&e("div",{class:"flex items-center gap-1",children:[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),e("span",{children:[j.pullCount.toLocaleString()," pulls"]})]})]}),e("div",{class:"flex items-center justify-between mb-4",children:[e("div",{class:"flex flex-wrap gap-1",children:j.tags.filter(V=>V!==j.category).slice(0,2).map(V=>e("span",{class:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full",children:V},V))}),e("div",{class:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e("span",{children:j.dynamicVersion||"latest"})]})]}),e("div",{class:"flex gap-2",children:[e("button",{onClick:()=>M(j),disabled:!a||(w==null?void 0:w.docker_status)!=="connected"||u===j.id,class:`flex-1 flex items-center justify-center gap-1.5 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${!a||(w==null?void 0:w.docker_status)!=="connected"?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":u===j.id?"bg-yellow-500 text-white cursor-wait":"bg-slate-700 hover:bg-slate-600 text-white border border-slate-600 hover:border-slate-500 shadow-sm hover:shadow-md transition-all duration-200"}`,children:u===j.id?e(ae,{children:[e("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("span",{class:"hidden sm:inline",children:"Starting..."})]}):a?(w==null?void 0:w.docker_status)!=="connected"?e(ae,{children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{class:"text-xs",children:"Docker Offline"})]}):e(ae,{children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),e("span",{class:"hidden sm:inline",children:"Launch"}),e("span",{class:"sm:hidden",children:"Go"})]}):e(ae,{children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{class:"text-xs",children:"Select Project"})]})}),e("div",{class:"flex gap-1",children:[e("button",{class:"p-1.5 rounded-md border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",title:"View documentation",children:e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e("a",{href:D(j.baseImage),target:"_blank",rel:"noopener noreferrer",class:"p-1.5 rounded-md border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 inline-flex items-center justify-center",title:"View on Docker Hub",children:e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})]})]},j.id))});return e("div",{class:"p-4 lg:p-6 max-w-7xl mx-auto",children:[e("div",{class:"mb-8",children:[e("div",{class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[e("div",{class:"flex-1",children:[e("div",{class:"flex items-center gap-3 mb-2",children:[e("h1",{class:"text-2xl lg:text-3xl font-bold",children:e("span",{class:"bg-gradient-to-r from-[#10b981] via-[#059669] to-[#047857] bg-clip-text text-transparent",children:"Service Templates"})}),e("div",{class:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full border border-blue-200 dark:border-blue-800 text-sm font-medium",children:[e("svg",{class:"w-4 h-4",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:e("path",{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"})}),"Docker Hub Integrated"]})]}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm lg:text-base",children:"Deploy popular services with one click - pre-configured and ready to use"})]}),e("div",{class:`flex items-center justify-center w-10 h-10 rounded-lg border ${(w==null?void 0:w.docker_status)==="connected"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,title:`Docker ${(w==null?void 0:w.docker_status)==="connected"?"Connected":"Disconnected"}`,children:e("svg",{class:`w-5 h-5 ${(w==null?void 0:w.docker_status)==="connected"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(w==null?void 0:w.docker_status)==="connected"?e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}):e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"mb-6",children:[e("div",{class:"flex flex-col lg:flex-row gap-4 mb-4",children:[e("div",{class:"flex-1 relative",children:[e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",placeholder:"Search services, technologies, or tags...",value:o,onInput:j=>l(j.target.value),class:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-[#10b981] focus:border-transparent transition-all duration-200"}),o&&e("button",{onClick:()=>l(""),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e(Xl,{viewMode:b,onViewModeChange:O,className:"mr-3"}),e("div",{class:"flex gap-2",children:[e("button",{onClick:()=>d(!m),class:`px-4 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 ${m?"bg-[#10b981] text-white shadow-lg shadow-[#10b981]/25":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e("svg",{class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Popular Only"]}),e("select",{value:c,onChange:j=>h(j.target.value),class:"px-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-[#10b981] focus:border-transparent",children:[e("option",{value:"all",children:"All Levels"}),e("option",{value:"beginner",children:"Beginner"}),e("option",{value:"intermediate",children:"Intermediate"}),e("option",{value:"advanced",children:"Advanced"})]})]})]}),e("div",{class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[e("span",{children:[A.length," service",A.length!==1?"s":""," available",o&&` for "${o}"`]}),(o||n!=="all"||c!=="all"||m)&&e("button",{onClick:()=>{l(""),i("all"),h("all"),d(!1)},class:"text-[#10b981] hover:text-[#059669] font-medium",children:"Clear filters"})]})]}),e("div",{class:"mb-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Deploy to Project"}),e("div",{class:"flex flex-wrap gap-2",children:t.map(j=>e("button",{onClick:()=>s(j.id),class:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 border ${a===j.id?"bg-[#10b981] text-white border-[#10b981] shadow-lg shadow-[#10b981]/25":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:j.name},j.id))}),a&&e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Services will be deployed to: ",e("strong",{children:G})]})]}),x&&e("div",{class:`mb-6 p-4 rounded-lg border ${x.type==="success"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:e("div",{class:"flex items-center gap-2",children:[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.type==="success"?e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}):e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),x.message]})}),e("div",{class:"flex flex-wrap gap-2 mb-6",children:v.map(j=>e("button",{onClick:()=>i(j.id),class:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 border ${n===j.id?"bg-[#9c40ff] text-white border-[#9c40ff] shadow-lg shadow-[#9c40ff]/25":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:e("span",{class:"flex items-center gap-2",children:[e("span",{children:j.icon}),j.name]})},j.id))})]}),e("div",{children:B?e("div",{class:"flex items-center justify-center py-12",children:e("div",{class:"flex items-center gap-3",children:[e("svg",{class:"w-6 h-6 animate-spin text-[#10b981]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e("span",{class:"text-lg text-gray-600 dark:text-gray-400",children:o?"Searching templates...":"Loading templates..."})]})}):e(ae,{children:[b==="grid"&&f(),b==="list"&&S(),b==="cards"&&H()]})}),A.length===0&&e("div",{class:"text-center py-12",children:[e("div",{class:"w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:e("svg",{class:"w-16 h-16 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No templates found"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Try selecting a different category or check back later for more templates."})]})]})}function td(){const[t,r]=g(!1),[a,s]=g(!1),[n,i]=g(!1),[o,l]=g(new Set),[c,h]=g({show:!1,message:"",type:"info"}),{data:m}=be(()=>$.getAuthInfo()),{data:d,loading:u,refetch:p}=be(()=>$.listRoutes()),{data:x,loading:y}=be(()=>$.getProjects()),b=Pa(m==null?void 0:m.role),[O,_]=g([]),[I,B]=g(!1);g(()=>{x&&x.length>0&&(B(!0),Promise.all(x.map(P=>$.getProjectServices(P.id).catch(()=>[]))).then(P=>{const M=P.flat().map((C,T)=>{var D;return{...C,project_name:((D=x[Math.floor(T/(P.reduce((v,A)=>v+A.length,0)/x.length))])==null?void 0:D.name)||"Unknown"}});_(M)}).finally(()=>{B(!1)}))});const L=async P=>{try{await $.createRoute(P.service_id,P),h({show:!0,message:"Route created successfully",type:"success"}),p()}catch(M){const C=M instanceof Error?M.message:"Failed to create route";h({show:!0,message:C,type:"error"})}},w=async()=>{if(b){i(!0);try{await $.nginxReload(),h({show:!0,message:"Nginx configuration reloaded successfully",type:"success"}),s(!1)}catch(P){const M=P instanceof Error?P.message:"Failed to reload nginx";h({show:!0,message:M,type:"error"})}finally{i(!1)}}},k=async P=>{try{await $.deleteRoute(P),h({show:!0,message:"Route deleted successfully",type:"success"}),p()}catch(M){const C=M instanceof Error?M.message:"Failed to delete route";h({show:!0,message:C,type:"error"})}},R=async P=>{l(M=>new Set([...M,P]));try{const M=await $.checkRouteHealth(P.toString());if(d){const C=d.map(T=>T.id===P?{...T,last_status:M.status,last_check_at:M.checked_at}:T);p()}}catch(M){const C=M instanceof Error?M.message:"Failed to check route health";h({show:!0,message:C,type:"error"})}finally{l(M=>{const C=new Set(M);return C.delete(P),C})}};return y||I?e(Jt,{size:"lg"}):e("div",{class:"space-y-6 fade-in",children:[e("div",{children:[e("h1",{class:"text-2xl font-bold text-white",children:"Routes"}),e("p",{class:"text-gray-400 mt-1",children:"Configure external routing and load balancing"})]}),O.length===0&&!I&&e("div",{class:"grid md:grid-cols-2 gap-6 mb-6",children:[e("div",{class:"card bg-gradient-to-br from-blue-900/20 to-blue-800/20 border-blue-700/30",children:e("div",{class:"flex items-start space-x-4",children:[e("div",{class:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e("span",{class:"text-blue-400 text-xl",children:"🌐"})}),e("div",{children:[e("h3",{class:"text-lg font-semibold text-white mb-2",children:"What are Routes?"}),e("p",{class:"text-gray-300 text-sm leading-relaxed",children:"Routes expose your containerized services to the internet through custom domains. They act as a reverse proxy, directing traffic from your domain to your service's internal port."})]})]})}),e("div",{class:"card bg-gradient-to-br from-purple-900/20 to-purple-800/20 border-purple-700/30",children:e("div",{class:"flex items-start space-x-4",children:[e("div",{class:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e("span",{class:"text-purple-400 text-xl",children:"🔧"})}),e("div",{children:[e("h3",{class:"text-lg font-semibold text-white mb-2",children:"How to Get Started"}),e("p",{class:"text-gray-300 text-sm leading-relaxed mb-3",children:"Before creating routes, you need running services to route traffic to:"}),e("ol",{class:"text-sm text-gray-400 space-y-1",children:[e("li",{children:"1. Deploy a service (nginx, node app, etc.)"}),e("li",{children:"2. Ensure it exposes a port"}),e("li",{children:"3. Create routes to your domain"})]})]})]})}),e("div",{class:"card bg-gradient-to-br from-green-900/20 to-green-800/20 border-green-700/30",children:e("div",{class:"flex items-start space-x-4",children:[e("div",{class:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e("span",{class:"text-green-400 text-xl",children:"🚀"})}),e("div",{children:[e("h3",{class:"text-lg font-semibold text-white mb-2",children:"Common Use Cases"}),e("div",{class:"text-sm text-gray-300 space-y-2",children:[e("div",{class:"flex items-center space-x-2",children:[e("span",{class:"w-1.5 h-1.5 bg-green-400 rounded-full"}),e("span",{children:["Web apps at ",e("code",{class:"text-green-400",children:"app.yoursite.com"})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("span",{class:"w-1.5 h-1.5 bg-green-400 rounded-full"}),e("span",{children:["APIs at ",e("code",{class:"text-green-400",children:"api.yoursite.com"})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("span",{class:"w-1.5 h-1.5 bg-green-400 rounded-full"}),e("span",{children:["Admin panels at ",e("code",{class:"text-green-400",children:"admin.yoursite.com"})]})]})]})]})]})}),e("div",{class:"card bg-gradient-to-br from-orange-900/20 to-orange-800/20 border-orange-700/30",children:e("div",{class:"flex items-start space-x-4",children:[e("div",{class:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e("span",{class:"text-orange-400 text-xl",children:"🔒"})}),e("div",{children:[e("h3",{class:"text-lg font-semibold text-white mb-2",children:"SSL/TLS Support"}),e("p",{class:"text-gray-300 text-sm leading-relaxed mb-2",children:"Enable HTTPS for your routes with automatic SSL certificate management."}),e("div",{class:"text-xs text-orange-300 bg-orange-500/10 px-2 py-1 rounded border border-orange-500/20",children:"💡 Tip: Always enable TLS for production services"})]})]})})]}),O.length===0&&!I&&e("div",{class:"card bg-gradient-to-r from-indigo-900/30 to-purple-900/30 border-indigo-700/40 mb-6",children:e("div",{class:"text-center py-6",children:[e("div",{class:"w-16 h-16 bg-indigo-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:e("span",{class:"text-indigo-400 text-2xl",children:"⚡"})}),e("h3",{class:"text-xl font-semibold text-white mb-2",children:"Ready to Get Started?"}),e("p",{class:"text-gray-300 mb-4",children:"Deploy your first service to start creating routes"}),e("button",{class:"btn btn-primary",onClick:()=>{const P=new URLSearchParams(window.location.search);P.set("page","services"),window.history.pushState({},"","/app/?"+P.toString()),window.location.reload()},children:[e("span",{class:"mr-2",children:"🚀"}),"Go to Services"]})]})}),e("div",{class:"card gradient-card",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("h2",{class:"text-lg font-semibold text-white",children:"All Routes"}),e("div",{class:"flex items-center space-x-3",children:[b&&e("button",{class:"btn btn-secondary",onClick:()=>s(!0),disabled:n,title:"Reload nginx configuration",children:[n?e("span",{class:"animate-spin mr-2",children:"⟳"}):e("span",{class:"mr-2",children:"🔄"}),"Reload Nginx"]}),e("a",{href:"/routes/wizard",class:"btn btn-primary",children:[e("span",{class:"mr-2",children:"➕"}),"Add Route"]})]})]}),u?e("div",{class:"space-y-4",children:[...Array(3)].map((P,M)=>e("div",{class:"skeleton h-16"},M))}):d&&d.length>0?e("div",{class:"space-y-3",children:d.map(P=>{const M=O.find(C=>C.id===P.service_id);return e("div",{class:"flex items-center justify-between p-4 bg-gray-700 rounded-lg border border-gray-600",children:[e("div",{class:"flex items-center space-x-4",children:[e("div",{class:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:e("span",{class:"text-purple-400",children:"🔗"})}),e("div",{children:[e("div",{class:"flex items-center space-x-2",children:[e("span",{class:"text-white font-medium",children:[P.domain,P.path&&P.path!=="/"&&e("span",{class:"text-gray-400",children:P.path})]}),P.tls&&e("span",{class:"badge bg-green-500/20 text-green-400",children:"HTTPS"}),e(Sl,{status:P.last_status,lastChecked:P.last_check_at,size:"xs"})]}),e("div",{class:"text-sm text-gray-400 mt-1",children:["→ ",M?`${M.name}`:"Unknown service"," :",P.port,M&&M.project_name&&e("span",{class:"ml-2 text-xs bg-gray-600 px-2 py-0.5 rounded",children:M.project_name})]}),e("div",{class:"text-xs text-gray-500 mt-1",children:["Created ",new Date(P.created_at).toLocaleDateString()]})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("button",{class:"btn-icon text-blue-400 hover:text-blue-300",onClick:()=>R(P.id),disabled:o.has(P.id),title:"Check route health",children:o.has(P.id)?"⟳":"🔍"}),e("button",{class:"btn-icon text-red-400 hover:text-red-300",onClick:()=>k(P.id.toString()),title:"Delete route",children:"🗑️"})]})]},P.id)})}):e("div",{class:"text-center py-12",children:[e("div",{class:"w-16 h-16 bg-purple-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:e("span",{class:"text-purple-400 text-2xl",children:"🔗"})}),e("p",{class:"text-gray-400 mb-4",children:"No routes configured"}),e("p",{class:"text-sm text-gray-500",children:O.length===0?"Deploy services first to create routes":"Create routes to expose your services to the internet"})]})]}),e(jl,{isOpen:t,onClose:()=>r(!1),onSubmit:L,services:O}),e(Da,{isOpen:a,onClose:()=>s(!1),onConfirm:w,title:"Reload Nginx Configuration",message:"This will reload the nginx configuration to apply any recent route changes. This operation is safe and won't cause downtime.",confirmText:n?"Reloading...":"Reload",confirmStyle:"primary",disabled:n}),e(rt,{message:c.message,type:c.type,isVisible:c.show,onClose:()=>h({...c,show:!1})})]})}function rd(){const[t,r]=g(1),[a,s]=g(null),[n,i]=g(null),[o,l]=g({domain:"",path:"/",port:80,tls:!1}),[c,h]=g([]),[m,d]=g(!1),[u,p]=g(!1),[x,y]=g(!1),[b,O]=g(!1),[_,I]=g(!1),[B,L]=g({}),[w,k]=g({show:!1,message:"",type:"info"}),{data:R}=be(()=>$.getAuthInfo()),{data:P,loading:M}=be(()=>$.getProjects()),C=Pa(R==null?void 0:R.role);K(()=>{a?(d(!0),$.getProjectServices(a.id).then(V=>{h(V||[])}).catch(()=>{h([]),k({show:!0,message:"Failed to load services",type:"error"})}).finally(()=>{d(!1)})):h([])},[a]),K(()=>{n&&n.port&&l(V=>({...V,port:n.port}))},[n]);const T=V=>V.trim()?/^[a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?)*$/.test(V)?null:"Invalid domain format. Use format like example.com or app.example.com":"Domain is required",D=V=>V.startsWith("/")?null:"Path must start with /",v=V=>V<1||V>65535?"Port must be between 1 and 65535":null,A=()=>{const V={};if(t===3){const oe=T(o.domain);oe&&(V.domain=oe);const fe=D(o.path);fe&&(V.path=fe);const Ie=v(o.port);Ie&&(V.port=Ie)}return L(V),Object.keys(V).length===0},G=()=>{t>1&&(r(t-1),L({}))},f=V=>{s(V),i(null),r(2)},S=V=>{i(V),r(3)},H=async()=>{if(!(!A()||!n)){p(!0);try{await $.createRoute(n.id,{domain:o.domain.trim(),path:o.path.trim(),port:o.port,tls:o.tls}),O(!0),k({show:!0,message:`Route created successfully for ${o.domain}`,type:"success"}),C?y(!0):setTimeout(()=>{window.location.href="/routes"},2e3)}catch(V){const oe=V instanceof Error?V.message:"Failed to create route";k({show:!0,message:oe,type:"error"}),oe.includes("domain")?L({domain:oe}):oe.includes("port")?L({port:oe}):oe.includes("path")&&L({path:oe})}finally{p(!1)}}},U=async()=>{I(!0);try{await $.nginxReload(),k({show:!0,message:"Configuration applied successfully!",type:"success"}),y(!1),setTimeout(()=>{window.location.href="/routes"},1500)}catch(V){const oe=V instanceof Error?V.message:"Failed to apply configuration";k({show:!0,message:oe,type:"error"})}finally{I(!1)}},j=()=>{y(!1),window.location.href="/routes"};return M?e("div",{class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e(Jt,{size:"lg"})}):e("div",{class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:[e("div",{class:"max-w-2xl mx-auto px-4",children:[e("div",{class:"text-center mb-8",children:[e("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Create Route"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Add a new domain route to expose your service"})]}),e("div",{class:"flex items-center justify-center mb-8",children:e("div",{class:"flex items-center space-x-4",children:[1,2,3].map(V=>e("div",{class:"flex items-center",children:[e("div",{class:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${V<=t?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:V}),V<3&&e("div",{class:`w-16 h-0.5 ml-4 ${V<t?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`})]},V))})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[t===1&&e("div",{class:"space-y-4",children:[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Select Project"}),P&&P.length>0?e("div",{class:"grid gap-3",children:P.map(V=>e("button",{onClick:()=>f(V),class:"text-left p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:e("div",{class:"font-medium text-gray-900 dark:text-white",children:V.name})},V.id))}):e("div",{class:"text-center py-8",children:e("p",{class:"text-gray-500 dark:text-gray-400",children:"No projects available. Create a project first."})})]}),t===2&&e("div",{class:"space-y-4",children:[e("div",{class:"flex items-center justify-between",children:[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white",children:"Select Service"}),e("button",{onClick:G,class:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400",children:"← Back to Projects"})]}),e("div",{class:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e("p",{class:"text-sm text-blue-700 dark:text-blue-300",children:[e("strong",{children:"Selected Project:"})," ",a==null?void 0:a.name]})}),m?e("div",{class:"flex justify-center py-8",children:e(Jt,{size:"md"})}):c.length>0?e("div",{class:"grid gap-3",children:c.map(V=>e("button",{onClick:()=>S(V),class:"text-left p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[e("div",{class:"font-medium text-gray-900 dark:text-white",children:V.name}),V.port&&e("div",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Port ",V.port]})]},V.id))}):e("div",{class:"text-center py-8",children:e("p",{class:"text-gray-500 dark:text-gray-400",children:"No services found in this project. Deploy a service first."})})]}),t===3&&e("div",{class:"space-y-6",children:[e("div",{class:"flex items-center justify-between",children:[e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white",children:"Route Details"}),e("button",{onClick:G,class:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400",children:"← Back to Services"})]}),e("div",{class:"space-y-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-sm",children:[e("p",{class:"text-blue-700 dark:text-blue-300",children:[e("strong",{children:"Project:"})," ",a==null?void 0:a.name]}),e("p",{class:"text-blue-700 dark:text-blue-300",children:[e("strong",{children:"Service:"})," ",n==null?void 0:n.name]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Domain ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",value:o.domain,onChange:V=>{const oe=V.target.value;l(fe=>({...fe,domain:oe})),B.domain&&L(fe=>({...fe,domain:""}))},placeholder:"app.example.com",class:`input ${B.domain?"border-red-500":""}`,disabled:u}),B.domain&&e("p",{class:"text-red-500 text-xs mt-1",children:B.domain}),e("p",{class:"text-gray-500 text-xs mt-1",children:"Enter the domain name where your service will be accessible"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Path"}),e("input",{type:"text",value:o.path,onChange:V=>{const oe=V.target.value;l(fe=>({...fe,path:oe})),B.path&&L(fe=>({...fe,path:""}))},placeholder:"/",class:`input ${B.path?"border-red-500":""}`,disabled:u}),B.path&&e("p",{class:"text-red-500 text-xs mt-1",children:B.path}),e("p",{class:"text-gray-500 text-xs mt-1",children:"URL path prefix (optional, defaults to /)"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Port ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"number",min:"1",max:"65535",value:o.port,onChange:V=>{const oe=parseInt(V.target.value)||80;l(fe=>({...fe,port:oe})),B.port&&L(fe=>({...fe,port:""}))},class:`input ${B.port?"border-red-500":""}`,disabled:u}),B.port&&e("p",{class:"text-red-500 text-xs mt-1",children:B.port}),e("p",{class:"text-gray-500 text-xs mt-1",children:"Service port number (1-65535)"})]}),e("div",{children:[e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",checked:o.tls,onChange:V=>{const oe=V.target.checked;l(fe=>({...fe,tls:oe}))},class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:u}),e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enable HTTPS/TLS"})]}),e("p",{class:"text-gray-500 text-xs mt-1 ml-6",children:"Automatically provision SSL certificate"})]}),e("div",{class:"pt-4 border-t border-gray-200 dark:border-gray-700",children:e("button",{onClick:H,disabled:u||!n,class:"w-full btn btn-primary",children:u?e("span",{class:"flex items-center justify-center",children:[e("span",{class:"animate-spin mr-2",children:"⟳"}),"Creating Route..."]}):"Create Route"})})]})]}),e(Da,{isOpen:x,onClose:j,onConfirm:U,title:"Apply Configuration?",message:C?"Your route has been created! Would you like to apply the nginx configuration now to make it active?":"Route created successfully! An administrator needs to reload the nginx configuration to make it active.",confirmText:C?_?"Applying...":"Apply Now":"OK",cancelText:C?"Skip for Now":"Close",confirmStyle:"primary",disabled:_||!C}),b&&!C&&!x&&e("div",{class:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e("div",{class:"flex items-start",children:[e("div",{class:"flex-shrink-0",children:e("svg",{class:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e("div",{class:"ml-3",children:[e("h3",{class:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Configuration Pending"}),e("p",{class:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Your route has been created but requires an administrator to reload the nginx configuration before it becomes active."})]})]})})]}),e(rt,{message:w.message,isVisible:w.show,type:w.type,onClose:()=>k(V=>({...V,show:!1}))})]})}function ad(){var h;const{data:t,loading:r}=be(()=>$.getSystemInfo()),{data:a,loading:s}=be(()=>$.getSystemMetrics()),[n,i]=g(!1),o=m=>{if(!m)return"Unknown";const d=Math.floor(m/1e9),u=Math.floor(d/86400),p=Math.floor(d%86400/3600),x=Math.floor(d%3600/60),y=[];return u>0&&y.push(`${u}d`),p>0&&y.push(`${p}h`),x>0&&u===0&&y.push(`${x}m`),y.join(" ")||"0s"},l=a&&t?{id:a.node_id,hostname:a.hostname,role:"master",version:((h=a.platform.go_version)==null?void 0:h.replace(/^go/,"v"))||"Unknown",os:a.platform.os||"Unknown",arch:a.platform.arch||"Unknown",uptime:o(a.uptime),dockerStatus:t.docker_status==="connected"?"connected":"disconnected",numCpu:a.platform.num_cpu,resources:{cpu:{used:Math.round(a.resources.cpu.used_percent*100)/100},memory:{used:a.resources.memory.used/1024**3,total:a.resources.memory.total/1024**3,unit:"GB",usedPercent:a.resources.memory.used_percent},disk:{used:a.resources.disk.used/1024**3,total:a.resources.disk.total/1024**3,unit:"GB",usedPercent:a.resources.disk.used_percent},network:{rx:a.network.bytes_recv/1024**2,tx:a.network.bytes_sent/1024**2,unit:"MB total"}}}:null,c=r||s;return e("div",{class:"space-y-6 fade-in",children:[e("div",{class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e("div",{children:[e("h1",{class:"text-3xl font-bold mb-2",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] via-[#9c40ff] to-[#e94057] bg-clip-text text-transparent",children:"Cluster Nodes"})}),e("p",{class:"text-gray-400",children:"Monitor and manage your container orchestration nodes"})]}),e("div",{class:"flex items-center space-x-3",children:e("button",{onClick:()=>i(!0),class:"btn btn-secondary flex items-center space-x-2",children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e("span",{children:"Add Node"})]})})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#10b981]/10",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Nodes"}),e("p",{class:"text-2xl font-bold text-gray-900 dark:text-white",children:"1"})]}),e("div",{class:"w-12 h-12 bg-[#10b981]/20 rounded-xl flex items-center justify-center",children:e("svg",{class:"w-6 h-6 text-[#10b981]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})})]})}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#9c40ff]/10",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Online"}),e("p",{class:"text-2xl font-bold text-gray-900 dark:text-white",children:"1"})]}),e("div",{class:"w-12 h-12 bg-[#9c40ff]/20 rounded-xl flex items-center justify-center",children:e("svg",{class:"w-6 h-6 text-[#9c40ff]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#ffaa40]/10",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"CPU Usage"}),e("p",{class:"text-2xl font-bold text-gray-900 dark:text-white",children:c?"...":l?`${l.resources.cpu.used}%`:"N/A"})]}),e("div",{class:"w-12 h-12 bg-[#ffaa40]/20 rounded-xl flex items-center justify-center",children:e("svg",{class:"w-6 h-6 text-[#ffaa40]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#e94057]/10",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Memory Usage"}),e("p",{class:"text-2xl font-bold text-gray-900 dark:text-white",children:c?"...":l?`${l.resources.memory.used.toFixed(1)}GB`:"N/A"})]}),e("div",{class:"w-12 h-12 bg-[#e94057]/20 rounded-xl flex items-center justify-center",children:e("svg",{class:"w-6 h-6 text-[#e94057]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})]})})]}),l?e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#8b008b]/10",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white",children:"Node Details"}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-2 h-2 bg-[#10b981] rounded-full animate-pulse"}),e("span",{class:"text-sm font-medium text-[#10b981]",children:"Online"})]})]}),e("div",{class:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e("div",{class:"space-y-6",children:e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e("svg",{class:"w-5 h-5 text-[#9c40ff] mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"System Information"]}),e("div",{class:"grid grid-cols-2 gap-4",children:[e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Node ID"}),e("p",{class:"text-sm font-mono text-gray-900 dark:text-white mt-1",children:l.id})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Role"}),e("p",{class:"text-sm font-semibold text-[#9c40ff] mt-1 capitalize",children:l.role})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Version"}),e("p",{class:"text-sm font-mono text-gray-900 dark:text-white mt-1",children:l.version})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Uptime"}),e("p",{class:"text-sm font-mono text-gray-900 dark:text-white mt-1",children:l.uptime})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Platform"}),e("p",{class:"text-sm font-mono text-gray-900 dark:text-white mt-1",children:[l.os,"/",l.arch," (",l.numCpu," cores)"]})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Docker"}),e("div",{class:"flex items-center mt-1",children:[e("div",{class:`w-2 h-2 rounded-full mr-2 ${l.dockerStatus==="connected"?"bg-[#10b981]":"bg-[#e94057]"}`}),e("p",{class:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:l.dockerStatus})]})]})]})]})}),e("div",{class:"space-y-6",children:e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e("svg",{class:"w-5 h-5 text-[#e94057] mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Resource Usage"]}),e("div",{class:"space-y-4",children:[e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"CPU"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:[l.resources.cpu.used,"%"]})]}),e("div",{class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e("div",{class:"bg-gradient-to-r from-[#ffaa40] to-[#e94057] h-2 rounded-full transition-all duration-300",style:`width: ${Math.min(l.resources.cpu.used,100)}%`})})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Memory"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:[l.resources.memory.used.toFixed(1)," / ",l.resources.memory.total.toFixed(1)," ",l.resources.memory.unit]})]}),e("div",{class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e("div",{class:"bg-gradient-to-r from-[#9c40ff] to-[#8b008b] h-2 rounded-full transition-all duration-300",style:`width: ${Math.min(l.resources.memory.usedPercent,100)}%`})})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Disk"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:[l.resources.disk.used.toFixed(0)," / ",l.resources.disk.total.toFixed(0)," ",l.resources.disk.unit]})]}),e("div",{class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:e("div",{class:"bg-gradient-to-r from-[#10b981] to-[#8b008b] h-2 rounded-full transition-all duration-300",style:`width: ${Math.min(l.resources.disk.usedPercent,100)}%`})})]}),e("div",{class:"grid grid-cols-2 gap-4",children:[e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Network RX"}),e("p",{class:"text-sm font-mono text-gray-900 dark:text-white mt-1",children:[l.resources.network.rx.toFixed(1)," ",l.resources.network.unit]})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("p",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Network TX"}),e("p",{class:"text-sm font-mono text-gray-900 dark:text-white mt-1",children:[l.resources.network.tx.toFixed(1)," ",l.resources.network.unit]})]})]})]})]})})]})]}):e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-8 text-center",children:[e("div",{class:"w-12 h-12 bg-gray-500/20 rounded-xl flex items-center justify-center mx-auto mb-4",children:e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Loading node information..."})]}),e("div",{class:"mt-8 bg-gradient-to-br from-[#9c40ff]/3 via-[#8b008b]/3 to-[#e94057]/3 rounded-2xl p-6 border border-[#9c40ff]/10",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-10 h-10 bg-gradient-to-br from-[#9c40ff] to-[#8b008b] rounded-lg flex items-center justify-center",children:e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),e("div",{children:[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"GLINR Dock Pro"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Scale beyond single-node limitations"})]})]}),e("div",{class:"flex items-center space-x-2 bg-gradient-to-r from-[#9c40ff] to-[#8b008b] px-2.5 py-1 rounded-lg",children:[e("svg",{class:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),e("span",{class:"text-xs font-medium text-white",children:"PRO"})]})]}),e("div",{class:"grid md:grid-cols-2 gap-6 mb-6",children:[e("div",{class:"space-y-4",children:[e("h3",{class:"text-base font-semibold text-gray-900 dark:text-white mb-3",children:"Advanced Capabilities"}),e("div",{class:"space-y-3",children:[{title:"Multi-Node Cluster",description:"Scale across unlimited nodes with automatic discovery"},{title:"Load Balancing",description:"Intelligent traffic distribution across cluster nodes"},{title:"High Availability",description:"Automatic failover and redundancy management"},{title:"Centralized Monitoring",description:"Real-time metrics across all cluster nodes"},{title:"Auto-Scaling",description:"Dynamic resource allocation based on demand"},{title:"Priority Support",description:"Dedicated support channel and faster response times"}].map((m,d)=>e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"w-5 h-5 bg-[#10b981] rounded-full flex items-center justify-center mt-0.5 flex-shrink-0",children:e("svg",{class:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e("div",{children:[e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:m.title}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:m.description})]})]},d))})]}),e("div",{class:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-4 border border-gray-200/50 dark:border-gray-600/50",children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3 flex items-center",children:[e("svg",{class:"w-4 h-4 text-[#9c40ff] mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Cluster Overview Preview"]}),e("div",{class:"space-y-2",children:[{name:"node-primary",status:"online",cpu:23,memory:67,role:"master"},{name:"node-worker-1",status:"online",cpu:45,memory:78,role:"worker"},{name:"node-worker-2",status:"online",cpu:12,memory:34,role:"worker"},{name:"node-worker-3",status:"degraded",cpu:89,memory:92,role:"worker"}].map((m,d)=>e("div",{class:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:`w-2 h-2 rounded-full ${m.status==="online"?"bg-[#10b981]":"bg-[#ffaa40]"}`}),e("div",{children:[e("p",{class:"text-xs font-mono text-gray-900 dark:text-white",children:m.name}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:m.role})]})]}),e("div",{class:"flex items-center space-x-2 text-xs",children:[e("div",{class:"flex items-center space-x-1",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"CPU:"}),e("span",{class:"font-mono text-gray-900 dark:text-white",children:[m.cpu,"%"]})]}),e("div",{class:"flex items-center space-x-1",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"MEM:"}),e("span",{class:"font-mono text-gray-900 dark:text-white",children:[m.memory,"%"]})]})]})]},d))}),e("div",{class:"mt-3 p-2 bg-gradient-to-r from-[#9c40ff]/10 to-[#8b008b]/10 rounded-lg border border-[#9c40ff]/20",children:e("p",{class:"text-xs text-center text-gray-600 dark:text-gray-400",children:"Manage dozens of nodes from a single dashboard"})})]})]}),e("div",{class:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 bg-gradient-to-r from-white/80 to-gray-50/80 dark:from-gray-800/80 dark:to-gray-700/80 rounded-xl border border-gray-200/50 dark:border-gray-600/50",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-10 h-10 bg-gradient-to-br from-[#ffaa40] to-[#e94057] rounded-lg flex items-center justify-center",children:e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e("div",{children:[e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Ready to Scale?"}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:"Upgrade to Pro Plan for multi-node orchestration"})]})]}),e("div",{class:"flex items-center space-x-3",children:[e("button",{class:"btn btn-secondary text-sm",children:[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Learn More"]}),e("button",{class:"btn btn-primary bg-gradient-to-r from-[#9c40ff] to-[#8b008b] border-none text-sm",children:[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Upgrade Now"]})]})]})]}),n&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-lg",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-10 h-10 bg-gradient-to-br from-[#9c40ff] to-[#8b008b] rounded-xl flex items-center justify-center",children:e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Pro Plan Feature"})]}),e("button",{onClick:()=>i(!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"text-center py-6",children:[e("div",{class:"w-20 h-20 bg-gradient-to-br from-[#9c40ff]/20 to-[#8b008b]/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e("svg",{class:"w-10 h-10 text-[#9c40ff]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),e("h4",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Multi-Node Orchestration"}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm mx-auto",children:"Add unlimited nodes, load balancing, and high availability with GLINR Dock Pro."}),e("div",{class:"flex flex-col sm:flex-row gap-3 justify-center",children:[e("button",{onClick:()=>i(!1),class:"btn btn-secondary",children:"Maybe Later"}),e("button",{class:"btn btn-primary bg-gradient-to-r from-[#9c40ff] to-[#8b008b] border-none",children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Upgrade to Pro Plan"]})]}),e("div",{class:"mt-4 p-3 bg-gradient-to-r from-[#10b981]/10 to-[#9c40ff]/10 rounded-lg border border-[#10b981]/20",children:e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:[e("strong",{children:"Coming Soon:"})," Pro Plan with advanced multi-node features"]})})]})]})})]})}function ia({label:t,current:r,limit:a,className:s=""}){const n=Jn(r,a),i=Il(r,a),o=Tt(r,a),l=Ir(a);let c="bg-blue-500";return o?c="bg-red-500":i&&(c="bg-yellow-500"),e("div",{className:`space-y-2 ${s}`,children:[e("div",{className:"flex justify-between items-center text-sm",children:[e("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:t}),e("span",{className:`text-sm ${o?"text-red-600 dark:text-red-400":i?"text-yellow-600 dark:text-yellow-400":"text-gray-600 dark:text-gray-400"}`,children:[r,"/",Tl(a)]})]}),!l&&e("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e("div",{className:`h-2 rounded-full transition-all duration-300 ${c}`,style:{width:`${n}%`}})}),l&&e("div",{className:"text-xs text-green-600 dark:text-green-400 font-medium",children:"Unlimited usage"}),o&&e("div",{className:"text-xs text-red-600 dark:text-red-400",children:"Quota limit reached"}),i&&!o&&e("div",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Approaching limit"})]})}function sd({plan:t,className:r="",size:a="sm"}){const{text:s,className:n}=Zn(t);return e("span",{className:`
      inline-flex items-center rounded-full font-medium
      ${{sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm"}[a]}
      ${n}
      ${r}
    `,children:s})}function ti({error:t,onClose:r}){const a=Zn(t.plan);return e("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:e("div",{class:"p-6",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Quota Exceeded"})]}),e("button",{onClick:r,class:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"mb-4",children:[e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Current Plan:"}),e("span",{class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.className}`,children:a.text})]}),e("div",{class:"mb-6",children:[e("p",{class:"text-gray-800 dark:text-gray-200 mb-2",children:t.message}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",children:["You've reached your limit of ",e("strong",{children:t.limit})," for your current plan."]})]}),e("div",{class:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e("h4",{class:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Upgrade Suggestion"}),e("p",{class:"text-sm text-blue-800 dark:text-blue-300",children:t.upgrade_hint})]}),e("div",{class:"flex justify-end space-x-3",children:[e("button",{onClick:r,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Close"}),e("a",{href:"/docs/PLANS.md",target:"_blank",rel:"noopener noreferrer",class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Learn More"})]})]})})})}function ri(t,r=300){const[a,s]=g(t),[n,i]=g(null);return K(()=>{if(t&&n===null)i(Date.now()),s(!0);else if(!t&&n!==null){const o=Date.now()-n,l=Math.max(0,r-o);setTimeout(()=>{s(!1),i(null)},l)}},[t,n,r]),a}function nd(){const[t,r]=g({show:!1,message:"",type:"info"}),[a,s]=g(!1),[n,i]=g(null),[o,l]=g(!1),[c,h]=g(null),[m,d]=g({name:"",plain:"",role:"viewer",kind:"pat"}),[u,p]=g(!1),[x,y]=g(null),[b,O]=g(!0);K(()=>((async()=>{try{await $l();const U=Al();U&&y(U)}catch(U){console.error("Failed to initialize plan:",U)}finally{O(!1)}})(),Yn(U=>{y(U)})),[]);const{data:_,loading:I,refetch:B}=be(async()=>{try{return await $.getTokens()}catch(S){return console.error("Failed to fetch tokens:",S),[]}}),L=_||[],w=(x==null?void 0:x.usage)||{tokens:0,clients:0},k=(x==null?void 0:x.limits)||{MaxTokens:3,MaxClients:2},R=ri(b||I,200),P=w.tokens,M=typeof k.MaxTokens=="string"?parseInt(k.MaxTokens):k.MaxTokens,C=(S,H="info")=>{r({show:!0,message:S,type:H})},T=async()=>{if(!m.name||!m.plain){C("Name and token are required","error");return}p(!0);try{await $.createToken({name:m.name,role:m.role,kind:m.kind}),C(`Token "${m.name}" created successfully`,"success"),s(!1),d({name:"",plain:"",role:"viewer",kind:"pat"}),B(),await vt()}catch(S){Dn(S)?(h(S),l(!0)):C(S.message||"Failed to create token","error")}finally{p(!1)}},D=async S=>{try{await $.deleteToken(S),C(`Token "${S}" deleted successfully`,"success"),i(null),B(),await vt()}catch(H){C(H.message||"Failed to delete token","error")}},v=()=>{const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let H="";for(let U=0;U<32;U++)H+=S.charAt(Math.floor(Math.random()*S.length));d(U=>({...U,plain:H}))},A=async S=>{try{await navigator.clipboard.writeText(S),C("Copied to clipboard","success")}catch{C("Failed to copy to clipboard","error")}},G=S=>{switch(S){case"admin":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";case"user":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300";case"viewer":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300";case"client":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300"}},f=()=>{if(!x)return"";switch(x.plan){case"FREE":return"Set GLINRDOCK_PLAN=PRO to increase limits";case"PRO":return"Set GLINRDOCK_PLAN=PREMIUM for unlimited resources";default:return"Contact support for assistance"}};return R?e("div",{class:"space-y-6 flex items-center justify-center min-h-96",children:e("div",{class:"text-center",children:[e("div",{class:"w-12 h-12 border-4 border-[#9c40ff] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Loading administration panel..."})]})}):e("div",{class:"space-y-4 fade-in pb-16",children:[e("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:e("div",{class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[e("div",{class:"flex items-center gap-3",children:[e("div",{class:"w-10 h-10 bg-gradient-to-br from-[#9c40ff] via-[#8b008b] to-[#e94057] rounded-lg flex items-center justify-center shadow-sm",children:e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5-6V5a2 2 0 00-2-2H6a2 2 0 00-2 2v5l3.5-3.5a1 1 0 011.414 0L15 10l4.5-4.5V5z"})})}),e("div",{children:[e("h1",{class:"text-xl font-bold mb-0.5",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] via-[#9c40ff] to-[#e94057] bg-clip-text text-transparent",children:"Administration"})}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Manage API tokens and role-based access control"}),x&&e("div",{class:"flex items-center gap-2 mt-1",children:[e(sd,{plan:x.plan,size:"sm"}),e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:[x.usage.tokens,"/",x.limits.MaxTokens," tokens • ",x.usage.clients,"/",x.limits.MaxClients," clients"]})]})]})]}),e("div",{class:"flex flex-col sm:flex-row gap-2",children:[e("button",{onClick:()=>s(!0),disabled:Tt(w.tokens,k.MaxTokens),class:`inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium text-white shadow-sm transition-colors ${Tt(w.tokens,k.MaxTokens)?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-[#9c40ff] to-[#8b008b] hover:from-[#8a2be2] hover:to-[#7a007a]"}`,title:Tt(w.tokens,k.MaxTokens)?`Token limit reached (${w.tokens}/${k.MaxTokens}) - ${f()}`:"Create new API token",children:[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Tt(w.tokens,k.MaxTokens)?"Limit Reached":"Create Token"]}),Tt(w.tokens,k.MaxTokens)&&e("button",{class:"inline-flex items-center px-3 py-2 bg-gradient-to-r from-green-500 to-blue-500 text-white text-sm font-medium rounded-lg shadow-sm hover:from-green-600 hover:to-blue-600 transition-colors",children:[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Upgrade Plan"]})]})]})}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[e("div",{class:"flex items-center gap-3 mb-3",children:[e("div",{class:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2m0 0V9a2 2 0 012-2m0 0V7a2 2 0 011-1.732c.445-.264.99-.398 1.548-.416C18.418 5.359 19 5.932 19 6.616V8"})})}),e("h3",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"API Tokens"})]}),e(ia,{label:"",current:w.tokens,limit:k.MaxTokens})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[e("div",{class:"flex items-center gap-3 mb-3",children:[e("div",{class:"w-8 h-8 bg-gradient-to-br from-green-500 to-teal-600 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e("h3",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Clients"})]}),e(ia,{label:"",current:w.clients,limit:k.MaxClients})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[e("div",{class:"flex items-center gap-3 mb-2",children:[e("div",{class:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e("h3",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]}),e("div",{class:"text-xl font-bold text-gray-900 dark:text-white mb-0.5",children:L.length}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:"Active Tokens"})]})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e("svg",{class:"w-5 h-5 text-[#9c40ff] mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5-6V5a2 2 0 00-2-2H6a2 2 0 00-2 2v5l3.5-3.5a1 1 0 011.414 0L15 10l4.5-4.5V5z"})}),"Role-Based Access Control"]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e("div",{class:"p-3 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/30 rounded-lg border border-red-200 dark:border-red-700/50 hover:shadow-sm transition-shadow",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-xs font-semibold text-red-900 dark:text-red-300",children:"Admin"}),e("span",{class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300",children:"Full"})]}),e("ul",{class:"space-y-0.5 text-xs text-red-700 dark:text-red-400",children:[e("li",{children:"• System access"}),e("li",{children:"• Token management"}),e("li",{children:"• Emergency controls"})]})]}),e("div",{class:"p-3 bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/30 rounded-lg border border-yellow-200 dark:border-yellow-700/50 hover:shadow-sm transition-shadow",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-xs font-semibold text-yellow-900 dark:text-yellow-300",children:"User"}),e("span",{class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300",children:"Deploy"})]}),e("ul",{class:"space-y-0.5 text-xs text-yellow-700 dark:text-yellow-400",children:[e("li",{children:"• Deploy services"}),e("li",{children:"• Manage projects"}),e("li",{children:"• Configure routes"})]})]}),e("div",{class:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/30 rounded-lg border border-blue-200 dark:border-blue-700/50 hover:shadow-sm transition-shadow",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-xs font-semibold text-blue-900 dark:text-blue-300",children:"Viewer"}),e("span",{class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:"Read"})]}),e("ul",{class:"space-y-0.5 text-xs text-blue-700 dark:text-blue-400",children:[e("li",{children:"• View services"}),e("li",{children:"• Read logs"}),e("li",{children:"• Monitor status"})]})]}),e("div",{class:"p-3 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/30 rounded-lg border border-purple-200 dark:border-purple-700/50 hover:shadow-sm transition-shadow",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-xs font-semibold text-purple-900 dark:text-purple-300",children:"Client"}),e("span",{class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300",children:"API"})]}),e("ul",{class:"space-y-0.5 text-xs text-purple-700 dark:text-purple-400",children:[e("li",{children:"• External access"}),e("li",{children:"• API integrations"}),e("li",{children:"• Higher limits"})]})]})]})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700",children:[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e("svg",{class:"w-5 h-5 text-[#8b008b] mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2m0 0V9a2 2 0 012-2m0 0V7a2 2 0 011-1.732c.445-.264.99-.398 1.548-.416C18.418 5.359 19 5.932 19 6.616V8"})}),"API Tokens"]}),L.length===0?e("div",{class:"text-center py-8",children:[e("svg",{class:"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2m0 0V9a2 2 0 012-2m0 0V7a2 2 0 011-1.732c.445-.264.99-.398 1.548-.416C18.418 5.359 19 5.932 19 6.616V8"})}),e("h3",{class:"text-base font-semibold text-gray-900 dark:text-white mb-2",children:"No API Tokens"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Create your first API token to get started"}),e("button",{onClick:()=>s(!0),class:"px-4 py-2 bg-gradient-to-r from-[#9c40ff] to-[#8b008b] text-white text-sm font-medium rounded-lg",children:"Create Token"})]}):e("div",{class:"space-y-3",children:L.map(S=>e("div",{class:"group relative bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md hover:border-[#9c40ff]/30 dark:hover:border-[#9c40ff]/50 transition-all duration-200",children:[e("div",{class:"flex items-start justify-between mb-3",children:[e("div",{class:"flex items-center gap-3",children:[e("div",{class:"relative",children:[e("div",{class:"w-10 h-10 bg-gradient-to-br from-[#9c40ff] via-[#8b008b] to-[#e94057] rounded-lg flex items-center justify-center shadow-sm",children:e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2m0 0V9a2 2 0 012-2m0 0V7a2 2 0 011-1.732c.445-.264.99-.398 1.548-.416C18.418 5.359 19 5.932 19 6.616V8"})})}),e("div",{class:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-800"})]}),e("div",{children:[e("h3",{class:"text-base font-semibold text-gray-900 dark:text-white",children:S.name}),e("div",{class:"flex items-center gap-2 mt-0.5",children:[e("span",{class:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${G(S.role)}`,children:S.role.toUpperCase()}),e("span",{class:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:["ID: ",S.id]})]})]})]}),e("div",{class:"flex items-center",children:e("button",{onClick:()=>i(S.name),class:"opacity-0 group-hover:opacity-100 p-2 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all duration-200",title:"Delete token","aria-label":`Delete token ${S.name}`,children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),e("div",{class:"grid grid-cols-1 sm:grid-cols-2 gap-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[e("div",{class:"flex items-center gap-2",children:[e("div",{class:"w-6 h-6 bg-blue-100 dark:bg-blue-900/30 rounded flex items-center justify-center",children:e("svg",{class:"w-3 h-3 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e("div",{children:[e("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Created"}),e("p",{class:"text-sm font-medium text-gray-900 dark:text-white",children:new Date(S.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),e("div",{class:"flex items-center gap-2",children:[e("div",{class:"w-6 h-6 bg-green-100 dark:bg-green-900/30 rounded flex items-center justify-center",children:e("svg",{class:"w-3 h-3 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e("div",{children:[e("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Last Used"}),e("p",{class:"text-sm font-medium text-gray-900 dark:text-white",children:S.last_used_at?new Date(S.last_used_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Never"})]})]})]}),e("div",{class:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center gap-1.5",children:[e("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e("span",{class:"text-xs font-medium text-green-600 dark:text-green-400",children:"Active"})]}),e("button",{onClick:()=>A(`Token: ${S.name} (ID: ${S.id})`),class:"inline-flex items-center px-2 py-1 text-xs font-medium text-[#9c40ff] bg-[#9c40ff]/10 rounded hover:bg-[#9c40ff]/20 transition-colors",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})]})})]},S.id))})]}),a&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-4 w-full max-w-lg",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("h3",{class:"text-base font-semibold text-gray-900 dark:text-white",children:"Create API Token"}),e("button",{onClick:()=>s(!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"space-y-3",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Token Name"}),e("input",{type:"text",value:m.name,onChange:S=>d(H=>({...H,name:S.target.value})),placeholder:"e.g., production-api, mobile-app",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),e("select",{value:m.role,onChange:S=>d(H=>({...H,role:S.target.value})),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent",children:[e("option",{value:"viewer",children:"Viewer - Read only access"}),e("option",{value:"user",children:"User - Deploy and manage services"}),e("option",{value:"admin",children:"Admin - Full system access"}),e("option",{value:"client",children:"Client - External app integration"})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Token Value"}),e("div",{class:"flex gap-2",children:[e("input",{type:"text",value:m.plain,onChange:S=>d(H=>({...H,plain:S.target.value})),placeholder:"Enter token or generate random",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent"}),e("button",{onClick:v,class:"px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"Generate random token",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})]}),e("div",{class:"flex gap-2 mt-4",children:[e("button",{onClick:()=>s(!1),class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e("button",{onClick:T,disabled:u,class:"flex-1 bg-[#9c40ff] hover:bg-[#8b008b] text-white font-medium py-2 px-3 rounded-lg text-sm transition-colors disabled:opacity-50",children:u?"Creating...":"Create Token"})]})]})}),n&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-4 w-full max-w-lg",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("h3",{class:"text-base font-semibold text-red-600 dark:text-red-400",children:"Delete Token"}),e("button",{onClick:()=>i(null),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"mb-4",children:[e("p",{class:"text-gray-600 dark:text-gray-400 mb-3 text-sm",children:["Are you sure you want to delete the token ",e("strong",{children:['"',n,'"']}),"?"]}),e("div",{class:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:e("p",{class:"text-xs text-red-700 dark:text-red-300",children:[e("strong",{children:"Warning:"})," This action cannot be undone. Any services using this token will lose access immediately."]})})]}),e("div",{class:"flex gap-2",children:[e("button",{onClick:()=>i(null),class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e("button",{onClick:()=>{n&&D(n)},class:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-3 rounded-lg text-sm transition-colors",children:"Delete Token"})]})]})}),o&&c&&e(ti,{error:c,onClose:()=>{l(!1),h(null)}}),(x==null?void 0:x.plan)==="FREE"&&e("div",{class:"relative mt-8 bg-gradient-to-r from-indigo-500 via-purple-600 to-pink-600 rounded-lg p-6 shadow-lg overflow-hidden",children:[e("div",{class:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent"}),e("div",{class:"absolute top-0 right-0 w-24 h-24 bg-white/5 rounded-full -translate-y-12 translate-x-12"}),e("div",{class:"absolute bottom-0 left-0 w-20 h-20 bg-white/5 rounded-full translate-y-10 -translate-x-10"}),e("div",{class:"relative z-10",children:e("div",{class:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[e("div",{class:"flex-1",children:[e("div",{class:"flex items-center gap-2 mb-3",children:[e("div",{class:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center backdrop-blur-sm",children:e("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e("h3",{class:"text-lg font-bold text-white",children:"Upgrade to Pro Plan"})]}),e("p",{class:"text-white/90 text-sm mb-4",children:"Unlock advanced features and remove limits. Perfect for growing teams and production environments."}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-2 mb-4",children:[e("div",{class:"flex items-center gap-2 text-white/90",children:[e("svg",{class:"w-4 h-4 text-green-300 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e("span",{class:"text-sm",children:"Unlimited API tokens"})]}),e("div",{class:"flex items-center gap-2 text-white/90",children:[e("svg",{class:"w-4 h-4 text-green-300 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e("span",{class:"text-sm",children:"Advanced dashboards"})]}),e("div",{class:"flex items-center gap-2 text-white/90",children:[e("svg",{class:"w-4 h-4 text-green-300 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e("span",{class:"text-sm",children:"CI/CD integrations"})]}),e("div",{class:"flex items-center gap-2 text-white/90",children:[e("svg",{class:"w-4 h-4 text-green-300 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e("span",{class:"text-sm",children:"SMTP alerts & notifications"})]}),e("div",{class:"flex items-center gap-2 text-white/90",children:[e("svg",{class:"w-4 h-4 text-green-300 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e("span",{class:"text-sm",children:"Multi-environment support"})]}),e("div",{class:"flex items-center gap-2 text-white/90",children:[e("svg",{class:"w-4 h-4 text-green-300 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e("span",{class:"text-sm",children:"Audit logs & compliance"})]})]})]}),e("div",{class:"flex flex-col sm:flex-row gap-3 lg:flex-col lg:items-end",children:[e("div",{class:"bg-white/10 backdrop-blur-sm rounded-lg p-4 text-center lg:mb-3",children:[e("div",{class:"text-2xl font-bold text-white mb-0.5",children:[P,"/",M]}),e("div",{class:"text-white/70 text-xs",children:"Tokens Used"})]}),e("div",{class:"flex flex-col gap-2",children:[e("button",{class:"inline-flex items-center px-6 py-3 bg-white text-purple-600 font-semibold rounded-lg shadow-lg hover:bg-gray-50 hover:scale-105 transition-all duration-200 group",children:[e("svg",{class:"w-4 h-4 mr-2 group-hover:rotate-12 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Upgrade Now"]}),e("p",{class:"text-white/60 text-xs text-center lg:text-right",children:"Set GLINRDOCK_PLAN=PRO"})]})]})]})})]}),e(rt,{message:t.message,type:t.type,isVisible:t.show,onClose:()=>r({...t,show:!1})})]})}function id(){const[t,r]=g({show:!1,message:"",type:"info"}),[a,s]=g([]),[n,i]=g(!0),[o,l]=g(!1),[c,h]=g({name:"",ip:""}),[m,d]=g(!1),[u,p]=g(null),[x,y]=g(!1),[b,O]=g(null);K(()=>((async()=>{try{const[P]=await Promise.all([$.getClients(),vt()]);s(P)}catch(P){console.error("Failed to fetch data:",P),I("Failed to fetch data","error")}finally{i(!1)}})(),Yn(P=>{p(P)})),[]);const _=async()=>{try{i(!0);const k=await $.getClients();s(k)}catch(k){console.error("Failed to fetch clients:",k),I("Failed to fetch clients","error")}finally{i(!1)}},I=(k,R="info")=>{r({show:!0,message:k,type:R})},B=async()=>{if(!c.name){I("Client name is required","error");return}d(!0);try{await $.touchClient({name:c.name,ip:c.ip||void 0}),I(`Client "${c.name}" registered successfully`,"success"),l(!1),h({name:"",ip:""}),_(),await vt()}catch(k){Dn(k)?(O(k),y(!0)):I(k.message||"Failed to register client","error")}finally{d(!1)}},L=k=>{switch(k.toLowerCase()){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300";case"inactive":return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300";case"error":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300";default:return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}};return ri(n,200)?e("div",{class:"space-y-6 flex items-center justify-center min-h-96",children:e("div",{class:"text-center",children:[e("div",{class:"w-12 h-12 border-4 border-[#9c40ff] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Loading clients..."})]})}):e("div",{class:"space-y-6 fade-in",children:[e(rt,{isVisible:t.show,message:t.message,type:t.type,onClose:()=>r(k=>({...k,show:!1}))}),e("div",{class:"flex justify-between items-center",children:[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Clients"}),e("button",{onClick:()=>l(!0),class:"px-4 py-2 bg-[#9c40ff] hover:bg-[#8a2be2] text-white font-medium rounded-lg transition-colors",children:"Register Client"})]}),u&&e("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3",children:e(ia,{label:"Connected Clients",current:u.usage.clients,limit:u.limits.MaxClients})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[e("div",{class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:e("h2",{class:"text-base font-semibold text-gray-900 dark:text-gray-100",children:["Registered Clients (",a.length,")"]})}),e("div",{class:"overflow-x-auto",children:e("table",{class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e("thead",{class:"bg-gray-50 dark:bg-gray-800",children:e("tr",{children:[e("th",{class:"px-4 py-2.5 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),e("th",{class:"px-4 py-2.5 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e("th",{class:"px-4 py-2.5 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last IP"}),e("th",{class:"px-4 py-2.5 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Seen"}),e("th",{class:"px-4 py-2.5 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Requests"})]})}),e("tbody",{class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.length===0?e("tr",{children:e("td",{colSpan:5,class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:e("div",{class:"flex flex-col items-center",children:[e("div",{class:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-2",children:e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e("p",{class:"text-base font-medium mb-1",children:"No clients registered"}),e("p",{class:"text-sm text-gray-400 dark:text-gray-500 mb-3",children:"Register your first client to start monitoring connections"}),e("button",{onClick:()=>l(!0),class:"px-3 py-1.5 bg-[#9c40ff] hover:bg-[#8a2be2] text-white text-sm font-medium rounded-lg transition-colors",children:"Register Client"})]})})}):a.map(k=>e("tr",{children:[e("td",{class:"px-6 py-4 whitespace-nowrap",children:e("div",{class:"font-medium text-gray-900 dark:text-gray-100",children:k.name})}),e("td",{class:"px-6 py-4 whitespace-nowrap",children:e("span",{class:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${L(k.status)}`,children:k.status})}),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:k.last_ip||"-"}),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:k.last_seen?new Date(k.last_seen).toLocaleString():"Never"}),e("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:k.requests||0})]},k.name))})]})})]}),o&&e("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4",children:e("div",{class:"p-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Register New Client"}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Name"}),e("input",{type:"text",value:c.name,onChange:k=>h(R=>({...R,name:k.target.value})),placeholder:"e.g., web-app-prod",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-[#9c40ff] dark:bg-gray-700 dark:text-gray-100",required:!0})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"IP Address (Optional)"}),e("input",{type:"text",value:c.ip,onChange:k=>h(R=>({...R,ip:k.target.value})),placeholder:"e.g., 192.168.1.100",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-[#9c40ff] dark:bg-gray-700 dark:text-gray-100"})]})]}),e("div",{class:"flex justify-end space-x-3 mt-6",children:[e("button",{onClick:()=>{l(!1),h({name:"",ip:""})},class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",disabled:m,children:"Cancel"}),e("button",{onClick:B,disabled:m||!c.name,class:"px-4 py-2 bg-[#9c40ff] hover:bg-[#8a2be2] text-white font-medium rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Registering...":"Register Client"})]})]})})}),x&&b&&e(ti,{error:b,onClose:()=>{y(!1),O(null)}})]})}function od(){const[t,r]=g("repository"),[a,s]=g(!1),[n,i]=g(null),[o,l]=g(null),{data:c}=be(()=>$.getAuthInfo()),h=c?Ar(c.role):!1,{data:m}=be(()=>$.getProjects()),{data:d}=be(()=>$.get("/v1/github/repositories").catch(()=>({repositories:[]}))),[u,p]=g(()=>({repository:{source:"manual",gitUrl:"",branch:"main",dockerfile:"Dockerfile",context:".",buildArgs:{}},service:{projectId:"",projectName:"",serviceName:"",envVars:{SPRING_PROFILES_ACTIVE:"prod",SERVER_PORT:"8080",JAVA_TOOL_OPTIONS:"-Xms256m -Xmx512m"},internalPort:8080,healthPath:"/actuator/health"},route:{enabled:!1,domain:"",path:"/"},build:void 0,deployment:void 0,routeCreated:!1}));if(K(()=>{var M,C,T,D,v;if(u.repository.gitUrl){const A=((v=(D=(T=(C=(M=u.repository.gitUrl.split("/").pop())==null?void 0:M.replace(/\.git$/,""))==null?void 0:C.toLowerCase())==null?void 0:T.replace(/[^a-z0-9]/g,"-"))==null?void 0:D.replace(/-+/g,"-"))==null?void 0:v.replace(/^-|-$/g,""))||"";A&&!u.service.serviceName&&p(G=>({...G,service:{...G.service,serviceName:A}}))}},[u.repository.gitUrl]),c&&!h)return e("div",{class:"p-6 max-w-4xl mx-auto",children:e("div",{class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:e("div",{class:"flex items-center",children:[e(we,{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-2"}),e("div",{children:[e("h3",{class:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Insufficient Permissions"}),e("p",{class:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"You need deployer or admin permissions to use the Spring Boot quickstart wizard."})]})]})})});const x=[{key:"repository",title:"Repository",icon:vr},{key:"service",title:"Service",icon:tt},{key:"route",title:"Route",icon:Nt},{key:"review",title:"Launch",icon:jt}],y=x.findIndex(M=>M.key===t),b=()=>{switch(t){case"repository":return u.repository.source==="github_app"?u.repository.repositoryId&&u.repository.branch:u.repository.gitUrl&&u.repository.branch;case"service":return u.service.projectId&&u.service.serviceName;case"route":return!0;case"review":return!0;default:return!1}},O=()=>{y<x.length-1&&r(x[y+1].key)},_=()=>{y>0&&r(x[y-1].key)},I=(M,C="info")=>{l({message:M,type:C}),setTimeout(()=>l(null),5e3)},B=async(M,C)=>{try{await navigator.clipboard.writeText(M),I(`${C} copied to clipboard`,"success")}catch{I(`Failed to copy ${C}`,"error")}},L=async()=>{if(!a){s(!0),i(null);try{const C=(await $.post("/v1/builds",{repo_url:u.repository.gitUrl,branch:u.repository.branch,dockerfile:u.repository.dockerfile,context:u.repository.context,build_args:u.repository.buildArgs})).id;p(T=>({...T,build:{id:C,status:"pending"}})),I("Build started successfully","info"),await w(C)}catch(M){console.error("Build failed:",M),i(`Build failed: ${M.message||"Unknown error"}`),p(C=>({...C,build:{id:"",status:"failed",error:M.message||"Build failed"}}))}finally{s(!1)}}},w=async M=>{let T=0;const D=async()=>{try{const v=await $.get(`/v1/builds/${M}`);if(p(A=>({...A,build:{id:M,status:v.status,logs:v.logs_tail?v.logs_tail.split(`
`):[],image:v.image_name,error:v.error}})),v.status==="success"&&v.image_name)I("Build completed successfully","success"),await k(v.image_name);else{if(v.status==="failed")throw new Error(v.error||"Build failed");if(v.status==="running"||v.status==="pending")if(T++,T<60)setTimeout(()=>D(),5e3);else throw new Error("Build timeout after 5 minutes")}}catch(v){console.error("Build polling error:",v),i(`Build failed: ${v.message}`),p(A=>({...A,build:{id:M,status:"failed",error:v.message}}))}};await D()},k=async M=>{try{const C={name:u.service.serviceName,image:M,env:u.service.envVars,ports:[{container:u.service.internalPort,host:0}],health_path:u.service.healthPath},D=(await $.post(`/v1/projects/${u.service.projectId}/services`,C)).id,v=await $.post("/v1/deployments",{service_id:D.toString()});p(A=>({...A,deployment:{id:v.id,status:"pending"}})),I("Deployment started","info"),await R(v.id,D)}catch(C){console.error("Deployment failed:",C),i(`Deployment failed: ${C.message}`),p(T=>({...T,deployment:{id:"",status:"failed",error:C.message}}))}},R=async(M,C)=>{setTimeout(async()=>{try{p(T=>({...T,deployment:{id:M,status:"success"}})),I("Service deployed successfully","success"),u.route.enabled?await P(C):I("Spring Boot quickstart completed successfully!","success")}catch(T){console.error("Deployment polling error:",T),p(D=>({...D,deployment:{id:M,status:"failed",error:T.message}}))}},3e3)},P=async M=>{try{await $.post("/v1/routes",{service_id:M,domain:u.route.domain,path:u.route.path,port:u.service.internalPort}),await $.post("/v1/system/nginx/reload"),p(C=>({...C,routeCreated:!0})),I("Route created and nginx reloaded","success"),I("Spring Boot quickstart completed successfully!","success")}catch(C){console.error("Route creation failed:",C),I(`Route creation failed: ${C.message}`,"error")}};return e("div",{class:"space-y-6 fade-in",children:[e("div",{children:[e("div",{class:"flex items-center mb-4",children:[e("button",{onClick:()=>{window.history.pushState({},"","/app"),window.dispatchEvent(new PopStateEvent("popstate"))},class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors mr-3",children:e(ws,{class:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e("h1",{class:"text-3xl font-bold mb-2",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] via-[#9c40ff] to-[#e94057] bg-clip-text text-transparent",children:"Spring Boot Quickstart"})})]}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Deploy a Spring Boot application from Git repository to production in minutes"})]}),e("div",{class:"mb-8",children:e("div",{class:"flex items-center justify-between",children:x.map((M,C)=>{var G,f;const T=M.icon,D=t===M.key,v=C<y||M.key==="review"&&(((G=u.build)==null?void 0:G.status)==="success"||((f=u.deployment)==null?void 0:f.status)==="success"),A=C>y+1;return e("div",{class:"flex items-center",children:[e("div",{class:"flex flex-col items-center",children:[e("div",{class:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors ${v?"bg-green-500 border-green-500 text-white":D?"bg-blue-500 border-blue-500 text-white":A?"border-gray-300 text-gray-400 dark:border-gray-600 dark:text-gray-500":"border-gray-300 text-gray-600 dark:border-gray-600 dark:text-gray-400 hover:border-blue-500 cursor-pointer"}`,onClick:()=>{!A&&C<=y+1&&r(M.key)},children:v?e($n,{class:"w-5 h-5"}):e(T,{class:"w-5 h-5"})}),e("span",{class:`mt-2 text-sm font-medium ${D?"text-blue-600 dark:text-blue-400":v?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"}`,children:M.title})]}),C<x.length-1&&e("div",{class:`flex-1 h-px mx-4 ${C<y?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`})]},M.key)})})}),n&&e("div",{class:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e("div",{class:"flex items-center",children:[e(we,{class:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),e("div",{class:"flex-1",children:[e("h3",{class:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),e("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1",children:n})]}),e("button",{onClick:()=>i(null),class:"text-red-400 hover:text-red-600",children:"×"})]})}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#9c40ff]/10",children:[t==="repository"&&e(ld,{data:u.repository,githubRepos:(d==null?void 0:d.repositories)||[],onChange:M=>p(C=>({...C,repository:M}))}),t==="service"&&e(dd,{data:u.service,projects:m||[],onChange:M=>p(C=>({...C,service:M}))}),t==="route"&&e(cd,{data:u.route,onChange:M=>p(C=>({...C,route:M}))}),t==="review"&&e(hd,{wizardState:u,isLaunching:a,onLaunch:L,onCopy:B})]}),t!=="review"&&e("div",{class:"flex justify-between",children:[e("button",{onClick:_,disabled:y===0,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center",children:[e(ws,{class:"w-4 h-4 mr-2"}),"Previous"]}),e("button",{onClick:O,disabled:!b(),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center",children:["Next",e(cr,{class:"w-4 h-4 ml-2"})]})]}),o&&e(rt,{message:o.message,type:o.type,onClose:()=>l(null)})]})}function ld({data:t,githubRepos:r,onChange:a}){const[s,n]=g(""),[i,o]=g(""),l=()=>{s.trim()&&i.trim()&&(a({...t,buildArgs:{...t.buildArgs,[s.trim()]:i.trim()}}),n(""),o(""))},c=u=>{const p={...t.buildArgs};delete p[u],a({...t,buildArgs:p})},h=u=>/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(u)&&(u.includes("github.com")||u.includes("gitlab.com")||u.includes(".git")),m=u=>{a({...t,repositoryId:u.repository_id,repoFullName:u.full_name,gitUrl:u.clone_url,branch:u.default_branch||"main",defaultBranch:u.default_branch})},d=u=>{a(u==="manual"?{...t,source:u,repositoryId:void 0,repoFullName:void 0,defaultBranch:void 0,gitUrl:"",branch:"main"}:{...t,source:u,gitUrl:"",branch:"main"})};return e("div",{class:"space-y-6",children:[e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e(vr,{class:"w-5 h-5 mr-2 text-blue-600 dark:text-blue-400"}),"Repository Configuration"]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Choose a repository source and configure build settings for your Spring Boot application."})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Repository Source"}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{onClick:()=>d("github_app"),class:`cursor-pointer p-4 border-2 rounded-lg transition-colors ${t.source==="github_app"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-300"}`,children:[e("div",{class:"flex items-center mb-2",children:[e("div",{class:`w-4 h-4 rounded-full border-2 mr-3 ${t.source==="github_app"?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:t.source==="github_app"&&e("div",{class:"w-full h-full bg-white rounded-full transform scale-50"})}),e("h4",{class:"font-medium text-gray-900 dark:text-white",children:"GitHub App Repository"})]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 ml-7",children:"Select from configured GitHub App repositories with automatic webhook setup"})]}),e("div",{onClick:()=>d("manual"),class:`cursor-pointer p-4 border-2 rounded-lg transition-colors ${t.source==="manual"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-blue-300"}`,children:[e("div",{class:"flex items-center mb-2",children:[e("div",{class:`w-4 h-4 rounded-full border-2 mr-3 ${t.source==="manual"?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:t.source==="manual"&&e("div",{class:"w-full h-full bg-white rounded-full transform scale-50"})}),e("h4",{class:"font-medium text-gray-900 dark:text-white",children:"Manual Git URL"})]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 ml-7",children:"Manually enter any Git repository URL (GitHub, GitLab, etc.)"})]})]})]}),t.source==="github_app"&&e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Select Repository ",e("span",{class:"text-red-500",children:"*"})]}),r.length===0?e("div",{class:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:e("p",{class:"text-sm text-amber-700 dark:text-amber-300",children:"No GitHub repositories available. Make sure to configure the GitHub App in Settings and sync your installations."})}):e("div",{class:"max-h-64 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg",children:r.map(u=>e("div",{onClick:()=>m(u),class:`cursor-pointer p-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors ${t.repositoryId===u.repository_id?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":""}`,children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("h4",{class:"font-medium text-gray-900 dark:text-white",children:u.full_name}),e("div",{class:"flex items-center space-x-3 mt-1",children:[e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:["Default: ",u.default_branch]}),u.private&&e("span",{class:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 rounded",children:"Private"}),u.is_activated&&e("span",{class:"inline-flex items-center px-2 py-0.5 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded",children:"Activated"})]})]}),t.repositoryId===u.repository_id&&e($n,{class:"w-5 h-5 text-blue-500"})]})},u.repository_id))})]}),t.repoFullName&&e("div",{class:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:e("p",{class:"text-sm text-green-700 dark:text-green-300",children:["Selected: ",e("code",{class:"font-mono",children:t.repoFullName})]})})]}),t.source==="manual"&&e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Repository URL ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"url",value:t.gitUrl,onChange:u=>a({...t,gitUrl:u.target.value}),placeholder:"https://github.com/username/spring-boot-app.git",class:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t.gitUrl&&!h(t.gitUrl)?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"}`}),t.gitUrl&&!h(t.gitUrl)&&e("p",{class:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Please enter a valid Git repository URL"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Branch ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",value:t.branch,onChange:u=>a({...t,branch:u.target.value}),placeholder:"main",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(t.source==="manual"||t.repositoryId)&&e(ae,{children:[e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.source==="github_app"&&t.repositoryId&&e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Branch ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",value:t.branch,onChange:u=>a({...t,branch:u.target.value}),placeholder:t.defaultBranch||"main",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Default: ",t.defaultBranch||"main"]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dockerfile Path"}),e("input",{type:"text",value:t.dockerfile,onChange:u=>a({...t,dockerfile:u.target.value}),placeholder:"Dockerfile",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Path to Dockerfile relative to repository root"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Build Context"}),e("input",{type:"text",value:t.context,onChange:u=>a({...t,context:u.target.value}),placeholder:".",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Build context directory relative to repository root"})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Build Arguments"}),e("div",{class:"space-y-3",children:[e("div",{class:"flex gap-2",children:[e("input",{type:"text",value:s,onChange:u=>n(u.target.value),placeholder:"KEY",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("input",{type:"text",value:i,onChange:u=>o(u.target.value),placeholder:"VALUE",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("button",{onClick:l,disabled:!s.trim()||!i.trim(),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:"Add"})]}),Object.entries(t.buildArgs).length>0&&e("div",{class:"space-y-2",children:Object.entries(t.buildArgs).map(([u,p])=>e("div",{class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e("div",{class:"flex-1",children:e("code",{class:"text-sm",children:[e("span",{class:"text-blue-600 dark:text-blue-400",children:u}),e("span",{class:"text-gray-500 dark:text-gray-400",children:"="}),e("span",{class:"text-green-600 dark:text-green-400",children:p})]})}),e("button",{onClick:()=>c(u),class:"p-1 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"Remove build argument",children:"×"})]},u))}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Build arguments passed to Docker during build (--build-arg KEY=VALUE)"})]})]})]})]})}function dd({data:t,projects:r,onChange:a}){const[s,n]=g(""),[i,o]=g(""),l=()=>{s.trim()&&i.trim()&&(a({...t,envVars:{...t.envVars,[s.trim()]:i.trim()}}),n(""),o(""))},c=d=>{const u={...t.envVars};delete u[d],a({...t,envVars:u})},h=(d,u)=>{a({...t,envVars:{...t.envVars,[d]:u}})},m=d=>{const u=/^[a-z0-9]([a-z0-9-]*[a-z0-9])?$/;return d.length>=2&&d.length<=63&&u.test(d)};return e("div",{class:"space-y-6",children:[e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e(tt,{class:"w-5 h-5 mr-2 text-green-600 dark:text-green-400"}),"Service Configuration"]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Configure your Spring Boot service deployment settings and environment variables."})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Project ",e("span",{class:"text-red-500",children:"*"})]}),e("select",{value:t.projectId,onChange:d=>{const u=r.find(p=>p.id.toString()===d.target.value);a({...t,projectId:d.target.value,projectName:(u==null?void 0:u.name)||""})},class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"",children:"Select a project"}),r.map(d=>e("option",{value:d.id,children:d.name},d.id))]}),r.length===0&&e("p",{class:"text-sm text-amber-600 dark:text-amber-400 mt-1",children:"No projects available. Create a project first."})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Service Name ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",value:t.serviceName,onChange:d=>a({...t,serviceName:d.target.value}),placeholder:"my-spring-app",class:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t.serviceName&&!m(t.serviceName)?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"}`}),t.serviceName&&!m(t.serviceName)&&e("p",{class:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Service name must be 2-63 characters, lowercase, alphanumeric with hyphens"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Auto-generated from repository name, but can be customized"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Internal Port ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"number",value:t.internalPort,onChange:d=>a({...t,internalPort:parseInt(d.target.value)||8080}),min:"1",max:"65535",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Port your Spring Boot application listens on inside the container"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Health Check Path"}),e("input",{type:"text",value:t.healthPath,onChange:d=>a({...t,healthPath:d.target.value}),placeholder:"/actuator/health",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Spring Boot Actuator health endpoint for health checks"})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Environment Variables"}),e("div",{class:"space-y-3",children:[e("div",{class:"space-y-2",children:[e("h4",{class:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Spring Boot Configuration"}),Object.entries(t.envVars).map(([d,u])=>{const p=["SPRING_PROFILES_ACTIVE","SERVER_PORT","JAVA_TOOL_OPTIONS"].includes(d);return e("div",{class:"flex items-center gap-2",children:[e("div",{class:"flex-1 grid grid-cols-2 gap-2",children:[e("input",{type:"text",value:d,readOnly:p,class:`px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p?"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750 text-gray-600 dark:text-gray-400":"border-gray-300 dark:border-gray-600"}`}),e("input",{type:"text",value:u,onChange:x=>h(d,x.target.value),class:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),!p&&e("button",{onClick:()=>c(d),class:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"Remove environment variable",children:"×"})]},d)})]}),e("div",{children:[e("h4",{class:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Add Custom Variable"}),e("div",{class:"flex gap-2",children:[e("input",{type:"text",value:s,onChange:d=>n(d.target.value),placeholder:"VARIABLE_NAME",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("input",{type:"text",value:i,onChange:d=>o(d.target.value),placeholder:"value",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e("button",{onClick:l,disabled:!s.trim()||!i.trim()||s.trim()in t.envVars,class:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors",children:"Add"})]}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Add custom environment variables for your Spring Boot application"})]})]})]})]})}function cd({data:t,onChange:r}){const a=n=>n?/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/.test(n)&&n.length<=255:!1,s=n=>n.startsWith("/")&&/^\/[a-zA-Z0-9\-._~!$&'()*+,;=:@/]*$/.test(n);return e("div",{class:"space-y-6",children:[e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e(Nt,{class:"w-5 h-5 mr-2 text-purple-600 dark:text-purple-400"}),"Route Configuration"]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-6",children:"Optionally create an external route to make your Spring Boot application accessible from the internet."})]}),e("div",{class:"flex items-center",children:[e("input",{type:"checkbox",id:"enable-route",checked:t.enabled,onChange:n=>r({...t,enabled:n.target.checked}),class:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e("label",{htmlFor:"enable-route",class:"ml-2 text-sm font-medium text-gray-900 dark:text-white",children:"Create external route for this service"})]}),t.enabled&&e("div",{class:"space-y-4 p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Domain ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",value:t.domain,onChange:n=>r({...t,domain:n.target.value}),placeholder:"api.example.com",class:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent ${t.domain&&!a(t.domain)?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"}`}),t.domain&&!a(t.domain)&&e("p",{class:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Please enter a valid domain name"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"The domain where your application will be accessible"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Path"}),e("input",{type:"text",value:t.path,onChange:n=>r({...t,path:n.target.value}),placeholder:"/",class:`w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent ${t.path&&!s(t.path)?"border-red-300 dark:border-red-600":"border-gray-300 dark:border-gray-600"}`}),t.path&&!s(t.path)&&e("p",{class:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Path must start with / and contain only valid URL characters"}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"URL path prefix for your application (default: /)"})]})]}),t.domain&&t.path&&a(t.domain)&&s(t.path)&&e("div",{class:"mt-4 p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Preview URL"}),e("div",{class:"flex items-center",children:[e("code",{class:"flex-1 text-sm font-mono text-purple-600 dark:text-purple-400 bg-gray-50 dark:bg-gray-900 px-3 py-2 rounded border",children:["https://",t.domain,t.path==="/"?"":t.path]}),e(Er,{class:"w-4 h-4 ml-2 text-gray-400"})]})]}),e("div",{class:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:e("div",{class:"flex items-start",children:[e(we,{class:"w-4 h-4 text-amber-600 dark:text-amber-400 mr-2 mt-0.5"}),e("div",{class:"text-xs text-amber-700 dark:text-amber-300",children:[e("strong",{children:"Admin Notice:"})," Creating a route will automatically reload the nginx configuration. This may cause a brief interruption to existing routes."]})]})})]}),!t.enabled&&e("div",{class:"text-center py-8",children:[e(Nt,{class:"w-16 h-16 mx-auto text-gray-300 dark:text-gray-600 mb-4"}),e("h4",{class:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2",children:"No External Route"}),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Your Spring Boot application will be accessible within the project network only. You can create routes later from the service detail page."})]})]})}function hd({wizardState:t,isLaunching:r,onLaunch:a,onCopy:s}){const{repository:n,service:i,route:o,build:l,deployment:c}=t;return e("div",{class:"space-y-6",children:[e("div",{children:[e("h3",{class:"text-lg font-semibold mb-4",children:"Review Configuration"}),e("div",{class:"space-y-4",children:[e("div",{class:"border border-gray-200 rounded-lg p-4",children:[e("h4",{class:"font-medium text-sm text-gray-700 mb-2",children:"Repository"}),e("div",{class:"grid grid-cols-2 gap-4 text-sm",children:[e("div",{children:[e("span",{class:"text-gray-600",children:"Git URL:"}),e("div",{class:"font-mono bg-gray-50 p-2 rounded mt-1",children:[n.gitUrl,e("button",{onClick:()=>s(n.gitUrl,"Git URL"),class:"ml-2 text-blue-600 hover:text-blue-800",children:"📋"})]})]}),e("div",{children:[e("span",{class:"text-gray-600",children:"Branch:"}),e("div",{class:"font-mono bg-gray-50 p-2 rounded mt-1",children:n.branch})]}),n.dockerfile&&e("div",{children:[e("span",{class:"text-gray-600",children:"Dockerfile:"}),e("div",{class:"font-mono bg-gray-50 p-2 rounded mt-1",children:n.dockerfile})]}),n.context&&e("div",{children:[e("span",{class:"text-gray-600",children:"Context:"}),e("div",{class:"font-mono bg-gray-50 p-2 rounded mt-1",children:n.context})]})]}),Object.keys(n.buildArgs).length>0&&e("div",{class:"mt-3",children:[e("span",{class:"text-gray-600 text-sm",children:"Build Arguments:"}),e("div",{class:"bg-gray-50 p-2 rounded mt-1 space-y-1",children:Object.entries(n.buildArgs).map(([h,m])=>e("div",{class:"font-mono text-sm",children:[h,"=",m]},h))})]})]}),e("div",{class:"border border-gray-200 rounded-lg p-4",children:[e("h4",{class:"font-medium text-sm text-gray-700 mb-2",children:"Service"}),e("div",{class:"grid grid-cols-2 gap-4 text-sm",children:[e("div",{children:[e("span",{class:"text-gray-600",children:"Project:"}),e("div",{class:"font-medium mt-1",children:i.projectName})]}),e("div",{children:[e("span",{class:"text-gray-600",children:"Service Name:"}),e("div",{class:"font-medium mt-1",children:i.serviceName})]}),e("div",{children:[e("span",{class:"text-gray-600",children:"Health Path:"}),e("div",{class:"font-mono bg-gray-50 p-2 rounded mt-1",children:i.healthPath})]})]}),Object.keys(i.envVars).length>0&&e("div",{class:"mt-3",children:[e("span",{class:"text-gray-600 text-sm",children:"Environment Variables:"}),e("div",{class:"bg-gray-50 p-2 rounded mt-1 space-y-1",children:Object.entries(i.envVars).map(([h,m])=>e("div",{class:"font-mono text-sm",children:[h,"=",m]},h))})]})]}),o.enabled&&e("div",{class:"border border-gray-200 rounded-lg p-4",children:[e("h4",{class:"font-medium text-sm text-gray-700 mb-2",children:"Route"}),e("div",{class:"grid grid-cols-2 gap-4 text-sm",children:[e("div",{children:[e("span",{class:"text-gray-600",children:"Domain:"}),e("div",{class:"font-mono bg-gray-50 p-2 rounded mt-1",children:o.domain})]}),e("div",{children:[e("span",{class:"text-gray-600",children:"Path:"}),e("div",{class:"font-mono bg-gray-50 p-2 rounded mt-1",children:o.path})]})]}),e("div",{class:"mt-3",children:[e("span",{class:"text-gray-600 text-sm",children:"Preview URL:"}),e("div",{class:"font-mono bg-blue-50 p-2 rounded mt-1 text-blue-800",children:["https://",o.domain,o.path,e("button",{onClick:()=>s(`https://${o.domain}${o.path}`,"Route URL"),class:"ml-2 text-blue-600 hover:text-blue-800",children:"📋"})]})]})]})]})]}),l&&e("div",{class:"border border-gray-200 rounded-lg p-4",children:[e("h4",{class:"font-medium text-sm text-gray-700 mb-2",children:"Build Status"}),e("div",{class:"flex items-center space-x-2 mb-2",children:[e("div",{class:`w-3 h-3 rounded-full ${l.status==="running"?"bg-yellow-500 animate-pulse":l.status==="success"?"bg-green-500":l.status==="failed"?"bg-red-500":"bg-gray-400"}`}),e("span",{class:"text-sm font-medium capitalize",children:l.status})]}),l.logs&&l.logs.length>0&&e("div",{class:"bg-black text-green-400 p-3 rounded font-mono text-xs max-h-32 overflow-y-auto",children:l.logs.map((h,m)=>e("div",{children:h},m))})]}),c&&e("div",{class:"border border-gray-200 rounded-lg p-4",children:[e("h4",{class:"font-medium text-sm text-gray-700 mb-2",children:"Deployment Status"}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:`w-3 h-3 rounded-full ${c.status==="running"?"bg-yellow-500 animate-pulse":c.status==="success"?"bg-green-500":c.status==="failed"?"bg-red-500":"bg-gray-400"}`}),e("span",{class:"text-sm font-medium capitalize",children:c.status})]}),c.id&&e("div",{class:"mt-2 text-sm text-gray-600",children:["Deployment ID: ",c.id]})]}),!l&&e("div",{class:"flex justify-center pt-4",children:e("button",{onClick:a,disabled:r,class:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r?e(ae,{children:[e("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e("span",{children:"Launching..."})]}):e(ae,{children:[e("span",{children:"🚀"}),e("span",{children:"Launch Spring Boot Service"})]})})}),(l==null?void 0:l.status)==="success"&&(c==null?void 0:c.status)==="success"&&e("div",{class:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[e("div",{class:"text-green-600 text-lg mb-2",children:"🎉 Successfully Deployed!"}),e("div",{class:"text-sm text-green-700 mb-3",children:"Your Spring Boot service is now running and ready to serve requests."}),o.enabled&&t.routeCreated&&e("div",{class:"text-sm",children:[e("span",{class:"text-green-700",children:"Access your service at: "}),e("a",{href:`https://${o.domain}${o.path}`,target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:text-blue-800 font-mono",children:["https://",o.domain,o.path]})]})]})]})}function ud(){var X,ue,Y;const[t,r]=g({show:!1,message:"",type:"info"}),[a,s]=g(!1),[n,i]=g(!1),[o,l]=g(!1),[c,h]=g(!1),[m,d]=g(""),[u,p]=g(!1),[x,y]=g(!1),[b,O]=g(!1),[_,I]=g(!1),[B,L]=g(!1),[w,k]=g(!1),[R,P]=g(null),[M,C]=g(!1),[T,D]=g(!1),{data:v}=be(()=>$.getSystemInfo()),{data:A,refetch:G}=be(()=>$.getSystemStatus()),{data:f,refetch:S}=be(()=>$.getLicense()),H=(re,de="info")=>{r({show:!0,message:re,type:de})},U=re=>{if(!re)return"Unknown";const de=re.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+(?:\.\d+)?)s)?/);if(!de)return re;const[,ie,ne,pe]=de,me=[];return ie&&parseInt(ie)>0&&me.push(`${ie}h`),ne&&parseInt(ne)>0&&me.push(`${ne}m`),pe&&!ie&&!ne&&me.push(`${Math.floor(parseFloat(pe))}s`),me.join(" ")||"0s"},j=()=>{var ne;if(!((ne=A==null?void 0:A.last_restart)!=null&&ne.timestamp))return!1;const re=new Date(A.last_restart.timestamp);return(new Date().getTime()-re.getTime())/(1e3*60)<60},V=()=>{$.clearToken(),window.location.reload()},oe=async()=>{try{await $.emergencyRestart(),H(`Emergency restart initiated at ${new Date().toLocaleTimeString()} - system restarting now!`,"success"),l(!1),setTimeout(()=>{G()},2e3)}catch(re){H(re.message||"Failed to initiate emergency restart","error")}},fe=async()=>{if(!m.trim()){H("Please enter a license","error");return}p(!0);try{await $.activateLicense(m.trim()),H("License activated successfully","success"),h(!1),d(""),S()}catch(re){H(re.message||"Failed to activate license","error")}finally{p(!1)}},Ie=async()=>{y(!0);try{await $.deactivateLicense(),H("License deactivated successfully","success"),S()}catch(re){H(re.message||"Failed to deactivate license","error")}finally{y(!1)}},Te=re=>{var pe;const ie=(pe=re.target.files)==null?void 0:pe[0];if(!ie)return;if(ie.size>64*1024){H("License file too large (max 64KB)","error");return}const ne=new FileReader;ne.onload=me=>{var E;const he=(E=me.target)==null?void 0:E.result;d(he)},ne.onerror=()=>{H("Failed to read license file","error")},ne.readAsText(ie)},Qe=async()=>{k(!0);try{const re=await $.createBackup(),de=window.URL.createObjectURL(re),ie=document.createElement("a");ie.style.display="none",ie.href=de,ie.download=`glinrdock-backup-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.tar.gz`,document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(de),document.body.removeChild(ie),H("Backup created and downloaded successfully","success"),I(!1)}catch(re){H(re.message||"Failed to create backup","error")}finally{k(!1)}},Ye=re=>{if(!re.name.toLowerCase().match(/\.(tar\.gz|tgz)$/))return H("Please select a valid backup file (.tar.gz or .tgz)","error"),!1;const de=500*1024*1024;return re.size>de?(H(`Backup file too large (max ${de/(1024*1024)}MB)`,"error"),!1):re.size<1024?(H("Backup file appears to be invalid (too small). Minimum size: 1KB","error"),!1):!0},$e=re=>{var ne;const ie=(ne=re.target.files)==null?void 0:ne[0];ie&&Ye(ie)&&(P(ie),H(`Backup file selected: ${ie.name}`,"info"))},_e=re=>{var ne;re.preventDefault(),D(!1);const de=(ne=re.dataTransfer)==null?void 0:ne.files;if(!de||de.length===0)return;const ie=de[0];Ye(ie)&&(P(ie),H(`Backup file selected: ${ie.name}`,"info"))},Be=re=>{re.preventDefault(),D(!0)},De=re=>{re.preventDefault(),D(!1)},J=async()=>{if(R){C(!0);try{await $.restoreBackup(R),H("Backup restore initiated successfully. System will restart shortly.","success"),L(!1),P(null),setTimeout(()=>{window.location.reload()},3e3)}catch(re){H(re.message||"Failed to restore backup","error")}finally{C(!1)}}},N=async()=>{try{await $.systemLockdown("Manual lockdown initiated from Settings page");const re={isLocked:!0,timestamp:new Date().toISOString(),reason:"Manual lockdown initiated from Settings page"};O(!0),window.dispatchEvent(new CustomEvent("lockdown-status-changed",{detail:re})),H("System locked down - only admin access permitted","success"),i(!1)}catch(re){H(re.message||"Failed to initiate system lockdown","error")}},W=async()=>{try{await $.liftLockdown(),O(!1),window.dispatchEvent(new CustomEvent("lockdown-status-changed",{detail:{isLocked:!1}})),H("System lockdown has been lifted","success")}catch(re){H(re.message||"Failed to lift system lockdown","error")}};return K(()=>{(async()=>{try{const ie=await $.getLockdownStatus();O(ie.is_locked)}catch(ie){console.error("Failed to check lockdown status:",ie),O(!1)}})();const de=ie=>{O(ie.detail.isLocked)};return window.addEventListener("lockdown-status-changed",de),()=>{window.removeEventListener("lockdown-status-changed",de)}},[]),e("div",{class:"space-y-6 fade-in",children:[e("div",{children:[e("h1",{class:"text-3xl font-bold mb-2",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] via-[#9c40ff] to-[#e94057] bg-clip-text text-transparent",children:"Settings"})}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"System configuration and emergency controls"})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#10b981]/10",children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e("svg",{class:"w-6 h-6 text-[#10b981] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),"System Status"]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Docker Engine"}),e("div",{class:"flex items-center",children:[e("div",{class:`w-2 h-2 rounded-full mr-2 ${(v==null?void 0:v.docker_status)==="connected"?"bg-[#10b981]":"bg-[#e94057]"}`}),e("span",{class:"text-xs font-medium text-gray-900 dark:text-white capitalize",children:(v==null?void 0:v.docker_status)||"Unknown"})]})]}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:"Container orchestration engine"})]}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"System Info"}),e("span",{class:"text-xs font-mono text-gray-900 dark:text-white",children:[(v==null?void 0:v.os)||"Unknown","/",(v==null?void 0:v.arch)||"Unknown"]})]}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:["Runtime: v",((X=v==null?void 0:v.go_version)==null?void 0:X.replace(/^go/,""))||"Unknown"]})]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#e94057]/10",children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e("svg",{class:"w-6 h-6 text-[#e94057] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Emergency Controls"]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{class:`p-4 rounded-xl border ${b?"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800/30":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800/30"}`,children:[e("h3",{class:`text-sm font-semibold mb-2 ${b?"text-orange-900 dark:text-orange-300":"text-red-900 dark:text-red-300"}`,children:b?"System Lockdown Active":"System Lockdown"}),e("p",{class:`text-xs mb-4 ${b?"text-orange-700 dark:text-orange-400":"text-red-700 dark:text-red-400"}`,children:b?"System is currently in lockdown mode. Only admin access is permitted.":"Immediately restrict access to admin-only operations. Use during security incidents."}),b?e("button",{onClick:W,class:"w-full bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),"Lift Lockdown"]}):e("button",{onClick:()=>i(!0),class:"w-full bg-red-500 hover:bg-red-600 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Initiate Lockdown"]})]}),e("div",{class:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-200 dark:border-orange-800/30",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("h3",{class:"text-sm font-semibold text-orange-900 dark:text-orange-300",children:"Emergency Restart"}),j()&&e("div",{class:"flex items-center text-xs text-orange-600 dark:text-orange-400",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Last: ",U(A.last_restart.time_ago)," ago"]})]}),e("p",{class:"text-xs text-orange-700 dark:text-orange-400 mb-3",children:"Force restart all services. Will cause brief downtime but may resolve critical issues."}),j()&&e("div",{class:"mb-3 p-3 bg-green-100 dark:bg-green-900/30 rounded-lg border border-green-200 dark:border-green-800/30",children:e("div",{class:"flex items-center text-xs text-green-800 dark:text-green-300",children:[e("svg",{class:"w-4 h-4 mr-2 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{children:[e("div",{class:"font-semibold",children:"Last successful restart"}),e("div",{class:"font-mono text-xs mt-1",children:new Date(A.last_restart.timestamp).toLocaleString()}),e("div",{class:"text-xs opacity-75 mt-1",children:["System has been running for ",U(A.last_restart.time_ago)]})]})]})}),e("button",{onClick:()=>l(!0),class:"w-full bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Emergency Restart"]})]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#9c40ff]/10",children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e("svg",{class:"w-6 h-6 text-[#9c40ff] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2m0 0V9a2 2 0 012-2m0 0V7a2 2 0 011-1.732c.445-.264.99-.398 1.548-.416C18.418 5.359 19 5.932 19 6.616V8M15 7a2 2 0 00-2 2m0 0a2 2 0 00-2 2 2 2 0 002 2 2 2 0 002-2m0 0V9a2 2 0 00-2-2m0 0V7a2 2 0 00-1-1.732c-.445-.264-.99-.398-1.548-.416C10.582 5.359 10 5.932 10 6.616V8"})}),"Authentication & Access"]}),e("div",{class:"space-y-4",children:e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Current Session"}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:"Authenticated via API token"})]}),e("div",{class:"flex space-x-2",children:[e("button",{onClick:()=>s(!0),class:"btn btn-secondary text-sm",children:[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2m0 0V9a2 2 0 012-2m0 0V7a2 2 0 011-1.732c.445-.264.99-.398 1.548-.416C18.418 5.359 19 5.932 19 6.616V8M15 7a2 2 0 00-2 2m0 0a2 2 0 00-2 2 2 2 0 002 2 2 2 0 002-2m0 0V9a2 2 0 00-2-2m0 0V7a2 2 0 00-1-1.732c-.445-.264-.99-.398-1.548-.416C10.582 5.359 10 5.932 10 6.616V8"})}),"Manage Tokens"]}),e("button",{onClick:V,class:"btn btn-danger text-sm",children:[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})})})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#9c40ff]/10",children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e("svg",{class:"w-6 h-6 text-[#9c40ff] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"License & Plan"]}),e("div",{class:"space-y-4",children:[e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("div",{class:"flex items-center justify-between mb-3",children:[e("div",{children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:"Current License"}),e("div",{class:"flex items-center gap-2",children:[f!=null&&f.valid?e("span",{class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:"✓ Valid"}):e("span",{class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-300",children:"No License"}),e("span",{class:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${(f==null?void 0:f.plan)==="FREE"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":(f==null?void 0:f.plan)==="PRO"?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"}`,children:(f==null?void 0:f.plan)||"FREE"})]})]}),e("div",{class:"flex space-x-2",children:[e("button",{onClick:()=>h(!0),class:"px-3 py-2 bg-[#9c40ff] hover:bg-[#8b008b] text-white text-sm font-medium rounded-lg transition-colors",children:f!=null&&f.valid?"Update License":"Activate License"}),(f==null?void 0:f.valid)&&e("button",{onClick:Ie,disabled:x,class:"px-3 py-2 border border-red-300 dark:border-red-600 text-red-600 dark:text-red-400 text-sm font-medium rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors disabled:opacity-50",children:x?"Deactivating...":"Deactivate"})]})]}),(f==null?void 0:f.valid)&&f.name&&e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:[e("div",{children:[e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Licensed To"}),e("p",{class:"text-sm font-medium text-gray-900 dark:text-white",children:f.name})]}),f.org&&e("div",{children:[e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Organization"}),e("p",{class:"text-sm font-medium text-gray-900 dark:text-white",children:f.org})]}),f.expiry&&e("div",{children:[e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Expires"}),e("p",{class:`text-sm font-medium ${f.expiring_soon?"text-amber-600 dark:text-amber-400":"text-gray-900 dark:text-white"}`,children:[new Date(f.expiry).toLocaleDateString(),f.expiring_soon&&" (Soon)"]})]})]})]}),f&&e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Plan Limits"}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(f.limits).map(([re,de])=>{const ie=f.usage[re.toLowerCase()]||0,ne=de===-1,pe=ne?0:Math.min(ie/de*100,100);return e("div",{class:"space-y-1",children:[e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:re.replace("Max","").replace(/([A-Z])/g," $1").trim()}),e("span",{class:"text-xs text-gray-700 dark:text-gray-300",children:[ie,"/",ne?"∞":de]})]}),!ne&&e("div",{class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e("div",{class:`h-1.5 rounded-full transition-all ${pe>=90?"bg-red-500":pe>=70?"bg-amber-500":"bg-green-500"}`,style:{width:`${pe}%`}})})]},re)})})]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#10b981]/10",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e("svg",{class:"w-6 h-6 text-[#10b981] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Backup & Restore"]}),e("div",{class:"flex items-center space-x-2",children:e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300 border border-orange-200 dark:border-orange-800",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"BETA"]})})]}),e("div",{class:"mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e("div",{class:"flex items-start space-x-3",children:[e("svg",{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{class:"text-sm",children:[e("p",{class:"font-medium text-yellow-800 dark:text-yellow-300 mb-2",children:"Beta Feature - Use with Caution"}),e("ul",{class:"text-yellow-700 dark:text-yellow-400 space-y-1 text-xs",children:[e("li",{children:"• Backup & restore functionality is still in development"}),e("li",{children:"• May not capture all system data correctly"}),e("li",{children:"• Restore process might not fully restore system state"}),e("li",{children:"• Recommended for testing and development environments only"}),e("li",{children:"• Create external backups for production systems"})]})]})]})}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800/30",children:[e("h3",{class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"Create Backup"}),e("p",{class:"text-xs text-blue-700 dark:text-blue-400 mb-4",children:"Download a complete system backup including database, certificates, and configuration files."}),e("button",{onClick:()=>I(!0),class:"w-full bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Create Backup"]})]}),e("div",{class:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800/30",children:[e("h3",{class:"text-sm font-semibold text-green-900 dark:text-green-300 mb-2",children:"Restore from Backup"}),e("p",{class:"text-xs text-green-700 dark:text-green-400 mb-4",children:"Restore your system from a previous backup. This will overwrite current data and restart services."}),e("button",{onClick:()=>L(!0),class:"w-full bg-green-500 hover:bg-green-600 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Restore Backup"]})]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#ffaa40]/10",children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e("svg",{class:"w-6 h-6 text-[#ffaa40] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"System Configuration"]}),e("div",{class:"space-y-4",children:[e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Auto-refresh Dashboard"}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:"Automatically refresh metrics every 30 seconds"})]}),e("label",{class:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",class:"sr-only peer",defaultChecked:!0}),e("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[#9c40ff] rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#9c40ff]"})]})]})}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Log Retention"}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:"Keep container logs for debugging"})]}),e("select",{class:"bg-gray-100 dark:bg-gray-600 text-gray-900 dark:text-white text-sm rounded-lg px-3 py-2 border-none focus:ring-2 focus:ring-[#9c40ff]",children:[e("option",{value:"7",children:"7 days"}),e("option",{value:"14",selected:!0,children:"14 days"}),e("option",{value:"30",children:"30 days"}),e("option",{value:"90",children:"90 days"})]})]})}),e("div",{class:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white",children:"Resource Monitoring"}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:"Enable detailed resource tracking"})]}),e("label",{class:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",class:"sr-only peer",defaultChecked:!0}),e("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-[#9c40ff] rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#9c40ff]"})]})]})})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl p-6 shadow-lg shadow-[#8b008b]/10",children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center",children:[e("svg",{class:"w-6 h-6 text-[#8b008b] mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Information"]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e("div",{class:"space-y-3",children:[e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"UI Version"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:"GLINR Dock UI-Lite v1.0.0"})]}),e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Bundle Size"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:"~25KB gzipped"})]}),e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"License"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:"MIT"})]}),e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Build Type"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:"Lightweight PaaS"})]})]}),e("div",{class:"space-y-3",children:[e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Backend Version"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:((ue=v==null?void 0:v.go_version)==null?void 0:ue.replace(/^go/,"Go "))||"Unknown"})]}),e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Platform"}),e("span",{class:"text-sm font-mono text-gray-900 dark:text-white",children:v?`${v.os}/${v.arch}`:"Unknown"})]}),e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Docker Status"}),e("span",{class:`text-sm font-mono ${(v==null?void 0:v.docker_status)==="connected"?"text-[#10b981]":"text-[#e94057]"}`,children:((Y=v==null?void 0:v.docker_status)==null?void 0:Y.toUpperCase())||"UNKNOWN"})]}),e("div",{class:"flex justify-between items-center",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Support Logs"}),e("a",{href:"/app/logs",class:"text-sm font-mono text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:underline transition-colors",children:"View System Logs"})]})]})]}),e("div",{class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:e("div",{class:"flex flex-wrap gap-2",children:[e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#10b981]/20 text-[#10b981]",children:"Container Orchestration"}),e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#9c40ff]/20 text-[#9c40ff]",children:"Docker Integration"}),e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#e94057]/20 text-[#e94057]",children:"Load Balancing"}),e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[#ffaa40]/20 text-[#ffaa40]",children:"Real-time Metrics"})]})})]}),a&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-lg",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Pro Plan Feature"}),e("button",{onClick:()=>s(!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"text-center py-6",children:[e("div",{class:"w-16 h-16 bg-[#9c40ff]/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e("svg",{class:"w-8 h-8 text-[#9c40ff]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m0 0a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2m0 0V9a2 2 0 012-2m0 0V7a2 2 0 011-1.732c.445-.264.99-.398 1.548-.416C18.418 5.359 19 5.932 19 6.616V8"})})}),e("h4",{class:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Advanced Token Management"}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6",children:"Create and manage multiple API tokens with role-based access control in GLINR Dock Pro."}),e("button",{onClick:()=>s(!1),class:"btn btn-secondary mr-3",children:"Maybe Later"}),e("button",{class:"btn btn-primary bg-gradient-to-r from-[#9c40ff] to-[#8b008b] border-none",children:"Upgrade to Pro Plan"})]})]})}),n&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-lg",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold text-red-600 dark:text-red-400 flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Lockdown"]}),e("button",{onClick:()=>i(!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"mb-6",children:[e("p",{class:"text-gray-600 dark:text-gray-400 mb-4",children:"This will immediately restrict access to admin-only operations. Regular users will lose access until lockdown is lifted."}),e("div",{class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg flex items-start space-x-3",children:[e("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("p",{class:"text-sm text-red-700 dark:text-red-300",children:[e("strong",{children:"Warning:"})," This action cannot be undone from the UI. You'll need admin token access to restore normal operations."]})]})]}),e("div",{class:"flex space-x-3",children:[e("button",{onClick:()=>i(!1),class:"flex-1 btn btn-secondary",children:"Cancel"}),e("button",{onClick:N,class:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Confirm Lockdown"})]})]})}),o&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-lg",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold text-orange-600 dark:text-orange-400 flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Emergency Restart"]}),e("button",{onClick:()=>l(!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"mb-6",children:[e("p",{class:"text-gray-600 dark:text-gray-400 mb-4",children:"This will force restart all system services. The platform will be unavailable for 30-60 seconds."}),j()&&e("div",{class:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800/30",children:e("div",{class:"flex items-center text-sm text-blue-700 dark:text-blue-300",children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{children:[e("div",{class:"font-medium",children:["Last restart: ",U(A.last_restart.time_ago)," ago"]}),e("div",{class:"text-xs font-mono opacity-75 mt-1",children:new Date(A.last_restart.timestamp).toLocaleString()})]})]})}),e("div",{class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg flex items-start space-x-3",children:[e("svg",{class:"w-5 h-5 text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{class:"text-sm text-orange-700 dark:text-orange-300",children:[e("p",{class:"font-medium mb-1",children:"Impact:"}),e("ul",{class:"text-xs space-y-1",children:[e("li",{children:"• All active connections will be dropped"}),e("li",{children:"• Running containers will be restarted"}),e("li",{children:"• Service discovery will be refreshed"}),e("li",{children:"• System metrics will reset"})]})]})]})]}),e("div",{class:"flex space-x-3",children:[e("button",{onClick:()=>l(!1),class:"flex-1 btn btn-secondary",children:"Cancel"}),e("button",{onClick:oe,class:"flex-1 bg-orange-500 hover:bg-orange-600 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Restart Now"})]})]})}),_&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-lg",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold text-blue-600 dark:text-blue-400 flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Create System Backup"]}),e("div",{class:"flex items-center space-x-2",children:[e("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300",children:"BETA"}),e("button",{onClick:()=>I(!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e("div",{class:"mb-6",children:[e("p",{class:"text-gray-600 dark:text-gray-400 mb-4",children:"This will create a complete system backup containing:"}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e("div",{class:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:[e("div",{class:"flex items-center mb-2",children:[e("svg",{class:"w-4 h-4 text-blue-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.79 4 8.5 4s8.5-1.79 8.5-4V7c0-2.21-3.79-4-8.5-4S4 4.79 4 7z"})}),e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 text-sm",children:"Core Data"})]}),e("ul",{class:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[e("li",{children:"• SQLite database (projects, services, routes)"}),e("li",{children:"• User accounts and tokens"}),e("li",{children:"• System configuration"})]})]}),e("div",{class:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-lg",children:[e("div",{class:"flex items-center mb-2",children:[e("svg",{class:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 text-sm",children:"Security & Config"})]}),e("ul",{class:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[e("li",{children:"• SSL certificates and private keys"}),e("li",{children:"• Nginx proxy configuration"}),e("li",{children:"• Environment settings"})]})]})]}),e("div",{class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg flex items-start space-x-3 mb-4",children:[e("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{class:"text-sm text-green-700 dark:text-green-300",children:[e("div",{class:"flex items-center mb-1",children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),e("p",{class:"font-medium",children:"Enhanced Backup Features:"})]}),e("ul",{class:"text-xs space-y-1",children:[e("li",{children:"• Compressed .tar.gz archive format"}),e("li",{children:"• Manifest.json with backup metadata"}),e("li",{children:"• System info and creation timestamp"}),e("li",{children:"• Validation-ready for restore process"})]})]})]}),e("div",{class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg flex items-start space-x-3",children:[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("p",{class:"text-sm text-blue-700 dark:text-blue-300",children:[e("strong",{children:"Download:"})," The backup will be automatically downloaded to your browser's download folder with timestamp."]})]})]}),e("div",{class:"flex space-x-3",children:[e("button",{onClick:()=>I(!1),class:"flex-1 btn btn-secondary",children:"Cancel"}),e("button",{onClick:Qe,disabled:w,class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:w?"Creating Backup...":"Create & Download"})]})]})}),B&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-2xl",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold text-green-600 dark:text-green-400 flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Restore from Backup"]}),e("div",{class:"flex items-center space-x-2",children:[e("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300",children:"BETA"}),e("button",{onClick:()=>{L(!1),P(null),D(!1)},class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e("div",{class:"mb-6",children:[e("div",{class:"mb-6",children:e("div",{onDrop:_e,onDragOver:Be,onDragLeave:De,class:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 ${T?"border-green-500 bg-green-50 dark:bg-green-900/20":R?"border-green-300 bg-green-50 dark:bg-green-900/10":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50"}`,children:[R?e("div",{class:"space-y-3",children:[e("div",{class:"flex items-center justify-center",children:e("svg",{class:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e("div",{children:[e("p",{class:"text-lg font-semibold text-green-600 dark:text-green-400",children:R.name}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",children:["Size: ",(R.size/(1024*1024)).toFixed(1)," MB"]}),e("p",{class:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["Type: ",R.type||"application/gzip"]})]}),e("button",{onClick:()=>P(null),class:"text-red-600 dark:text-red-400 text-sm hover:text-red-700 dark:hover:text-red-300",children:"Remove file"})]}):e("div",{class:"space-y-4",children:[e("div",{class:"flex items-center justify-center",children:e("svg",{class:`w-16 h-16 ${T?"text-green-500":"text-gray-400 dark:text-gray-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e("div",{class:"space-y-2",children:[e("p",{class:`text-lg font-medium ${T?"text-green-600 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:T?"Drop backup file here":"Drag & drop backup file here"}),e("p",{class:"text-sm text-gray-500 dark:text-gray-400",children:"or click to browse files"}),e("p",{class:"text-xs text-gray-400 dark:text-gray-500",children:"Supports: .tar.gz, .tgz (1KB - 500MB)"})]})]}),e("input",{type:"file",accept:".tar.gz,.tgz",onChange:$e,class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]})}),e("div",{class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4",children:e("div",{class:"flex items-start space-x-3",children:[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{class:"text-sm text-blue-700 dark:text-blue-300",children:[e("div",{class:"flex items-center mb-2",children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e("p",{class:"font-medium",children:"Backup File Validation:"})]}),e("ul",{class:"text-xs space-y-1",children:[e("li",{children:["• ",e("strong",{children:"Format:"})," .tar.gz or .tgz compressed archive"]}),e("li",{children:["• ",e("strong",{children:"Size:"})," Between 1KB and 500MB"]}),e("li",{children:["• ",e("strong",{children:"Structure:"})," Must contain manifest.json with metadata"]}),e("li",{children:["• ",e("strong",{children:"Contents:"})," Database (db.sqlite), certificates, nginx config"]}),e("li",{children:["• ",e("strong",{children:"Origin:"})," Created by GLINRDOCK backup system"]}),e("li",{children:["• ",e("strong",{children:"Validation:"})," Archive integrity and version compatibility checked"]})]})]})]})}),e("div",{class:"bg-orange-50 dark:bg-orange-900/20 p-4 rounded-lg",children:e("div",{class:"flex items-start space-x-3",children:[e("svg",{class:"w-5 h-5 text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{class:"text-sm text-orange-700 dark:text-orange-300",children:[e("div",{class:"flex items-center mb-2",children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("p",{class:"font-medium",children:"Warning: This will overwrite all current data"})]}),e("ul",{class:"text-xs space-y-1",children:[e("li",{children:"• All current projects, services, and configuration will be replaced"}),e("li",{children:"• System will restart automatically during restore"}),e("li",{children:"• Process cannot be undone once started"}),e("li",{children:"• Expected downtime: 30-60 seconds"})]})]})]})})]}),e("div",{class:"flex space-x-3",children:[e("button",{onClick:()=>{L(!1),P(null),D(!1)},class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e("button",{onClick:J,disabled:!R||M,class:"flex-1 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:M?e("span",{class:"flex items-center justify-center",children:[e("svg",{class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Restoring System..."]}):"Restore System"})]})]})}),c&&e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Activate License"}),e("button",{onClick:()=>h(!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"License Content"}),e("textarea",{value:m,onChange:re=>d(re.target.value),placeholder:"Paste your license content here...",class:"w-full h-48 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm font-mono resize-none focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent"})]}),e("div",{class:"flex items-center gap-4",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Or"}),e("label",{class:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e("span",{class:"text-sm text-gray-700 dark:text-gray-300",children:"Upload .license file"}),e("input",{type:"file",accept:".license,.json,.txt",onChange:Te,class:"hidden"})]})]})]}),e("div",{class:"flex gap-3 mt-6",children:[e("button",{onClick:()=>h(!1),class:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e("button",{onClick:fe,disabled:u||!m.trim(),class:"flex-1 bg-[#9c40ff] hover:bg-[#8b008b] text-white font-medium py-2 px-4 rounded-lg text-sm transition-colors disabled:opacity-50",children:u?"Activating...":"Activate License"})]})]})}),e(rt,{message:t.message,type:t.type,isVisible:t.show,onClose:()=>r({...t,show:!1})})]})}function gd(){const[t,r]=g({show:!1,message:"",type:"info"}),[a,s]=g(!1),n=Pa(),[i,o]=g("off"),[l,c]=g(""),[h,m]=g(""),[d,u]=g(!1),[p,x]=g(""),[y,b]=g(""),[O,_]=g(!1),[I,B]=g(""),[L,w]=g(!1),[k,R]=g(""),{data:P,refetch:M}=be(()=>$.get("/settings/integrations")),C=(A,G="info")=>{r({show:!0,message:A,type:G})};return K(()=>{P&&(P.github_oauth&&(o(P.github_oauth.mode||"off"),c(P.github_oauth.client_id||""),u(P.github_oauth.has_client_secret||!1)),P.github_app&&(x(P.github_app.app_id||""),_(P.github_app.has_private_key||!1),w(P.github_app.has_webhook_secret||!1)))},[P]),K(()=>{p&&n&&$.get("/settings/github/install-url").then(A=>{A.install_url&&R(A.install_url)}).catch(()=>{})},[p,n]),e("div",{class:"p-3 sm:p-4 max-w-7xl mx-auto space-y-4 fade-in",children:[e("div",{class:"flex items-center justify-between mb-4",children:e("div",{children:[e("h1",{class:"text-2xl font-bold mb-1",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] via-[#9c40ff] to-[#e94057] bg-clip-text text-transparent",children:"Integrations"})}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm",children:"Connect external services and platforms"})]})}),e("div",{class:"bg-gradient-to-r from-[#2d3748] via-[#1a202c] to-[#2d3748] text-white rounded-lg p-4 mb-6 border border-gray-600/30",children:e("div",{class:"flex items-center gap-3",children:[e("div",{class:"w-10 h-10 bg-black rounded-lg flex items-center justify-center",children:e(ta,{class:"h-5 w-5 text-white"})}),e("div",{children:[e("h3",{class:"font-semibold text-white",children:"GitHub Integrations"}),e("p",{class:"text-gray-300 text-sm",children:"OAuth authentication and GitHub Apps • More integrations coming soon"})]})]})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:e("div",{class:"p-4 space-y-6",children:[e("div",{class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800/50",children:[e("div",{class:"flex items-center gap-3 mb-4",children:[e(ta,{class:"h-5 w-5 text-gray-700 dark:text-gray-300"}),e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"GitHub OAuth Login"})]}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6",children:"Enable GitHub OAuth for user authentication. PKCE mode is more secure and doesn't require a client secret."}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Authentication Mode"}),e("select",{value:i,onChange:A=>o(A.target.value),disabled:!n,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",children:[e("option",{value:"off",children:"Disabled"}),e("option",{value:"pkce",children:"PKCE (No Secret Required)"}),e("option",{value:"confidential",children:"Confidential (Uses Secret)"})]})]}),i!=="off"&&e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub OAuth Client ID"}),e("input",{type:"text",value:l,onChange:A=>c(A.target.value),disabled:!n,placeholder:"Enter your GitHub OAuth Client ID",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"})]}),i==="confidential"&&e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub OAuth Client Secret"}),e("div",{class:"relative",children:[e("input",{type:"password",value:h,onChange:A=>m(A.target.value),disabled:!n,placeholder:d?"••••••••••••••••":"Enter your GitHub OAuth Client Secret",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"}),d&&e("div",{class:"absolute right-3 top-2 text-green-500",children:e(xt,{class:"h-4 w-4"})})]}),d&&e("p",{class:"text-sm text-green-600 dark:text-green-400 mt-1",children:"Secret is configured and encrypted. Leave empty to keep existing secret."})]}),n&&e("button",{onClick:async()=>{if(!n){C("Admin privileges required","error");return}if(i!=="off"&&!l.trim()){C("Client ID is required when OAuth is enabled","error");return}if(i==="confidential"&&!h.trim()&&!d){C("Client Secret is required for confidential mode","error");return}s(!0);try{const A={github_oauth:{mode:i,client_id:l.trim()}};h.trim()&&(A.github_oauth.client_secret=h),await $.put("/settings/integrations",A),C("GitHub OAuth configuration saved successfully","success"),m(""),M()}catch(A){C(A.message||"Failed to save OAuth configuration","error")}finally{s(!1)}},disabled:a,class:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-md font-medium",children:a?"Saving...":"Save OAuth Configuration"})]})]}),e("div",{class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-800/50",children:[e("div",{class:"flex items-center gap-3 mb-4",children:[e(Jo,{class:"h-5 w-5 text-gray-700 dark:text-gray-300"}),e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"GitHub App (Repository Access & Webhooks)"})]}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6",children:"Configure GitHub App for secure repository access and CI/CD webhooks without Personal Access Tokens."}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub App ID"}),e("input",{type:"text",value:p,onChange:A=>x(A.target.value),disabled:!n,placeholder:"Enter your GitHub App ID (numeric)",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub App Private Key (PEM Format)"}),e("div",{class:"space-y-2",children:[e("textarea",{value:y,onChange:A=>b(A.target.value),disabled:!n,placeholder:O?"Private key is configured and encrypted. Paste new key to rotate.":"Paste your GitHub App private key (PEM format)",rows:6,class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50 font-mono text-sm"}),n&&e("div",{class:"flex items-center gap-2",children:[e("input",{type:"file",accept:".pem,.key,.txt",onChange:A=>{const G=A.target;if(G.files&&G.files[0]){const f=G.files[0],S=new FileReader;S.onload=H=>{b(H.target.result)},S.readAsText(f)}},class:"hidden",id:"private-key-upload"}),e("label",{htmlFor:"private-key-upload",class:"cursor-pointer text-blue-600 dark:text-blue-400 hover:underline text-sm",children:"Or upload PEM file"}),O&&e("div",{class:"flex items-center gap-1 text-green-600 dark:text-green-400 text-sm",children:[e(xt,{class:"h-3 w-3"}),"Key configured and encrypted"]})]})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub App Webhook Secret"}),e("div",{class:"relative",children:[e("input",{type:"password",value:I,onChange:A=>B(A.target.value),disabled:!n,placeholder:L?"••••••••••••••••":"Enter your GitHub App webhook secret",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"}),L&&e("div",{class:"absolute right-3 top-2 text-green-500",children:e(xt,{class:"h-4 w-4"})})]}),L&&e("p",{class:"text-sm text-green-600 dark:text-green-400 mt-1",children:"Webhook secret is configured and encrypted. Leave empty to keep existing secret."})]}),n&&e("div",{class:"flex items-center gap-4",children:[e("button",{onClick:async()=>{if(!n){C("Admin privileges required","error");return}if(!p.trim()){C("App ID is required","error");return}if(!/^\d+$/.test(p.trim())){C("App ID must be numeric","error");return}if(!y.trim()&&!O){C("Private Key PEM is required","error");return}if(!I.trim()&&!L){C("Webhook Secret is required","error");return}s(!0);try{const A={github_app:{app_id:p.trim()}};y.trim()&&(A.github_app.private_key_pem=y),I.trim()&&(A.github_app.webhook_secret=I),await $.put("/settings/integrations",A),C("GitHub App configuration saved successfully","success"),b(""),B(""),M()}catch(A){C(A.message||"Failed to save App configuration","error")}finally{s(!1)}},disabled:a,class:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-md font-medium",children:a?"Saving...":"Save App Configuration"}),k&&e("a",{href:k,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center gap-2 text-blue-600 dark:text-blue-400 hover:underline",children:[e(Er,{class:"h-4 w-4"}),"Install App on GitHub"]})]})]})]}),!n&&e("div",{class:"border border-amber-200 dark:border-amber-600 rounded-lg p-4 bg-amber-50 dark:bg-amber-900/20",children:e("p",{class:"text-amber-700 dark:text-amber-300",children:[e("strong",{children:"Admin privileges required"})," to modify integration settings. Contact your administrator to configure GitHub integrations."]})})]})}),e(rt,{message:t.message,type:t.type,isVisible:t.show,onClose:()=>r({...t,show:!1})})]})}function md(){const[t,r]=g({show:!1,message:"",type:"info"}),[a,s]=g(1),[n,i]=g(!1),[o,l]=g(!1),[c,h]=g(!1),[m,d]=g(!1),[u,p]=g("pkce"),[x,y]=g(""),[b,O]=g(""),[_,I]=g(!1),[B,L]=g(""),[w,k]=g(""),R=(v,A="info")=>{r({show:!0,message:v,type:A})},P=()=>{window.location.href="/app/"},M=async()=>{if(c){P();return}i(!0);try{const v={};m&&(v.github_oauth={mode:u,client_id:x.trim()},u==="confidential"&&b.trim()&&(v.github_oauth.client_secret=b)),_&&(v.github_app={app_id:B.trim()},w.trim()&&(v.github_app.private_key_pem=w)),Object.keys(v).length>0&&await $.put("/settings/integrations",v),l(!0),R("Integration setup completed successfully","success"),setTimeout(()=>{window.location.href="/app/"},2e3)}catch(v){R(v.message||"Failed to save integration configuration","error")}finally{i(!1)}},C=()=>{if(a===2&&m){if(!x.trim())return R("GitHub OAuth Client ID is required","error"),!1;if(u==="confidential"&&!b.trim())return R("Client Secret is required for confidential mode","error"),!1}if(a===3&&_){if(!B.trim())return R("GitHub App ID is required","error"),!1;if(!/^\d+$/.test(B.trim()))return R("App ID must be numeric","error"),!1;if(!w.trim())return R("GitHub App Private Key is required","error"),!1}return!0},T=()=>{C()&&s(a+1)},D=v=>{const A=v.target;if(A.files&&A.files[0]){const G=A.files[0],f=new FileReader;f.onload=S=>{k(S.target.result)},f.readAsText(G)}};return o?e("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-8 max-w-md w-full text-center",children:[e(Xt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Setup Complete!"}),e("p",{className:"text-gray-600 dark:text-gray-400",children:"Your GitHub integrations have been configured successfully. Redirecting to the dashboard..."})]})}):e("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e("div",{className:"max-w-2xl mx-auto py-8 px-6",children:[e("div",{className:"text-center mb-8",children:[e(xt,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),e("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome to GLINR Dock!"}),e("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Let's set up your GitHub integrations for secure CI/CD"})]}),e("div",{className:"mb-8",children:[e("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-2",children:[e("span",{className:a>=1?"text-blue-600 dark:text-blue-400":"",children:"Choose Integrations"}),e("span",{className:a>=2?"text-blue-600 dark:text-blue-400":"",children:"OAuth Setup"}),e("span",{className:a>=3?"text-blue-600 dark:text-blue-400":"",children:"App Setup"}),e("span",{className:a>=4?"text-blue-600 dark:text-blue-400":"",children:"Complete"})]}),e("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(a-1)*33.33}%`}})})]}),e("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a===1&&e("div",{children:[e("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Choose Your GitHub Integrations"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Select the GitHub features you'd like to enable. You can always configure these later."}),e("div",{className:"space-y-4",children:[e("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e("input",{type:"checkbox",checked:m,onChange:v=>d(v.target.checked),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded"}),e("div",{children:[e("div",{className:"flex items-center gap-2",children:[e(ta,{className:"h-4 w-4"}),e("span",{className:"font-medium text-gray-900 dark:text-white",children:"GitHub OAuth Login"})]}),e("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Allow users to log in with their GitHub accounts"})]})]}),e("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e("input",{type:"checkbox",checked:_,onChange:v=>I(v.target.checked),className:"mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded"}),e("div",{children:[e("div",{className:"flex items-center gap-2",children:[e(xt,{className:"h-4 w-4"}),e("span",{className:"font-medium text-gray-900 dark:text-white",children:"GitHub App Integration"})]}),e("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Secure repository access and CI/CD webhooks without PATs"})]})]}),e("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e("input",{type:"checkbox",checked:c,onChange:v=>h(v.target.checked),className:"mt-1 h-4 w-4 text-gray-600 border-gray-300 rounded"}),e("div",{children:[e("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Skip setup for now"}),e("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Configure integrations later in Settings"})]})]})]}),e("div",{className:"mt-6 flex justify-end",children:e("button",{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-medium inline-flex items-center gap-2",children:["Continue",e(cr,{className:"h-4 w-4"})]})})]}),a===2&&e("div",{children:[m?e(ae,{children:[e("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Configure GitHub OAuth"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Set up GitHub OAuth for user authentication. PKCE mode is more secure and recommended."}),e("div",{className:"space-y-4",children:[e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Authentication Mode"}),e("select",{value:u,onChange:v=>p(v.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e("option",{value:"pkce",children:"PKCE (Recommended)"}),e("option",{value:"confidential",children:"Confidential"})]}),e("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"PKCE mode doesn't require storing a client secret"})]}),e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub OAuth Client ID"}),e("input",{type:"text",value:x,onChange:v=>y(v.target.value),placeholder:"Enter your GitHub OAuth Client ID",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),u==="confidential"&&e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client Secret"}),e("input",{type:"password",value:b,onChange:v=>O(v.target.value),placeholder:"Enter your GitHub OAuth Client Secret",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]})]}):e(ae,{children:[e("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"GitHub OAuth Skipped"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"GitHub OAuth login will not be configured. You can enable it later in Settings."})]}),e("div",{className:"mt-6 flex justify-between",children:[e("button",{onClick:()=>s(a-1),className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 px-4 py-2",children:"Back"}),e("button",{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-medium inline-flex items-center gap-2",children:["Continue",e(cr,{className:"h-4 w-4"})]})]})]}),a===3&&e("div",{children:[_?e(ae,{children:[e("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Configure GitHub App"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Set up your GitHub App for secure repository access and CI/CD webhooks."}),e("div",{className:"space-y-4",children:[e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GitHub App ID"}),e("input",{type:"text",value:B,onChange:v=>L(v.target.value),placeholder:"Enter your GitHub App ID (numeric)",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),e("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Private Key (PEM Format)"}),e("textarea",{value:w,onChange:v=>k(v.target.value),placeholder:"Paste your GitHub App private key (PEM format)",rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono text-sm"}),e("div",{className:"mt-2",children:[e("input",{type:"file",accept:".pem,.key,.txt",onChange:D,className:"hidden",id:"private-key-upload"}),e("label",{htmlFor:"private-key-upload",className:"cursor-pointer text-blue-600 dark:text-blue-400 hover:underline text-sm",children:"Or upload PEM file"})]})]})]})]}):e(ae,{children:[e("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"GitHub App Skipped"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"GitHub App integration will not be configured. You can enable it later in Settings."})]}),e("div",{className:"mt-6 flex justify-between",children:[e("button",{onClick:()=>s(a-1),className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 px-4 py-2",children:"Back"}),e("button",{onClick:T,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-medium inline-flex items-center gap-2",children:["Continue",e(cr,{className:"h-4 w-4"})]})]})]}),a===4&&e("div",{children:[e("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Review & Complete Setup"}),e("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Review your configuration and complete the setup."}),e("div",{className:"space-y-3 mb-6",children:[e("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 dark:border-gray-700",children:[e("span",{className:"text-gray-900 dark:text-white",children:"GitHub OAuth Login"}),e("span",{className:`text-sm ${m?"text-green-600 dark:text-green-400":"text-gray-500"}`,children:m?`Enabled (${u})`:"Disabled"})]}),e("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 dark:border-gray-700",children:[e("span",{className:"text-gray-900 dark:text-white",children:"GitHub App Integration"}),e("span",{className:`text-sm ${_?"text-green-600 dark:text-green-400":"text-gray-500"}`,children:_?"Enabled":"Disabled"})]})]}),e("div",{className:"mt-6 flex justify-between",children:[e("button",{onClick:()=>s(a-1),className:"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 px-4 py-2",children:"Back"}),e("button",{onClick:M,disabled:n,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-6 py-2 rounded-md font-medium inline-flex items-center gap-2",children:[n?"Saving...":"Complete Setup",e(Xt,{className:"h-4 w-4"})]})]})]})]})]}),t.show&&e(rt,{message:t.message,type:t.type,onClose:()=>r({...t,show:!1})})]})}function pd({children:t,roles:r=[],fallback:a,showError:s=!0}){const[n,i]=g(null),[o,l]=g(!0),[c,h]=g(!1),[m,d]=g(null);return K(()=>{(async()=>{try{const p=await $.getAuthInfo();i(p);const x=tr();r.length>0&&(!x||!r.includes(x))&&(d(`Access denied. Required role: ${r.join(" or ")}`),s&&h(!0))}catch(p){p instanceof Nn?d("Authentication required"):p instanceof En?d("Permission denied"):d("Unable to verify permissions"),s&&h(!0)}finally{l(!1)}})()},[r,s]),o?e("div",{class:"animate-pulse",children:[e("div",{class:"h-4 bg-gray-700 rounded w-3/4 mb-2"}),e("div",{class:"h-4 bg-gray-700 rounded w-1/2"})]}):m?e(ae,{children:[a||e("div",{class:"rounded-lg border border-red-500/20 bg-red-500/10 p-4",children:e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-5 h-5 text-red-400",children:e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e("div",{children:[e("h3",{class:"text-red-400 font-medium",children:"Access Restricted"}),e("p",{class:"text-red-300 text-sm mt-1",children:m})]})]})}),e(rt,{message:m,isVisible:c,type:"error",onClose:()=>h(!1)})]}):e(ae,{children:t})}function xd(){const[t,r]=g([]),[a,s]=g([]),[n,i]=g(!0),[o,l]=g(!0),[c,h]=g(!1),[m,d]=g(!1),[u,p]=g(null),[x,y]=g(null),[b,O]=g(!1),[_,I]=g(null),[B,L]=g({name:"",type:"dockerhub",server:"",username:"",password:""});K(()=>{k(),R(),w()},[]);const w=async()=>{try{const f=await kl();h((f==null?void 0:f.role)==="admin")}catch(f){console.error("Failed to load auth info:",f),h(!1)}finally{l(!1)}},k=async()=>{try{const f=await $.getRegistries();r(f.registries||[])}catch(f){console.error("Failed to load registries:",f),P("Failed to load registries","error")}finally{i(!1)}},R=async()=>{try{const f=await $.getRegistryTypes();s(f.types||[])}catch(f){console.error("Failed to load registry types:",f)}},P=(f,S)=>{y({message:f,type:S}),setTimeout(()=>y(null),5e3)},M=async()=>{if(!B.name.trim()||!B.username.trim()||!B.password.trim()){P("Please fill in all required fields","error");return}try{await $.createRegistry(B),P("Registry created successfully","success"),d(!1),D(),k()}catch(f){console.error("Failed to create registry:",f),P(f.message||"Failed to create registry","error")}},C=async f=>{try{await $.deleteRegistry(f.id),P("Registry deleted successfully","success"),p(null),k()}catch(S){console.error("Failed to delete registry:",S),P(S.message||"Failed to delete registry","error")}},T=async f=>{I(f);try{await $.testRegistryConnection(f),P("Registry connection test successful","success")}catch(S){console.error("Registry test failed:",S),P(S.message||"Registry connection test failed","error")}finally{I(null)}},D=()=>{L({name:"",type:"dockerhub",server:"",username:"",password:""}),O(!1)},v=f=>{const S=a.find(H=>H.type===f);L(H=>({...H,type:f,server:(S==null?void 0:S.server)||""}))},A=f=>{switch(f){case"dockerhub":return"🐳";case"ghcr":return"🐱";case"ecr":return"☁️";default:return"📦"}},G=f=>{switch(f){case"dockerhub":return"Docker Hub";case"ghcr":return"GitHub Container Registry";case"ecr":return"Amazon ECR";default:return"Generic Registry"}};return n||o?e("div",{class:"space-y-6 fade-in",children:e("div",{class:"animate-pulse space-y-6",children:[e("div",{children:[e("div",{class:"h-10 bg-gray-300 dark:bg-gray-700 rounded w-2/3 mb-2"}),e("div",{class:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-2xl p-6",children:e("div",{class:"space-y-4",children:[...Array(3)].map((f,S)=>e("div",{class:"h-20 bg-gray-100 dark:bg-gray-700 rounded-lg"},S))})})]})}):e("div",{class:"space-y-6 fade-in",children:[e("div",{children:[e("h1",{class:"text-3xl font-bold mb-2",children:e("span",{class:"bg-gradient-to-r from-[#8b008b] via-[#9c40ff] to-[#e94057] bg-clip-text text-transparent",children:"Container Registries"})}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Manage private container registry credentials for secure image pulls"})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg shadow-[#8b008b]/10",children:[e("div",{class:"p-6 border-b border-gray-200/50 dark:border-gray-700/50",children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-12 h-12 bg-gradient-to-br from-[#8b008b] to-[#9c40ff] rounded-xl flex items-center justify-center shadow-lg",children:e(tt,{class:"w-6 h-6 text-white"})}),e("div",{children:[e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white",children:"Registry Management"}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm",children:"Configure authentication for private container registries"})]})]}),e(pd,{roles:["admin"],showError:!1,children:e("button",{onClick:()=>d(!0),class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-[#8b008b] to-[#9c40ff] hover:from-[#7a0077] hover:to-[#8a36e6] text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[e(yt,{class:"w-4 h-4 mr-2"}),"Add Registry"]})})]})}),e("div",{class:"p-6",children:t.length===0?e("div",{class:"text-center py-12",children:[e("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e(tt,{class:"w-8 h-8 text-gray-400"})}),e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No registries configured"}),e("p",{class:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"Add container registries to pull images from private repositories like GitHub Container Registry, Amazon ECR, or Docker Hub private repos."}),c&&e("button",{onClick:()=>d(!0),class:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-[#8b008b] to-[#9c40ff] hover:from-[#7a0077] hover:to-[#8a36e6] text-white rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[e(yt,{class:"w-4 h-4 mr-2"}),"Add Your First Registry"]})]}):e("div",{class:"grid grid-cols-1 gap-4",children:t.map(f=>e("div",{class:"bg-white/60 dark:bg-gray-700/60 rounded-xl p-4 border border-gray-200/50 dark:border-gray-600/50 hover:shadow-lg transition-all duration-200",children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center space-x-4",children:[e("div",{class:"w-12 h-12 bg-gray-100 dark:bg-gray-600 rounded-lg flex items-center justify-center text-2xl",children:A(f.type)}),e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:f.name}),e("div",{class:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[e("span",{class:"flex items-center",children:e("span",{class:"font-medium",children:G(f.type)})}),e("span",{children:"•"}),e("span",{class:"font-mono",children:f.server}),e("span",{children:"•"}),e("span",{children:["@",f.username]})]}),e("div",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Created ",new Date(f.created_at).toLocaleDateString()]})]})]}),e("div",{class:"flex items-center space-x-2",children:c&&e(ae,{children:[e("button",{onClick:()=>T(f.id),disabled:_===f.id,class:"p-2 text-blue-500 hover:bg-blue-500/10 rounded-lg transition-colors disabled:opacity-50",title:"Test connection",children:_===f.id?e("div",{class:"w-4 h-4 animate-spin border-2 border-blue-500 border-t-transparent rounded-full"}):e(il,{class:"w-4 h-4"})}),e("button",{onClick:()=>p({id:f.id,name:f.name}),class:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete registry",children:e(et,{class:"w-4 h-4"})})]})})]})},f.id))})})]}),e("div",{class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800/30",children:e("div",{class:"flex items-start space-x-3",children:[e(yr,{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),e("div",{class:"text-sm text-blue-800 dark:text-blue-200",children:[e("h4",{class:"font-semibold mb-2",children:"Registry Usage"}),e("ul",{class:"space-y-1 text-xs",children:[e("li",{children:"• Credentials are encrypted at rest using AES-GCM encryption"}),e("li",{children:"• Only administrators can manage registry credentials"}),e("li",{children:"• Deployers and above can select registries when configuring services"}),e("li",{children:"• Registry authentication is automatically used during image pulls"}),e("li",{children:"• Password/tokens are never displayed after creation for security"})]})]})]})}),e(Et,{isOpen:m,onClose:()=>{d(!1),D()},title:"Add Container Registry",children:[e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Registry Name ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",value:B.name,onInput:f=>L(S=>({...S,name:f.currentTarget.value})),class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent",placeholder:"My Private Registry"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Registry Type ",e("span",{class:"text-red-500",children:"*"})]}),e("select",{value:B.type,onChange:f=>v(f.currentTarget.value),class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent",children:a.map(f=>e("option",{value:f.type,children:G(f.type)},f.type))})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Registry Server ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",value:B.server,onInput:f=>L(S=>({...S,server:f.currentTarget.value})),class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent",placeholder:"registry.example.com"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Username ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",value:B.username,onInput:f=>L(S=>({...S,username:f.currentTarget.value})),class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent",placeholder:"username"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Password / Token ",e("span",{class:"text-red-500",children:"*"})]}),e("div",{class:"relative",children:[e("input",{type:b?"text":"password",value:B.password,onInput:f=>L(S=>({...S,password:f.currentTarget.value})),class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-[#9c40ff] focus:border-transparent pr-10",placeholder:"password or access token"}),e("button",{type:"button",onClick:()=>O(!b),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:b?e(Ma,{class:"w-4 h-4"}):e(Dr,{class:"w-4 h-4"})})]}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Password will be encrypted and stored securely"})]}),e("div",{class:"flex items-start space-x-2 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800/30 rounded-lg",children:[e(yr,{class:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e("div",{class:"text-xs text-amber-800 dark:text-amber-200",children:[e("p",{class:"font-medium mb-1",children:"Security Notice"}),e("p",{children:"Credentials are encrypted at rest. Only admins can manage registries. Passwords are never displayed after creation."})]})]})]}),e("div",{class:"flex justify-end space-x-3 mt-6",children:[e("button",{onClick:()=>{d(!1),D()},class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),e("button",{onClick:M,class:"px-4 py-2 bg-gradient-to-r from-[#8b008b] to-[#9c40ff] hover:from-[#7a0077] hover:to-[#8a36e6] text-white rounded-lg font-medium transition-all duration-200",children:"Create Registry"})]})]}),u&&e(Et,{isOpen:!0,onClose:()=>p(null),title:"Delete Registry",children:[e("div",{class:"space-y-4",children:e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"w-10 h-10 bg-red-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e(et,{class:"w-5 h-5 text-red-500"})}),e("div",{children:[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Delete Registry"}),e("p",{class:"text-gray-600 dark:text-gray-400 text-sm",children:["Are you sure you want to delete ",e("strong",{class:"text-gray-900 dark:text-white",children:u.name}),"? This action cannot be undone."]}),e("p",{class:"text-amber-600 dark:text-amber-400 text-sm mt-2",children:"Services using this registry may fail to pull images."})]})]})}),e("div",{class:"flex justify-end space-x-3 mt-6",children:[e("button",{onClick:()=>p(null),class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),e("button",{onClick:()=>{const f=t.find(S=>S.id===u.id);f&&C(f)},class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete Registry"})]})]}),x&&e(rt,{message:x.message,type:x.type,isVisible:!0,onClose:()=>y(null)})]})}function bd({status:t,lastProbeAt:r,className:a=""}){const n=(l=>{switch(l){case"ok":return{variant:"success",label:"Healthy",icon:"✓"};case"fail":return{variant:"danger",label:"Unhealthy",icon:"✗"};case"unknown":default:return{variant:"secondary",label:"Unknown",icon:"?"}}})(t),o=(l=>l?ja(l):null)(r);return e("div",{class:`flex items-center gap-1 ${a}`,children:[e(Ll,{variant:n.variant,size:"sm",children:[e("span",{class:"mr-1",children:n.icon}),n.label]}),o&&e("span",{class:"text-xs text-gray-500 ml-1",children:o})]})}function fd({serviceId:t,serviceName:r,restartCount:a,lastExitCode:s,canUnlock:n,onUnlock:i}){const[o,l]=g(!1);return e("div",{class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[e("div",{class:"flex items-start justify-between",children:[e("div",{class:"flex",children:[e("div",{class:"flex-shrink-0",children:e("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})})}),e("div",{class:"ml-3",children:[e("h3",{class:"text-sm font-medium text-red-800",children:"Service in Crash Loop"}),e("div",{class:"mt-2 text-sm text-red-700",children:[e("p",{children:[e("strong",{children:r})," has been automatically stopped due to excessive failures."]}),e("ul",{class:"list-disc list-inside mt-2 space-y-1",children:[e("li",{children:["Restart attempts: ",e("strong",{children:a})," in the last 10 minutes"]}),s!==void 0&&e("li",{children:["Last exit code: ",e("strong",{children:s})]}),e("li",{children:"The service will remain stopped to prevent resource drain"})]})]})]})]}),n&&e("div",{class:"ml-3 flex-shrink-0",children:e("button",{onClick:async()=>{if(!o){l(!0);try{await $.unlockService(t),i&&i()}catch(h){console.error("Failed to unlock service:",h)}finally{l(!1)}}},disabled:o,class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:o?e(ae,{children:[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-red-700",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Unlocking..."]}):"Unlock and Start"})})]}),e("div",{class:"mt-4 text-xs text-red-600",children:e("p",{children:[e("strong",{children:"Next steps:"})," Check the service logs for errors, fix the issue, then unlock the service to restart."]})})]})}function yd({serviceId:t,onHealthUpdate:r,size:a="sm",className:s=""}){const[n,i]=g(!1);return e("button",{onClick:async()=>{if(!n){i(!0);try{const c=await $.runHealthCheck(t);r&&r(c.health_status,c.last_probe_at)}catch(c){console.error("Health check failed:",c)}finally{i(!1)}}},disabled:n,class:`inline-flex items-center ${{sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm"}[a]} border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${s}`,title:"Run health check now",children:n?e(ae,{children:[e("svg",{class:"animate-spin -ml-1 mr-1 h-3 w-3 text-gray-700",fill:"none",viewBox:"0 0 24 24",children:[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Checking..."]}):e(ae,{children:[e("svg",{class:"-ml-1 mr-1 h-3 w-3 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Run health check"]})})}function vd({serviceId:t,serviceStatus:r,canDeploy:a,actionLoading:s,onActionStart:n,onActionComplete:i,showToast:o}){const l=async c=>{n(c);try{let h;switch(c){case"start":h=await $.startService(t);break;case"stop":h=await $.stopService(t);break;case"restart":h=await $.restartService(t);break;default:throw new Error(`Unknown action: ${c}`)}o(`Service ${c} successful!`,"success"),i(c,!0)}catch(h){console.error(`Failed to ${c} service:`,h),o(`Failed to ${c} service: ${h instanceof Error?h.message:"Unknown error"}`,"error"),i(c,!1)}};return a?e("div",{class:"flex items-center justify-end space-x-2",children:[r&&["stopped","created","paused","error","exited"].includes(r)&&e("button",{onClick:()=>l("start"),disabled:s!==null,class:"inline-flex items-center px-3 py-2 text-sm font-medium text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 bg-green-50/80 dark:bg-green-900/20 hover:bg-green-100/80 dark:hover:bg-green-900/30 rounded-lg transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:scale-100",children:[s==="start"?e(lt,{class:"w-4 h-4 mr-1.5 animate-spin"}):e(jt,{class:"w-4 h-4 mr-1.5"}),"Start"]}),r&&["running","starting","restarting"].includes(r)&&e("button",{onClick:()=>l("stop"),disabled:s!==null,class:"inline-flex items-center px-3 py-2 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 bg-red-50/80 dark:bg-red-900/20 hover:bg-red-100/80 dark:hover:bg-red-900/30 rounded-lg transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:scale-100",children:[s==="stop"?e(lt,{class:"w-4 h-4 mr-1.5 animate-spin"}):e(Qt,{class:"w-4 h-4 mr-1.5"}),"Stop"]}),r&&["running"].includes(r)&&e("button",{onClick:()=>l("restart"),disabled:s!==null,class:"inline-flex items-center px-3 py-2 text-sm font-medium text-yellow-600 dark:text-yellow-400 hover:text-yellow-700 dark:hover:text-yellow-300 bg-yellow-50/80 dark:bg-yellow-900/20 hover:bg-yellow-100/80 dark:hover:bg-yellow-900/30 rounded-lg transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:scale-100",children:[s==="restart"?e(lt,{class:"w-4 h-4 mr-1.5 animate-spin"}):e(lt,{class:"w-4 h-4 mr-1.5"}),"Restart"]})]}):e("div",{class:"flex items-center space-x-3",children:e("div",{class:"relative",children:[e("div",{class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-400 dark:text-gray-600 bg-gray-50/80 dark:bg-gray-800/50 rounded-lg cursor-not-allowed opacity-60",children:[e(kr,{class:"w-4 h-4 mr-2"}),"Actions Restricted"]}),e("div",{class:"absolute -top-2 -right-2 bg-gray-600 text-white text-xs px-2 py-1 rounded-full shadow-lg opacity-90",children:"Viewer Mode"})]})})}function Aa({impact:t,size:r="md",showIcon:a=!0,showText:s=!0,showTooltip:n=!1,className:i=""}){const o=()=>{const h=r==="sm"?"w-3 h-3":r==="lg"?"w-5 h-5":"w-4 h-4";switch(t.type){case"hot_reload":return e(ut,{class:h});case"app_restart":return e(lt,{class:h});case"container_restart":return e(fr,{class:h});case"image_rebuild":return e(qn,{class:h});default:return e(we,{class:h})}},l=()=>{switch(t.type){case"hot_reload":return"Hot Reload";case"app_restart":return"App Restart";case"container_restart":return"Container Restart";case"image_rebuild":return"Image Rebuild";default:return"Unknown"}},c={sm:"px-2 py-1 text-xs",md:"px-2.5 py-1.5 text-sm",lg:"px-3 py-2 text-base"};return e("div",{class:`inline-flex items-center rounded-full font-medium border ${t.bgColor} ${t.borderColor} ${t.color} ${c[r]} ${i}`,title:`${l()} - ${t.description} (${t.downtime})`,children:[a&&e("span",{class:s?"mr-1.5":"",children:o()}),s&&e("span",{children:l()})]})}function kd({impact:t,children:r}){return e("div",{class:"relative group",title:`${t.description} - Expected downtime: ${t.downtime}`,children:[r,e("div",{class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:[e("div",{class:"font-medium mb-1",children:t.description}),e("div",{class:"text-gray-300",children:["Downtime: ",t.downtime]}),e("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]})}function gr({impact:t,className:r=""}){const a=()=>{switch(t.type){case"hot_reload":return e(ut,{class:"w-4 h-4"});case"app_restart":return e(lt,{class:"w-4 h-4"});case"container_restart":return e(fr,{class:"w-4 h-4"});case"image_rebuild":return e(qn,{class:"w-4 h-4"});default:return e(we,{class:"w-4 h-4"})}};return e(kd,{impact:t,children:e("div",{class:`inline-flex items-center ${r}`,children:[e("span",{class:"mr-1",children:a()}),e("span",{class:`text-xs font-medium ${t.color}`,children:t.downtime})]})})}const Xe={hot_reload:{type:"hot_reload",severity:"low",description:"Applied instantly without interruption",downtime:"No downtime",requiresRestart:!1,requiresRebuild:!1,icon:"zap",color:"text-green-600 dark:text-green-400",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800"},app_restart:{type:"app_restart",severity:"medium",description:"Application process restart required",downtime:"5-15 seconds",requiresRestart:!0,requiresRebuild:!1,icon:"rotate-ccw",color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800"},container_restart:{type:"container_restart",severity:"high",description:"Full container restart required",downtime:"30-60 seconds",requiresRestart:!0,requiresRebuild:!1,icon:"box",color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800"},image_rebuild:{type:"image_rebuild",severity:"critical",description:"Container image rebuild and deployment",downtime:"5+ minutes",requiresRestart:!0,requiresRebuild:!0,icon:"wrench",color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800"}};function mr(t,r,a){if(t==="environment"){const s=["DATABASE_URL","DB_HOST","DB_PORT","REDIS_URL"];return Object.keys(a||{}).some(i=>s.includes(i)&&(r==null?void 0:r[i])!==(a==null?void 0:a[i]))?Xe.app_restart:Xe.hot_reload}return t==="ports"||t==="volumes"||t==="network_mode"||t==="network"?Xe.container_restart:t==="name"||t==="description"?Xe.hot_reload:t==="image"||t==="dockerfile"?Xe.image_rebuild:t==="command"||t==="entrypoint"?Xe.container_restart:t==="cpu_limit"||t==="memory_limit"?Xe.app_restart:Xe.container_restart}function wd({config:t,canDeploy:r,envViewMode:a,showEnvFileUpload:s,envPasteValue:n,setEnvViewMode:i,setShowEnvFileUpload:o,setEnvPasteValue:l,updateConfig:c,showToast:h,serviceId:m}){const[d,u]=g(null),[p,x]=g(!0),[y,b]=g(null);K(()=>{m&&(async()=>{try{x(!0),b(null);const v=await $.getServiceEnvironment(m);u(v)}catch(v){console.error("Failed to fetch Docker environment:",v),b(v instanceof Error?v.message:"Failed to fetch environment")}finally{x(!1)}})()},[m]);const O={nodejs:{name:"Node.js Application",variables:[{key:"NODE_ENV",value:"production",is_secret:!1},{key:"PORT",value:"3000",is_secret:!1},{key:"DATABASE_URL",value:"",is_secret:!0},{key:"JWT_SECRET",value:"",is_secret:!0},{key:"API_KEY",value:"",is_secret:!0}]},database:{name:"Database Service",variables:[{key:"MYSQL_ROOT_PASSWORD",value:"",is_secret:!0},{key:"MYSQL_DATABASE",value:"app_db",is_secret:!1},{key:"MYSQL_USER",value:"app_user",is_secret:!1},{key:"MYSQL_PASSWORD",value:"",is_secret:!0}]},redis:{name:"Redis Cache",variables:[{key:"REDIS_URL",value:"redis://localhost:6379",is_secret:!1},{key:"REDIS_PASSWORD",value:"",is_secret:!0},{key:"REDIS_DB",value:"0",is_secret:!1}]},nginx:{name:"Web Server",variables:[{key:"NGINX_HOST",value:"localhost",is_secret:!1},{key:"NGINX_PORT",value:"80",is_secret:!1},{key:"SSL_CERT_PATH",value:"/etc/ssl/certs",is_secret:!1},{key:"SSL_KEY_PATH",value:"/etc/ssl/private",is_secret:!1}]},api:{name:"API Service",variables:[{key:"API_URL",value:"",is_secret:!1},{key:"API_KEY",value:"",is_secret:!0},{key:"RATE_LIMIT",value:"100",is_secret:!1},{key:"CORS_ORIGIN",value:"*",is_secret:!1}]}},_=(D,v="add")=>{console.log("Applying template:",D,"mode:",v);const A=O[D];if(A){let G;v==="replace"?G=[...A.variables]:(G=[...t.env||[]],A.variables.forEach(S=>{G.some(U=>U.key===S.key)||G.push(S)})),console.log("New variables after template:",G),c("env",G),h(`${v==="replace"?"Replaced with":"Applied"} ${A.name} template`,"success")}else console.warn("Template not found:",D)},I=D=>!D||D.length===0?`# No environment variables configured
# Add variables in KEY=VALUE format`:D.map(v=>{if(!v||!v.key)return"";if(v.is_secret&&v.value==="******")return`${v.key}=# [HIDDEN SECRET - edit individually to change]`;const G=v.value&&(v.value.includes(" ")||v.value.includes("#")||v.value.includes("="))?`"${v.value.replace(/"/g,'\\"')}"`:v.value||"";return`${v.key}=${G}`}).filter(v=>v.length>0).join(`
`),B=D=>{const v=D.split(`
`),A=[];return v.forEach(G=>{const f=G.trim();if(f&&!f.startsWith("#")){const S=f.indexOf("=");if(S>0){const H=f.substring(0,S).trim();let U=f.substring(S+1).trim();if((U.startsWith('"')&&U.endsWith('"')||U.startsWith("'")&&U.endsWith("'"))&&(U=U.slice(1,-1)),U.startsWith("# [HIDDEN SECRET"))return;const j=/password|secret|key|token|api_key|private/i.test(H.toLowerCase());A.push({key:H,value:U,is_secret:j})}}}),A},[L,w]=g(""),[k,R]=g(!1),[P,M]=g(!1),C=D=>{if(console.log("Switching view mode to:",D,"from:",a),console.log("Current config.env:",t.env),D==="bulk"&&a!=="bulk"){const v=I(t.env||[]);console.log("Generated dotenv text:",v),w(v),R(!0)}else D==="form"&&R(!1);i(D)},T=()=>{try{const D=B(L);t.env.filter(A=>A.is_secret&&A.value==="******").forEach(A=>{D.find(f=>f.key===A.key)||D.push(A)}),c("env",D),h("Environment variables updated successfully","success")}catch{h("Error parsing environment variables","error")}};return e("div",{class:"space-y-8",children:[e("div",{class:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-6 rounded-xl border border-green-200/50 dark:border-green-700/50",children:e("div",{class:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e("div",{children:e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[e(xt,{class:"w-6 h-6 mr-2 text-green-500"}),"Environment Variables"]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Secure configuration management for your service"})]}),e("div",{class:"flex items-center",children:[e(gr,{impact:mr("environment",t.environment,t.environment),className:"mr-2"}),e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Change Impact"})]})]})}),e("div",{class:"flex items-center gap-3 flex-wrap",children:[e("div",{class:"flex bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-1",children:[{id:"form",name:"Form View",icon:mt,description:"Individual field editing with security controls"},{id:"bulk",name:"Bulk Edit",icon:Ss,description:"Textarea editor for multiple variables (.env format)"}].map(D=>e("button",{onClick:()=>C(D.id),class:`px-3 py-1.5 text-xs font-medium rounded-md transition-all duration-200 flex items-center ${a===D.id?"bg-green-500 text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:D.description,children:[e(D.icon,{class:"w-3 h-3 mr-1"}),D.name]},D.id))}),e("div",{class:"relative",children:e("button",{onClick:()=>{console.log("Template button clicked, current state:",P),M(!P)},class:"appearance-none bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-green-500 flex items-center",children:["Load Template...",e(Zt,{class:"ml-2 w-3 h-3"})]})}),e("button",{onClick:()=>o(!s),class:"inline-flex items-center px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 dark:text-blue-300 dark:bg-blue-900/30 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:[e(ll,{class:"w-4 h-4 mr-1.5"}),"Import .env"]})]})]})}),s&&e("div",{class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200/50 dark:border-blue-700/50 p-6",children:[e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e(mt,{class:"w-4 h-4 mr-2 text-blue-500"}),"Import Environment File"]}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Paste .env content or upload file"}),e("textarea",{value:n,onChange:D=>l(D.target.value),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:6,placeholder:`DATABASE_URL=postgresql://user:pass@localhost/db
API_KEY=your-secret-key
DEBUG=true
PORT=3000
# Comments are supported
NODE_ENV=production`})]}),e("div",{class:"flex items-center justify-between",children:[e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Supports standard .env format with KEY=VALUE pairs"}),e("div",{class:"flex gap-2",children:[e("button",{onClick:()=>{o(!1),l("")},class:"px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),e("button",{onClick:()=>{const D=n.split(`
`),v=[];D.forEach(A=>{const G=A.trim();if(G&&!G.startsWith("#")){const[f,...S]=G.split("=");if(f&&S.length>0){const H=S.join("=").replace(/^["']|["']$/g,""),U=/password|secret|key|token|api_key|private/i.test(f);v.push({key:f.trim(),value:H,is_secret:U})}}}),v.length>0&&(c("env",[...t.env,...v]),h(`Imported ${v.length} environment variables`,"success")),o(!1),l("")},disabled:!n.trim(),class:"px-4 py-1.5 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Import Variables"})]})]})]})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:[e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700",children:e("div",{class:"flex items-center justify-between",children:e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white flex items-center",children:[e(Ke,{class:"w-4 h-4 mr-2 text-gray-500"}),"Variables (",(t.env||[]).length,")"]})})}),e("div",{class:"p-6",children:[a==="form"&&e("div",{class:"space-y-3",children:[(t.env||[]).length>0?(t.env||[]).map((D,v)=>e("div",{class:`flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 ${D.is_secret?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700/50":"bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600"}`,children:[e("div",{class:`p-2 rounded-lg ${D.is_secret?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"}`,children:D.is_secret?e(kr,{class:"w-4 h-4"}):e(ra,{class:"w-4 h-4"})}),e("div",{class:"flex-1",children:e("input",{type:"text",value:D.key,onChange:A=>{const G=[...t.env];G[v]={...D,key:A.target.value},c("env",G)},disabled:!r,class:"w-full px-3 py-2 text-sm font-mono border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",placeholder:"VARIABLE_NAME"})}),e("div",{class:"flex-1",children:e("input",{type:D.is_secret?"password":"text",value:D.value,onChange:A=>{const G=[...t.env];G[v]={...D,value:A.target.value},c("env",G)},disabled:!r,class:"w-full px-3 py-2 text-sm font-mono border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",placeholder:"value"})}),e("div",{class:"flex items-center gap-2",children:e("button",{onClick:()=>{const A=[...t.env];A[v]={...D,is_secret:!D.is_secret},c("env",A)},class:`p-1.5 rounded transition-colors ${D.is_secret?"text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30":"text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30"}`,title:"Toggle secret",children:D.is_secret?e(Ma,{class:"w-4 h-4"}):e(Dr,{class:"w-4 h-4"})})}),e("button",{onClick:()=>{const A=t.env.filter((G,f)=>f!==v);c("env",A)},disabled:!r,class:"p-1.5 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors disabled:opacity-50",children:e(et,{class:"w-4 h-4"})})]},v)):e("div",{class:"text-center py-8",children:[e("div",{class:"text-gray-500 dark:text-gray-400 mb-4",children:"No environment variables configured"}),e("p",{class:"text-sm text-gray-400 dark:text-gray-500",children:"Add your first environment variable or load a template to get started"})]}),e("button",{onClick:()=>{const D=[...t.env||[],{key:"",value:"",is_secret:!1}];c("env",D)},disabled:!r,class:"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-500 dark:text-gray-400 hover:border-green-400 dark:hover:border-green-500 hover:text-green-600 dark:hover:text-green-400 transition-colors disabled:opacity-50 flex items-center justify-center",children:[e(yt,{class:"w-4 h-4 mr-2"}),"Add Environment Variable"]})]}),a==="bulk"&&e("div",{class:"space-y-4",children:[e("div",{class:"bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700/50 p-4",children:e("div",{class:"flex items-start gap-3",children:[e("div",{class:"p-1 rounded-full bg-amber-100 dark:bg-amber-900/30",children:e(we,{class:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),e("div",{children:[e("h5",{class:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Bulk Edit Mode"}),e("p",{class:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"Edit environment variables in .env format. Hidden secrets will be preserved unless explicitly changed."})]})]})}),e("div",{class:"space-y-3",children:[e("div",{class:"flex items-center justify-between",children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Environment Variables (.env format)"}),e("div",{class:"flex gap-2",children:e("button",{onClick:()=>w(I(t.env)),class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Reset to Current"})})]}),e("textarea",{value:L,onChange:D=>w(D.target.value),class:"w-full px-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white font-mono text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none",rows:Math.max(8,Math.min(20,L.split(`
`).length+2)),placeholder:`DATABASE_URL=postgresql://user:pass@localhost/db
API_KEY=your-secret-key-here
NODE_ENV=production
PORT=3000

# Comments are supported
# Use KEY=VALUE format, one per line`,disabled:!r}),e("div",{class:"flex items-center justify-between",children:[e("div",{class:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[e("div",{children:"• Lines starting with # are comments"}),e("div",{children:"• Use KEY=VALUE format"}),e("div",{children:'• Hidden secrets shown as "[HIDDEN SECRET - edit individually to change]"'})]}),e("div",{class:"flex gap-2",children:[e("button",{onClick:()=>{w(I(t.env)),h("Reset to current values","info")},class:"px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Reset"}),e("button",{onClick:T,disabled:!r||!L.trim(),class:"px-4 py-1.5 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e(Ss,{class:"w-3 h-3 mr-1"}),"Apply Changes"]})]})]})]})]})]})]}),P&&e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/50 mb-8",children:[e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e("div",{class:"flex items-center justify-between",children:[e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white flex items-center",children:[e(mt,{class:"w-4 h-4 mr-2 text-purple-500"}),"Environment Templates"]}),e("button",{onClick:()=>M(!1),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"✕"})]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Choose a template to quickly set up common environment configurations"})]}),e("div",{class:"p-6",children:e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(O).map(([D,v])=>e("div",{class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:border-purple-300 dark:hover:border-purple-500 transition-colors",children:[e("div",{class:"flex items-center justify-between mb-3",children:[e("h5",{class:"font-medium text-gray-900 dark:text-white",children:v.name}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:[v.variables.length," vars"]})]}),e("div",{class:"space-y-2 mb-4",children:[v.variables.slice(0,3).map((A,G)=>e("div",{class:"flex items-center text-xs",children:[A.is_secret?e(kr,{class:"w-3 h-3 mr-1.5 text-red-400"}):e(ra,{class:"w-3 h-3 mr-1.5 text-blue-400"}),e("code",{class:"text-gray-600 dark:text-gray-300",children:A.key})]},G)),v.variables.length>3&&e("div",{class:"text-xs text-gray-400",children:["+",v.variables.length-3," more variables"]})]}),e("div",{class:"flex gap-2",children:[e("button",{onClick:()=>{_(D,"add"),M(!1)},class:"flex-1 px-3 py-1.5 text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-md hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:"Add Variables"}),e("button",{onClick:()=>{_(D,"replace"),M(!1)},class:"flex-1 px-3 py-1.5 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-md hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",children:"Replace All"})]})]},D))})})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:[e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white flex items-center",children:[e(tt,{class:"w-4 h-4 mr-2 text-gray-500"}),"Docker Environment Variables"]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Environment variables from the running Docker container"})]}),e("div",{class:"p-6",children:p?e("div",{class:"flex items-center justify-center py-8",children:[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),e("span",{class:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading environment..."})]}):y?e("div",{class:"text-center py-8",children:[e("div",{class:"text-red-500 dark:text-red-400 mb-2",children:"Failed to load Docker environment"}),e("div",{class:"text-sm text-gray-500 dark:text-gray-400",children:y})]}):d?e("div",{class:"space-y-6",children:[Object.keys(d.system_env).length>0&&e("div",{children:[e("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e(tt,{class:"w-3 h-3 mr-1.5 text-orange-500"}),"System Variables (",Object.keys(d.system_env).length,")"]}),e("div",{class:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(d.system_env).map(([D,v])=>e("div",{class:"flex items-center gap-3 p-3 rounded-lg bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700/50",children:[e("div",{class:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",children:e(Ke,{class:"w-3 h-3"})}),e("div",{class:"flex-1 min-w-0",children:e("div",{class:"font-mono text-sm font-medium text-gray-900 dark:text-white",children:D})}),e("div",{class:"flex-1 min-w-0",children:e("div",{class:"font-mono text-sm text-gray-600 dark:text-gray-300 truncate",children:v})}),e("div",{class:"text-xs text-orange-600 dark:text-orange-400 px-2 py-1 bg-orange-100 dark:bg-orange-900/30 rounded-full",children:"Read-only"})]},D))})]}),Object.keys(d.user_env).length>0&&e("div",{children:[e("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e(aa,{class:"w-3 h-3 mr-1.5 text-blue-500"}),"User Variables from Container (",Object.keys(d.user_env).length,")"]}),e("div",{class:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(d.user_env).map(([D,v])=>e("div",{class:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50",children:[e("div",{class:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",children:e(aa,{class:"w-3 h-3"})}),e("div",{class:"flex-1 min-w-0",children:e("div",{class:"font-mono text-sm font-medium text-gray-900 dark:text-white",children:D})}),e("div",{class:"flex-1 min-w-0",children:e("div",{class:"font-mono text-sm text-gray-600 dark:text-gray-300 truncate",children:v})}),e("div",{class:"text-xs text-blue-600 dark:text-blue-400 px-2 py-1 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:"Live"})]},D))})]}),Object.keys(d.system_env).length===0&&Object.keys(d.user_env).length===0&&e("div",{class:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No environment variables found in container"})]}):e("div",{class:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Container not available for environment inspection"})})]})]})}function _d({isOpen:t,onClose:r,serviceName:a,logs:s,isLoading:n,onRefresh:i,autoRefresh:o=!1,onToggleAutoRefresh:l}){const[c,h]=g(""),[m,d]=g(!0),[u,p]=g("ALL"),[x,y]=g(!1),b=Ge(null),[O,_]=g(!0),I=T=>{const D=T.match(/^(\d{4}-\d{2}-\d{2}[T\s]\d{2}:\d{2}:\d{2}(?:\.\d{3})?(?:Z|[+-]\d{2}:\d{2})?)/),v=T.match(/\b(INFO|WARN|ERROR|DEBUG)\b/i);return{timestamp:D?D[1]:new Date().toISOString(),level:v?v[1].toUpperCase():void 0,message:T,raw:T}},L=s.map(I).filter(T=>{const D=!c||T.message.toLowerCase().includes(c.toLowerCase()),v=u==="ALL"||T.level===u;return D&&v});K(()=>{O&&b.current&&(b.current.scrollTop=b.current.scrollHeight)},[L,O]);const w=()=>{if(!b.current)return;const{scrollTop:T,scrollHeight:D,clientHeight:v}=b.current,A=T+v>=D-10;_(A)},k=T=>{switch(T){case"ERROR":return"text-red-500";case"WARN":return"text-yellow-500";case"INFO":return"text-blue-500";case"DEBUG":return"text-gray-500";default:return"text-gray-700 dark:text-gray-300"}},R=()=>{const T=L.map(D=>D.raw).join(`
`);navigator.clipboard.writeText(T)},P=()=>{const T=L.map(G=>G.raw).join(`
`),D=new Blob([T],{type:"text/plain"}),v=URL.createObjectURL(D),A=document.createElement("a");A.href=v,A.download=`${a}-logs-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(v)},M=()=>{b.current&&(b.current.scrollTop=0,_(!1))},C=()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight,_(!0))};return t?e("div",{class:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:e("div",{class:`bg-white dark:bg-gray-900 rounded-xl shadow-2xl transition-all duration-300 ${x?"w-96 h-16":"w-full h-full max-w-7xl max-h-screen"}`,children:[e("div",{class:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:[a," Logs"]})]}),e("div",{class:"text-sm text-gray-500 dark:text-gray-400",children:[L.length," entries"]})]}),e("div",{class:"flex items-center space-x-2",children:[l&&e("button",{onClick:l,class:`p-2 rounded-lg transition-colors ${o?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,title:o?"Disable auto-refresh":"Enable auto-refresh",children:o?e(Fn,{class:"w-4 h-4"}):e(jt,{class:"w-4 h-4"})}),e("button",{onClick:i,disabled:n,class:"p-2 bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50",title:"Refresh logs",children:e(lt,{class:`w-4 h-4 ${n?"animate-spin":""}`})}),e("button",{onClick:()=>y(!x),class:"p-2 bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:x?"Maximize":"Minimize",children:x?e(Vn,{class:"w-4 h-4"}):e(al,{class:"w-4 h-4"})}),e("button",{onClick:r,class:"p-2 bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded-lg hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/30 dark:hover:text-red-400 transition-colors",title:"Close",children:e(Rr,{class:"w-4 h-4"})})]})]}),!x&&e(ae,{children:[e("div",{class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[e("div",{class:"flex items-center space-x-4 flex-1",children:[e("div",{class:"relative",children:[e(dt,{class:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",value:c,onInput:T=>h(T.target.value),placeholder:"Search logs...",class:"pl-10 pr-4 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e("div",{class:"flex items-center space-x-2",children:[e(Qo,{class:"w-4 h-4 text-gray-400"}),e("select",{value:u,onChange:T=>p(T.target.value),class:"py-2 px-3 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"ALL",children:"All Levels"}),e("option",{value:"ERROR",children:"Errors"}),e("option",{value:"WARN",children:"Warnings"}),e("option",{value:"INFO",children:"Info"}),e("option",{value:"DEBUG",children:"Debug"})]})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",checked:m,onChange:T=>d(T.target.checked),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e(Nr,{class:"w-4 h-4 text-gray-400"}),e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Timestamps"})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"flex items-center space-x-1",children:[e("button",{onClick:M,class:"p-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:"Scroll to top",children:e(Vo,{class:"w-4 h-4"})}),e("button",{onClick:C,class:"p-1.5 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",title:"Scroll to bottom",children:e(Zt,{class:"w-4 h-4"})})]}),e("button",{onClick:R,class:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center",children:[e(zn,{class:"w-4 h-4 mr-2"}),"Copy"]}),e("button",{onClick:P,class:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm flex items-center",children:[e(On,{class:"w-4 h-4 mr-2"}),"Download"]})]})]}),e("div",{ref:b,onScroll:w,class:"flex-1 overflow-auto bg-gray-900 text-green-400 font-mono text-sm p-4 min-h-0",style:{height:"calc(100% - 120px)"},children:[L.length===0?e("div",{class:"flex items-center justify-center h-full text-gray-500",children:c||u!=="ALL"?"No logs match your filters":"No logs available"}):e("div",{class:"space-y-1",children:L.map((T,D)=>e("div",{class:"flex hover:bg-gray-800/50 px-2 py-1 rounded",children:[m&&e("span",{class:"text-gray-500 mr-4 shrink-0 w-48",children:new Date(T.timestamp).toLocaleString()}),T.level&&e("span",{class:`mr-3 font-bold shrink-0 w-12 ${k(T.level)}`,children:T.level}),e("span",{class:"break-all",children:T.message})]},D))}),!O&&e("div",{class:"fixed bottom-20 right-8 bg-blue-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center text-sm",children:[e(Zt,{class:"w-4 h-4 mr-1"}),"New logs available",e("button",{onClick:C,class:"ml-2 underline hover:no-underline",children:"Scroll to bottom"})]})]})]})]})}):null}function Cd({serviceId:t,logs:r,logsLoading:a,logsError:s,logsAutoRefresh:n,logsTailLines:i,isScrolledToBottom:o,crashLooping:l,setLogsTailLines:c,setLogsAutoRefresh:h,setIsScrolledToBottom:m,fetchLogs:d}){K(()=>{l&&i<200&&c(200)},[l,i,c]);const[u,p]=g(!1);return e(ae,{children:[a?e("div",{class:"flex items-center justify-center py-12",children:e("div",{class:"text-center",children:[e("div",{class:"w-8 h-8 border-2 border-[#10b981] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Loading logs..."})]})}):s?e("div",{class:"text-center py-12",children:[e("div",{class:"text-red-500 text-xl mb-4 flex items-center justify-center",children:[e("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Logs Error"]}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6",children:s}),e("button",{onClick:d,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Retry"})]}):e("div",{class:"space-y-4",children:[e("div",{class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e("div",{class:"flex flex-col",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Service Logs"]}),l&&e("div",{class:"mt-1 flex items-center text-sm text-amber-600 dark:text-amber-400",children:[e(we,{class:"w-4 h-4 mr-1"}),e("span",{children:"Service in crash loop - showing 200+ lines for troubleshooting"})]})]}),e("div",{class:"flex items-center gap-3 flex-wrap",children:[e("div",{class:"flex items-center gap-2",children:[e("label",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Lines:"}),e("select",{value:i,onChange:x=>c(parseInt(x.target.value)),class:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"25",children:"25"}),e("option",{value:"50",children:"50"}),e("option",{value:"100",children:"100"}),e("option",{value:"200",children:"200"}),e("option",{value:"500",children:"500"})]})]}),e("button",{onClick:()=>h(!n),class:`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors flex items-center ${n?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:[n?e("svg",{class:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 24 24",children:e("circle",{cx:"12",cy:"12",r:"8"})}):e("svg",{class:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 24 24",children:e("rect",{width:"8",height:"8",x:"8",y:"8"})}),n?"Auto":"Manual"]}),e("button",{onClick:d,disabled:a,class:"px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center",children:[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),e("button",{onClick:()=>p(!0),class:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors flex items-center",children:[e(Vn,{class:"w-4 h-4 mr-1.5"}),"Full Screen"]})]})]}),r.length>0?e("div",{class:"relative",children:[e("div",{class:"bg-gray-900 dark:bg-gray-950 rounded-lg overflow-hidden border",children:e("div",{class:"max-h-96 overflow-y-auto scrollbar-hide",onScroll:x=>{const y=x.target,b=y.scrollHeight-y.scrollTop===y.clientHeight;m(b)},children:e("pre",{class:"p-4 text-sm text-green-400 font-mono leading-relaxed whitespace-pre-wrap",children:r.join(`
`)})})}),!o&&e("button",{onClick:()=>{const x=document.querySelector(".max-h-96.overflow-y-auto");x&&(x.scrollTop=x.scrollHeight,m(!0))},class:"absolute bottom-4 right-4 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg transition-all duration-200 hover:scale-105",title:"Scroll to bottom",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),e("div",{class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mt-2 px-2",children:[e("span",{children:[r.length," lines displayed"]}),e("span",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}):e("div",{class:"text-center py-12",children:[e("div",{class:"text-gray-500 text-xl mb-4 flex items-center justify-center",children:[e("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"No Logs"]}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"No logs available for this service."})]})]}),e(_d,{isOpen:u,onClose:()=>p(!1),serviceName:`Service ${t}`,logs:r,isLoading:a,onRefresh:d,autoRefresh:n,onToggleAutoRefresh:()=>h(!n)})]})}function Sd({serviceId:t,serviceStatus:r,containerId:a}){const[s,n]=g(null),[i,o]=g(!1),[l,c]=g(!1),[h,m]=g(null),[d,u]=g(null),[p,x]=g([]),y=`glinrdock_stats_${a||`service_${t}`}`;K(()=>{try{const L=localStorage.getItem(y);if(L){const w=JSON.parse(L),k=Date.now()-15*60*1e3,R=w.filter(P=>P.timestamp>k);R.length>0&&x(R)}}catch(L){console.warn("Failed to load historical data from localStorage:",L)}},[t,a]),K(()=>{if(r!=="running"){n(null),o(!1),m(null);return}let L=null,w=null;const k=()=>{try{c(!0),m(null);const R=window.location.protocol==="https:"?"wss:":"ws:",P=window.location.hostname,C=`${R}//${P}:8080/v1/services/${t}/stats`;console.log("Connecting to WebSocket:",C);const T=localStorage.getItem("glinrdock_token");if(!T){m("Authentication required"),c(!1);return}const D=`token=${encodeURIComponent(T)}`,v=C.includes("?")?`${C}&${D}`:`${C}?${D}`;console.log("=== WebSocket Connection Debug ==="),console.log("Service ID:",t),console.log("Container ID:",a),console.log("Service Status:",r),console.log("Storage Key:",y),console.log("Token available:",!!T),console.log("WebSocket URL:",v),console.log("======================================"),L=new WebSocket(v);const A=setTimeout(()=>{L&&L.readyState===WebSocket.CONNECTING&&(L.close(),m("Connection timeout - WebSocket took too long to connect"),c(!1))},1e4);L.onopen=()=>{console.log("WebSocket connected successfully"),clearTimeout(A),o(!0),c(!1),m(null)},L.onmessage=G=>{console.log("WebSocket message received:",G.data);try{const f=JSON.parse(G.data);console.log("Raw stats data from backend:",f);const S={cpu_usage:O(f.CPUPerc||f.cpu_usage||f.cpu_percent),memory_usage:_(f.MemUsage||f.memory_usage),memory_limit:I(f.MemUsage||f.memory_limit),network_rx:B(f.NetIO,"rx")||f.network_rx||0,network_tx:B(f.NetIO,"tx")||f.network_tx||0};console.log("Transformed stats data:",S);const H=new Date;n(S),u(H),m(null),x(U=>{const V=[...U,{timestamp:H.getTime(),stats:S}].slice(-30);try{localStorage.setItem(y,JSON.stringify(V))}catch(oe){console.warn("Failed to save historical data to localStorage:",oe)}return console.log(`📊 Historical data updated: ${V.length} points, newest: ${b(S.network_rx||0)} RX`),V})}catch(f){console.error("Failed to parse stats data:",f,"Raw data:",G.data),m("Failed to parse stats data")}},L.onclose=G=>{console.log("WebSocket closed:",G.code,G.reason),clearTimeout(A),o(!1),c(!1),L&&G.code!==1e3&&(m(`Connection lost (${G.code}). Reconnecting in 5 seconds...`),w=window.setTimeout(k,5e3))},L.onerror=G=>{console.error("WebSocket error:",G),clearTimeout(A),m("Connection error - WebSocket failed to connect"),c(!1)}}catch(R){m("Failed to connect"),console.error("WebSocket connection error:",R)}};return k(),()=>{L&&(L.close(),L=null),w&&clearTimeout(w)}},[t,r]);const b=L=>{if(L===0)return"0 B";const w=1024,k=["B","KB","MB","GB"],R=Math.floor(Math.log(L)/Math.log(w));return parseFloat((L/Math.pow(w,R)).toFixed(1))+" "+k[R]},O=L=>{if(typeof L=="number")return L;if(!L)return;const w=String(L).match(/^(\d+\.?\d*)%?$/);return w?parseFloat(w[1]):void 0},_=L=>{if(typeof L=="number")return L;if(!L)return;const w=String(L).match(/^(\d+\.?\d*)(B|KiB|MiB|GiB)/);if(w){const k=parseFloat(w[1]),R=w[2],P={B:1,KiB:1024,MiB:1024*1024,GiB:1024*1024*1024};return k*P[R]}},I=L=>{if(typeof L=="number")return L;if(!L)return;const w=String(L).match(/\/\s*(\d+\.?\d*)(B|KiB|MiB|GiB)/);if(w){const k=parseFloat(w[1]),R=w[2],P={B:1,KiB:1024,MiB:1024*1024,GiB:1024*1024*1024};return k*P[R]}},B=(L,w)=>{if(!L)return;const k=String(L).split(" / "),R=w==="rx"?k[0]:k[1];if(!R)return;const P=R.trim().match(/^(\d+\.?\d*)(B|kB|MB|GB)$/);if(P){const M=parseFloat(P[1]),C=P[2],T={B:1,kB:1e3,MB:1e3*1e3,GB:1e3*1e3*1e3};return M*T[C]}};return r!=="running"?e("div",{class:"bg-white/40 dark:bg-gray-800/40 rounded-lg p-4 border-2 border-dashed border-gray-300 dark:border-gray-600",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resource Usage"}),e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Service Not Running"})]}),e("div",{class:"grid grid-cols-2 gap-4",children:[e("div",{class:"text-center",children:[e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Memory"}),e("div",{class:"text-sm font-mono text-gray-400 dark:text-gray-500",children:"--- MB"})]}),e("div",{class:"text-center",children:[e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"CPU"}),e("div",{class:"text-sm font-mono text-gray-400 dark:text-gray-500",children:"--%"})]})]}),e("div",{class:"mt-3 text-xs text-gray-500 dark:text-gray-400 text-center",children:"Start the service to view real-time resource usage"})]}):e("div",{class:"bg-gradient-to-br from-white via-gray-50/90 to-white dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-xl p-6 border border-gray-200/50 dark:border-gray-700/50 shadow-lg",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-3 h-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500"}),e("span",{class:"text-base font-semibold text-gray-800 dark:text-gray-200",children:"Resource Usage"})]}),e("div",{class:"flex items-center space-x-3",children:[d&&e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:["Updated ",new Date(d).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),i?e("div",{class:"flex items-center bg-green-50 dark:bg-green-900/20 px-2 py-1 rounded-full",children:[e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-1.5 animate-pulse"}),e("span",{class:"text-xs font-medium text-green-600 dark:text-green-400",children:"Live"})]}):h?e("div",{class:"flex items-center bg-red-50 dark:bg-red-900/20 px-2 py-1 rounded-full",children:[e("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-1.5"}),e("span",{class:"text-xs font-medium text-red-600 dark:text-red-400",children:"Error"})]}):l?e("div",{class:"flex items-center bg-yellow-50 dark:bg-yellow-900/20 px-2 py-1 rounded-full",children:[e("div",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-1.5 animate-spin"}),e("span",{class:"text-xs font-medium text-yellow-600 dark:text-yellow-400",children:"Connecting..."})]}):e("div",{class:"flex items-center bg-gray-50 dark:bg-gray-900/20 px-2 py-1 rounded-full",children:e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Disconnected"})})]})]}),e("div",{class:"grid grid-cols-2 gap-6",children:[e("div",{class:"relative bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-50 dark:from-blue-900/30 dark:via-indigo-900/20 dark:to-blue-900/30 rounded-xl p-4 border border-blue-200/60 dark:border-blue-700/50 overflow-hidden",children:[e("div",{class:"absolute top-2 right-3 bottom-2 w-56 flex items-center justify-between opacity-25 overflow-hidden",children:e("svg",{width:"100%",height:"100%",viewBox:"0 0 224 80",class:"overflow-visible",children:[e("path",{d:`M 0 40 ${Array.from({length:30},(L,w)=>{const k=Math.floor(w*p.length/30),R=p[k],P=R&&R.stats.memory_limit?R.stats.memory_usage/R.stats.memory_limit*100:10,M=w/29*220,C=70-P*.6;return`L ${M} ${Math.max(5,Math.min(75,C))}`}).join(" ")}`,stroke:"rgba(59, 130, 246, 0.6)",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",class:"transition-all duration-2000"}),Array.from({length:6},(L,w)=>{const k=Math.floor((w+1)*p.length/6),R=p[k],P=R&&R.stats.memory_limit?R.stats.memory_usage/R.stats.memory_limit*100:10,M=(w+1)/6*220,C=70-P*.6,T=Math.floor(w*p.length/6),D=p[T],v=D&&D.stats.memory_limit?D.stats.memory_usage/D.stats.memory_limit*100:10,A=P>v;return e("polygon",{points:`${M-4},${Math.max(5,Math.min(75,C))-4} ${M+4},${Math.max(5,Math.min(75,C))-4} ${M},${Math.max(5,Math.min(75,C))+4}`,fill:A?P>80?"rgba(239, 68, 68, 0.7)":"rgba(234, 179, 8, 0.7)":"rgba(34, 197, 94, 0.7)",class:"transition-all duration-2000",transform:A?`rotate(180, ${M}, ${Math.max(5,Math.min(75,C))})`:""},w)})]})}),e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-400/10 via-indigo-400/20 to-blue-400/10 rounded-xl transition-opacity duration-2000",style:{opacity:s&&s.memory_usage!==void 0&&s.memory_limit!==void 0&&s.memory_limit>0?Math.max(.1,Math.min(.4,s.memory_usage/s.memory_limit)):.1}}),e("div",{class:"relative z-10 flex items-center justify-between",children:e("div",{class:"flex-1",children:[e("div",{class:"flex items-center space-x-2 mb-2",children:e("div",{class:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Memory Usage"})}),e("div",{class:"text-lg font-bold text-blue-800 dark:text-blue-200",children:s&&s.memory_usage!==void 0?`${Math.round(s.memory_usage/1024/1024)} MB`:"--- MB"}),e("div",{class:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:s&&s.memory_usage!==void 0&&s.memory_limit!==void 0&&s.memory_limit>0?`${Math.round(s.memory_usage/s.memory_limit*100)}% of ${Math.round(s.memory_limit/1024/1024)} MB`:"Container Memory"})]})})]}),e("div",{class:"relative bg-gradient-to-br from-emerald-50 via-green-50 to-emerald-50 dark:from-emerald-900/30 dark:via-green-900/20 dark:to-emerald-900/30 rounded-xl p-4 border border-emerald-200/60 dark:border-emerald-700/50 overflow-hidden",children:[e("div",{class:"absolute top-2 right-3 bottom-2 w-56 flex items-center justify-between opacity-25 overflow-hidden",children:e("svg",{width:"100%",height:"100%",viewBox:"0 0 224 80",class:"overflow-visible",children:[e("path",{d:`M 0 40 ${Array.from({length:30},(L,w)=>{const k=Math.floor(w*p.length/30),R=p[k],P=R?R.stats.cpu_usage||0:.2,M=w/29*220,C=70-P*30;return`L ${M} ${Math.max(10,Math.min(70,C))}`}).join(" ")}`,stroke:"rgba(34, 197, 94, 0.6)",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",class:"transition-all duration-2000"}),Array.from({length:6},(L,w)=>{const k=Math.floor((w+1)*p.length/6),R=p[k],P=R?R.stats.cpu_usage||0:.2,M=(w+1)/6*220,C=70-P*30,T=Math.floor(w*p.length/6),D=p[T],v=D?D.stats.cpu_usage||0:.2,A=P>v;return e("polygon",{points:`${M-4},${Math.max(10,Math.min(70,C))-4} ${M+4},${Math.max(10,Math.min(70,C))-4} ${M},${Math.max(10,Math.min(70,C))+4}`,fill:A?P>1?"rgba(239, 68, 68, 0.7)":"rgba(234, 179, 8, 0.7)":"rgba(34, 197, 94, 0.7)",class:"transition-all duration-2000",transform:A?`rotate(180, ${M}, ${Math.max(10,Math.min(70,C))})`:""},w)})]})}),e("div",{class:"absolute inset-0 bg-gradient-to-r from-emerald-400/10 via-green-400/20 to-emerald-400/10 rounded-xl transition-opacity duration-2000",style:{opacity:s&&s.cpu_usage!==void 0?Math.max(.1,Math.min(.4,s.cpu_usage/2)):.1}}),e("div",{class:"relative z-10 flex items-center justify-between",children:e("div",{class:"flex-1",children:[e("div",{class:"flex items-center space-x-2 mb-2",children:e("div",{class:"text-xs font-medium text-emerald-700 dark:text-emerald-300",children:"CPU Usage"})}),e("div",{class:"text-lg font-bold text-emerald-800 dark:text-emerald-200",children:s&&s.cpu_usage!==void 0?`${s.cpu_usage.toFixed(2)}%`:"--%"}),e("div",{class:"text-xs text-emerald-600 dark:text-emerald-400 mt-1",children:s&&s.cpu_usage!==void 0?s.cpu_usage>1?"High Load":s.cpu_usage>.3?"Moderate Usage":"Low Usage":"Host CPU Usage"})]})})]})]}),e("div",{class:"mt-6 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:e("div",{class:"grid grid-cols-2 gap-4",children:[e("div",{class:"relative bg-gradient-to-br from-green-50 via-emerald-50 to-green-50 dark:from-green-900/30 dark:via-emerald-900/20 dark:to-green-900/30 rounded-xl p-4 border border-green-200/60 dark:border-green-700/50 overflow-hidden",children:[e("div",{class:"absolute top-2 right-3 bottom-2 w-56 flex items-end justify-between opacity-30 overflow-hidden",children:Array.from({length:40},(L,w)=>{const k=Math.max(0,p.length-(40-w)),R=k<p.length?p[k]:null,P=R!==null&&w>=40-p.length,M=p.length>0?Math.max(...p.map(A=>A.stats.network_rx||0),1024):1024,C=P&&R?Math.max(25,Math.min(85,(R.stats.network_rx||0)/M*65+25)):P?25:8,T=P&&R?Math.min(1,(R.stats.network_rx||0)/M):0,D=P?Math.max(.3,.4+T*.6):.08,v=w===39&&P;return e("div",{class:"rounded-sm transition-all duration-1000 ease-out",style:{width:"3px",height:`${C}%`,backgroundColor:`rgba(34, 197, 94, ${D})`,transform:v?"scale(1.1)":"scale(1)",borderTop:v?"1px solid rgba(34, 197, 94, 0.9)":"none"}},w)})}),e("div",{class:"absolute inset-0 bg-gradient-to-r from-green-400/10 via-emerald-400/20 to-green-400/10 rounded-xl transition-opacity duration-2000",style:{opacity:Math.max(.1,Math.min(.4,((s==null?void 0:s.network_rx)||0)/(10*1024)))}}),e("div",{class:"relative z-10 flex items-center justify-between",children:e("div",{class:"flex-1",children:[e("div",{class:"flex items-center space-x-2 mb-2",children:e("div",{class:"text-xs font-medium text-green-700 dark:text-green-300",children:"Network RX"})}),e("div",{class:"text-lg font-bold text-green-800 dark:text-green-200",children:(s==null?void 0:s.network_rx)!==void 0?b(s.network_rx):"--- B"}),e("div",{class:"text-xs text-green-600 dark:text-green-400 mt-1",children:e("span",{children:"Incoming Data"})})]})})]}),e("div",{class:"relative bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-50 dark:from-blue-900/30 dark:via-cyan-900/20 dark:to-blue-900/30 rounded-xl p-4 border border-blue-200/60 dark:border-blue-700/50 overflow-hidden",children:[e("div",{class:"absolute top-2 right-3 bottom-2 w-56 flex items-end justify-between opacity-30 overflow-hidden",children:Array.from({length:40},(L,w)=>{const k=Math.max(0,p.length-(40-w)),R=k<p.length?p[k]:null,P=R!==null&&w>=40-p.length,M=p.length>0?Math.max(...p.map(A=>A.stats.network_tx||0),1024):1024,C=P&&R?Math.max(25,Math.min(85,(R.stats.network_tx||0)/M*65+25)):P?25:8,T=P&&R?Math.min(1,(R.stats.network_tx||0)/M):0,D=P?Math.max(.3,.4+T*.6):.08,v=w===39&&P;return e("div",{class:"rounded-sm transition-all duration-1000 ease-out",style:{width:"3px",height:`${C}%`,backgroundColor:`rgba(59, 130, 246, ${D})`,transform:v?"scale(1.1)":"scale(1)",borderTop:v?"1px solid rgba(59, 130, 246, 0.9)":"none"}},w)})}),e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-400/10 via-cyan-400/20 to-blue-400/10 rounded-xl transition-opacity duration-2000",style:{opacity:Math.max(.1,Math.min(.4,((s==null?void 0:s.network_tx)||0)/(8*1024)))}}),e("div",{class:"relative z-10 flex items-center justify-between",children:e("div",{class:"flex-1",children:[e("div",{class:"flex items-center space-x-2 mb-2",children:e("div",{class:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Network TX"})}),e("div",{class:"text-lg font-bold text-blue-800 dark:text-blue-200",children:(s==null?void 0:s.network_tx)!==void 0?b(s.network_tx):"--- B"}),e("div",{class:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:e("span",{children:"Outgoing Data"})})]})})]})]})}),h&&e("div",{class:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:e("div",{class:"text-sm text-red-700 dark:text-red-300 text-center",children:[e("span",{class:"font-medium",children:h})," - Retrying connection..."]})})]})}function Ld({service:t,network:r,networkLoading:a,handleTabChange:s,copyToClipboard:n,generateDockerRunCommand:i,formatTime:o,lastUpdated:l,liveUpdate:c}){return e("div",{class:"flex flex-col xl:grid xl:grid-cols-4 gap-4 md:gap-6",children:[e("div",{class:"xl:col-span-3 space-y-4 md:space-y-6",children:[e("div",{class:"bg-gradient-to-r from-blue-50/90 via-indigo-50/80 to-cyan-50/90 dark:from-blue-900/20 dark:via-indigo-900/20 dark:to-cyan-900/20 rounded-2xl shadow-lg border border-blue-200/50 dark:border-blue-700/50 p-4 sm:p-6",children:[e("div",{class:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mb-4",children:[e("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"Container Status"]}),e("div",{class:"flex items-center space-x-2 text-xs",children:[t.status==="running"&&e("span",{class:"flex items-center text-green-600 dark:text-green-400",children:[e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),"Live"]}),e("span",{class:"text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Updated ",o(l.toISOString())]})]})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 mb-4",children:[e("div",{class:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-3 sm:p-4",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Uptime"}),e(Nr,{class:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"})]}),e("div",{class:"text-sm sm:text-lg font-semibold text-gray-900 dark:text-white",children:t.status==="running"?t.started_at?(()=>{const h=new Date(t.started_at),d=new Date().getTime()-h.getTime(),u=Math.floor(d/(1e3*60*60*24)),p=Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(d%(1e3*60*60)/(1e3*60));return u>0?`${u}d ${p}h ${x}m`:p>0?`${p}h ${x}m`:`${x}m`})():"Unknown":"Not running"}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:t.status==="running"&&t.started_at&&`Started ${o(t.started_at)}`})]}),e("div",{class:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-3 sm:p-4",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Health"}),e(Bo,{class:"w-3 h-3 sm:w-4 sm:h-4 text-blue-500"})]}),e("div",{class:`text-sm sm:text-lg font-semibold ${t.status==="running"?"text-green-600 dark:text-green-400":t.status==="exited"?"text-gray-600 dark:text-gray-400":"text-red-600 dark:text-red-400"}`,children:t.status==="running"?"Healthy":t.status==="exited"?"Stopped":"Unhealthy"}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Last check: 30s ago"})]}),e("div",{class:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-3 sm:p-4",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Restarts"}),e(lt,{class:"w-3 h-3 sm:w-4 sm:h-4 text-orange-500"})]}),e("div",{class:"text-sm sm:text-lg font-semibold text-gray-900 dark:text-white",children:t.restart_count||0}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400",children:t.restart_count&&t.restart_count>0&&t.last_restart_at?`Last: ${o(t.last_restart_at)}`:"Never restarted"})]})]}),e(Sd,{serviceId:t.id,serviceStatus:t.status,containerId:t.container_id})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-4 sm:p-6",children:[e("h3",{class:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Runtime Information"}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{class:"space-y-2",children:[e("div",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Container ID"}),e("div",{class:"font-mono text-xs sm:text-sm bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg break-all",children:t.container_id||"N/A"})]}),e("div",{class:"space-y-2",children:[e("div",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Status"}),e("div",{class:"flex items-center space-x-2",children:[e(Ra,{status:t.status}),t.state_reason&&e("span",{class:"text-xs text-gray-500 dark:text-gray-400",title:t.state_reason,children:["(",t.state_reason,")"]})]})]}),e("div",{class:"space-y-2",children:[e("div",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Created"}),e("div",{class:"text-sm text-gray-900 dark:text-white",children:o(t.created_at)})]}),e("div",{class:"space-y-2",children:[e("div",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Last Deploy"}),e("div",{class:"text-sm text-gray-900 dark:text-white",children:t.last_deploy_at?o(t.last_deploy_at):"Never"})]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Networking"}),e("button",{onClick:()=>s("networking"),class:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center",children:["View Details",e("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),r&&e("div",{class:"mb-4 p-3 bg-blue-50/50 dark:bg-blue-900/20 rounded-lg border border-blue-200/50 dark:border-blue-700/50",children:[e("div",{class:"flex items-center justify-between mb-2",children:[e("span",{class:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Service Alias"}),e("button",{onClick:()=>n(r.alias,"Service alias"),class:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",title:"Copy alias",children:"Copy"})]}),e("code",{class:"text-sm font-mono text-gray-900 dark:text-white bg-white/80 dark:bg-gray-800/80 px-2 py-1 rounded",children:r.alias}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["on"," ",e("code",{class:"text-xs bg-gray-100 dark:bg-gray-700 px-1 rounded",children:r.network})]})]}),t.ports&&t.ports.length>0?e("div",{class:"space-y-3",children:[e("div",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Port Mappings"}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-xs text-gray-600 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700 pb-2",children:[e("div",{children:"External"}),e("div",{children:"Internal"}),e("div",{children:"Status"})]}),t.ports.map((h,m)=>e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm items-center",children:[e("div",{class:"font-mono text-blue-600 dark:text-blue-400",children:h.host}),e("div",{class:"font-mono text-green-600 dark:text-green-400",children:[h.container,"/tcp"]}),e("div",{class:"flex items-center",children:[e("span",{class:"w-2 h-2 bg-green-400 rounded-full mr-2"}),e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Active"})]})]},m))]}):e("div",{class:"text-center py-4",children:[e("svg",{class:"w-8 h-8 mx-auto mb-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 717.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),e("p",{class:"text-gray-500 dark:text-gray-400 text-sm",children:"No external port mappings"}),r&&e("p",{class:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Service accessible internally via"," ",e("code",{class:"bg-gray-100 dark:bg-gray-700 px-1 rounded",children:r.alias})]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Volumes"}),t.volumes&&t.volumes.length>0?e("div",{class:"space-y-3",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-600 dark:text-gray-400 font-medium border-b border-gray-200 dark:border-gray-700 pb-2",children:[e("div",{children:"Host Path"}),e("div",{children:"Container Path"}),e("div",{children:"Mode"})]}),t.volumes.map((h,m)=>e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[e("div",{class:"font-mono text-blue-600 dark:text-blue-400 break-all",children:h.host}),e("div",{class:"font-mono text-green-600 dark:text-green-400 break-all",children:h.container}),e("div",{class:h.ro?"text-yellow-600 dark:text-yellow-400":"text-gray-500 dark:text-gray-400",children:h.ro?"Read-only":"Read-write"})]},m))]}):e("p",{class:"text-gray-500 dark:text-gray-400 text-sm",children:"No volume mounts configured"})]})]}),e("div",{class:"space-y-6",children:[e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e("div",{class:"space-y-3",children:[e("button",{onClick:()=>n(i(),"Docker run command"),class:"w-full flex items-center px-3 py-2 text-sm text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy Docker Run Command"]}),e("button",{onClick:()=>n(t.id.toString(),"Service ID"),class:"w-full flex items-center px-3 py-2 text-sm text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Copy Service ID"]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Environment"}),e("div",{class:"flex items-center justify-between",children:[e("span",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Variables count"}),e(Wt,{variant:"info",size:"sm",children:[t.env_summary_count," vars"]})]}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Environment variables are hidden for security"})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Live Status"}),e("div",{class:"space-y-2",children:[e("div",{class:"flex items-center justify-between text-sm",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Last updated"}),e("span",{class:"text-gray-900 dark:text-white",children:o(l.toISOString())})]}),e("div",{class:"flex items-center justify-between text-sm",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Auto refresh"}),e("span",{class:c?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400",children:c?"Enabled":"Disabled"})]})]})]})]})]})}function Md({config:t,originalConfig:r,hasChanges:a,saveLoading:s,canDeploy:n,saveConfig:i,updateConfig:o,handleTabChange:l}){const[c,h]=g(!1),[m,d]=g([]),u=()=>{if(!r)return[];const y=[];return r.name!==t.name&&y.push("Service name change will recreate the container"),r.image!==t.image&&y.push("Image change will recreate the container and pull new image"),JSON.stringify(r.ports)!==JSON.stringify(t.ports)&&y.push("Port changes will recreate the container"),JSON.stringify(r.volumes)!==JSON.stringify(t.volumes)&&y.push("Volume changes will recreate the container"),JSON.stringify(r.env)!==JSON.stringify(t.env)&&y.push("Environment variable changes will recreate the container"),y},p=async()=>{const y=u();y.length>0?(d(y),h(!0)):await i()},x=async()=>{h(!1),await i()};return e("div",{class:"space-y-8",children:[e("div",{class:"bg-gradient-to-r from-orange-50/90 via-red-50/80 to-pink-50/90 dark:from-orange-900/20 dark:via-red-900/20 dark:to-pink-900/20 rounded-xl p-5 border border-orange-200/50 dark:border-orange-700/50",children:e("div",{class:"flex items-start justify-between",children:[e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0",children:e(we,{class:"w-5 h-5 text-orange-600 dark:text-orange-400 mt-0.5"})}),e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Service Configuration"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Configuration changes have varying impacts. Image changes require full rebuild, while basic settings typically need container restart."}),e("div",{class:"flex items-center space-x-4",children:[e(Aa,{impact:Xe.app_restart,showTooltip:!0}),e("span",{class:"text-xs text-gray-500 dark:text-gray-400",children:"Typical Impact"})]})]})]}),a&&e("button",{onClick:p,disabled:s,class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white text-sm font-medium rounded-lg transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-green-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:s?e(ae,{children:[e("div",{class:"w-4 h-4 mr-2 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):e(ae,{children:[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})]})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e("svg",{class:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Basic Settings"]}),e("div",{class:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e("div",{class:"space-y-2",children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center justify-between",children:[e("span",{children:["Service Name *",e("span",{class:"text-xs text-gray-500 ml-1",children:"(must be unique)"})]}),e(gr,{impact:mr("name","","")})]}),e("input",{type:"text",value:t.name,onChange:y=>o("name",y.target.value),disabled:!n,class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"e.g., my-postgres-db"}),!t.name.trim()&&e("p",{class:"text-xs text-red-500 flex items-center mt-1",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Service name is required"]}),e("p",{class:"text-xs text-orange-600 dark:text-orange-400 flex items-center",children:[e(we,{class:"w-3 h-3 mr-1"}),"Changing service name requires container restart"]})]}),e("div",{class:"space-y-2",children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center justify-between",children:[e("span",{children:["Container Image *",e("span",{class:"text-xs text-gray-500 ml-1",children:"(repository:tag)"})]}),e(gr,{impact:mr("image","","")})]}),e("input",{type:"text",value:t.image,onChange:y=>o("image",y.target.value),disabled:!n,class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"e.g., postgres:15-alpine"}),!t.image.trim()&&e("p",{class:"text-xs text-red-500 flex items-center mt-1",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Container image is required"]}),e("p",{class:"text-xs text-red-600 dark:text-red-400 flex items-center",children:[e(we,{class:"w-3 h-3 mr-1"}),"Changing container image requires full rebuild (longest downtime)"]})]})]})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e("svg",{class:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),"Documentation"]}),e("div",{class:"space-y-2",children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center justify-between",children:[e("span",{children:["Service Description",e("span",{class:"text-xs text-gray-500 ml-1",children:"(optional)"})]}),e(gr,{impact:mr("description","","")})]}),e("textarea",{value:t.description||"",onChange:y=>o("description",y.target.value),disabled:!n,rows:4,class:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-y",placeholder:"Describe what this service does, its purpose, and any important notes..."}),e("div",{class:"space-y-1",children:[e("p",{class:"text-xs text-gray-500",children:"Good documentation helps your team understand this service's role in your infrastructure."}),e("p",{class:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Description changes have no impact on running services"]})]})]})]}),e("div",{class:"bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20 rounded-xl border border-orange-200/50 dark:border-orange-700/50 p-4",children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{children:[e("h4",{class:"text-sm font-medium text-gray-900 dark:text-white",children:"Advanced Configuration"}),e("p",{class:"text-xs text-gray-600 dark:text-gray-400",children:"Environment variables, ports, and volumes are managed in separate tabs"})]})]}),e("div",{class:"flex space-x-2",children:[e("button",{onClick:()=>l("env"),class:"px-3 py-1.5 text-xs font-medium text-green-700 bg-green-100 dark:text-green-300 dark:bg-green-900/30 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:"Environment"}),e("button",{onClick:()=>l("ports"),class:"px-3 py-1.5 text-xs font-medium text-blue-700 bg-blue-100 dark:text-blue-300 dark:bg-blue-900/30 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:"Ports"}),e("button",{onClick:()=>l("volumes"),class:"px-3 py-1.5 text-xs font-medium text-purple-700 bg-purple-100 dark:text-purple-300 dark:bg-purple-900/30 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors",children:"Volumes"})]})]})}),c&&e("div",{class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 max-w-md w-full p-6 shadow-2xl",children:[e("div",{class:"flex items-start mb-4",children:[e("div",{class:"flex-shrink-0",children:e(we,{class:"w-6 h-6 text-red-500"})}),e("div",{class:"ml-3",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Confirm Destructive Changes"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:"These changes will recreate the container and any data not stored in volumes will be lost:"})]})]}),e("div",{class:"mb-4",children:e("ul",{class:"space-y-2",children:m.map((y,b)=>e("li",{class:"flex items-start text-sm text-gray-700 dark:text-gray-300",children:[e("span",{class:"inline-block w-1.5 h-1.5 bg-red-500 rounded-full mt-2 mr-2 flex-shrink-0"}),y]},b))})}),e("div",{class:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 mb-4",children:e("p",{class:"text-sm text-yellow-800 dark:text-yellow-200",children:["💡 ",e("strong",{children:"Tip:"})," Use volume mounts to persist data across container recreations."]})}),e("div",{class:"flex justify-end space-x-3",children:[e("button",{onClick:()=>h(!1),class:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),e("button",{onClick:x,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Continue & Save"})]})]})})]})}function jd({config:t,canDeploy:r,updateConfig:a}){var l;const s=t.ports&&t.ports.length>0,n=Xe.container_restart,o=s?t.ports.slice(0,3).map(c=>{const h=[80,8080,3e3,8e3,5e3].includes(c.host),m=[443,8443].includes(c.host),d=[5432,3306,27017].includes(c.host);let u="TCP",p=`localhost:${c.host}`,x="Generic TCP connection";return h?(u="HTTP",p=`http://localhost:${c.host}`,x="Web application"):m?(u="HTTPS",p=`https://localhost:${c.host}`,x="Secure web application"):d&&(u="DB",p=`localhost:${c.host}`,x="Database connection"),{...c,protocol:u,example:p,description:x}}):[];return e("div",{class:"space-y-6",children:[e("div",{class:"bg-gradient-to-r from-orange-50/90 via-yellow-50/80 to-red-50/90 dark:from-orange-900/20 dark:via-yellow-900/20 dark:to-red-900/20 rounded-xl p-5 border border-orange-200/50 dark:border-orange-700/50",children:e("div",{class:"flex items-start justify-between",children:e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0",children:e(we,{class:"w-5 h-5 text-orange-600 dark:text-orange-400 mt-0.5"})}),e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Port Configuration"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Port changes require a container restart and will cause brief downtime. Configure external access to your containerized services."}),e(Aa,{impact:n,showTooltip:!0})]})]})})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:e(Kn,{value:t.ports,onChange:c=>a("ports",c),disabled:!r})}),s&&e("div",{class:"bg-blue-50/90 dark:bg-blue-900/20 rounded-xl p-6 border border-blue-200/50 dark:border-blue-700/50",children:[e("div",{class:"flex items-center space-x-2 mb-4",children:[e(Er,{class:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e("h4",{class:"text-md font-semibold text-gray-900 dark:text-white",children:"Service Access"})]}),e("div",{class:"space-y-3",children:o.map((c,h)=>e("div",{class:"flex items-center justify-between p-3 bg-white/60 dark:bg-gray-800/60 rounded-lg",children:[e("div",{class:"flex items-center space-x-3",children:[e("span",{class:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 rounded",children:c.protocol}),e("div",{children:[e("code",{class:"text-sm font-mono text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:c.example}),e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[c.description," • Container port ",c.container," → Host port ",c.host]})]})]}),e("button",{onClick:()=>navigator.clipboard.writeText(c.example),class:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Copy to clipboard",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]},h))})]}),e("div",{class:"bg-gray-50/90 dark:bg-gray-800/90 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e("div",{class:"flex items-center space-x-2 mb-4",children:[e(Bt,{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e("h4",{class:"text-md font-semibold text-gray-900 dark:text-white",children:"Port Configuration Guide"})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{class:"space-y-3",children:[e("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Common Port Types"}),e("div",{class:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[e("div",{class:"flex justify-between",children:[e("span",{children:"Web (HTTP):"}),e("code",{class:"text-xs bg-gray-100 dark:bg-gray-700 px-1 py-0.5 rounded",children:"80, 8080, 3000"})]}),e("div",{class:"flex justify-between",children:[e("span",{children:"Web (HTTPS):"}),e("code",{class:"text-xs bg-gray-100 dark:bg-gray-700 px-1 py-0.5 rounded",children:"443, 8443"})]}),e("div",{class:"flex justify-between",children:[e("span",{children:"Database:"}),e("code",{class:"text-xs bg-gray-100 dark:bg-gray-700 px-1 py-0.5 rounded",children:"5432, 3306, 27017"})]}),e("div",{class:"flex justify-between",children:[e("span",{children:"Cache/Redis:"}),e("code",{class:"text-xs bg-gray-100 dark:bg-gray-700 px-1 py-0.5 rounded",children:"6379"})]})]})]}),e("div",{class:"space-y-3",children:[e("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Best Practices"}),e("ul",{class:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[e("li",{class:"flex items-start",children:[e(ut,{class:"w-3 h-3 text-green-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Use ports above 1024 to avoid privilege requirements"]}),e("li",{class:"flex items-start",children:[e(ut,{class:"w-3 h-3 text-blue-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Avoid common system ports (22, 25, 53, etc.)"]}),e("li",{class:"flex items-start",children:[e(ut,{class:"w-3 h-3 text-orange-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Use consistent port ranges per environment"]}),e("li",{class:"flex items-start",children:[e(ut,{class:"w-3 h-3 text-purple-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Document port purposes in service descriptions"]})]})]})]})]}),((l=t.ports)==null?void 0:l.some(c=>[22,21,23,25,53,80,443,993,995].includes(c.host)))&&e("div",{class:"bg-red-50/90 dark:bg-red-900/20 rounded-xl p-4 border border-red-200/50 dark:border-red-700/50",children:e("div",{class:"flex items-start space-x-2",children:[e(we,{class:"w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),e("div",{children:[e("h5",{class:"text-sm font-medium text-red-800 dark:text-red-200 mb-1",children:"Security Notice"}),e("p",{class:"text-xs text-red-700 dark:text-red-300",children:"You're using system or well-known ports. Ensure proper security measures and firewall configuration to prevent unauthorized access."})]})]})})]})}function Pd({config:t,hasChanges:r,canDeploy:a,updateConfig:s,showToast:n}){var p;const[i,o]=g(!1),[l,c]=g({host:"",container:"",ro:!1}),h=()=>{if(!l.host||!l.container){n("Please enter both host and container paths","error");return}const x={host:l.host,container:l.container,ro:l.ro||!1},y=[...t.volumes||[],x];s("volumes",y),c({host:"",container:"",ro:!1}),o(!1),n("Volume mapping added","success")},m=x=>{var b;const y=((b=t.volumes)==null?void 0:b.filter((O,_)=>_!==x))||[];s("volumes",y),n("Volume mapping removed","success")},d=async x=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(x),n("Copied to clipboard","success");else{const y=document.createElement("textarea");y.value=x,document.body.appendChild(y),y.focus(),y.select();try{document.execCommand("copy"),n("Copied to clipboard","success")}catch{n("Failed to copy","error")}document.body.removeChild(y)}}catch{n("Failed to copy","error")}},u=x=>{var y,b;return(y=x.host)!=null&&y.startsWith("/var/lib/docker/volumes/")?{type:"named",icon:Me,color:"text-purple-500"}:(b=x.host)!=null&&b.startsWith("/")?{type:"bind",icon:pt,color:"text-blue-500"}:{type:"volume",icon:Ct,color:"text-green-500"}};return e("div",{class:"p-6 space-y-8",children:[e("div",{class:"bg-gradient-to-r from-purple-50/90 via-blue-50/80 to-indigo-50/90 dark:from-purple-900/20 dark:via-blue-900/20 dark:to-indigo-900/20 rounded-xl p-5 border border-purple-200/50 dark:border-purple-700/50",children:e("div",{class:"flex items-start justify-between",children:e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0",children:e(we,{class:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5"})}),e("div",{children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Volume Configuration"}),e("p",{class:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Volume changes require container restart and will cause brief downtime. Plan volume mappings carefully for data persistence and security."}),e(Aa,{impact:Xe.container_restart,showTooltip:!0})]})]})})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:[e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700",children:e("div",{class:"flex items-center justify-between",children:[e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white flex items-center",children:[e(Ct,{class:"w-4 h-4 mr-2 text-gray-500"}),"Volume Mappings (",((p=t.volumes)==null?void 0:p.length)||0,")"]}),a&&e("button",{onClick:()=>o(!i),class:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:i?"Cancel":"Add Volume"})]})}),e("div",{class:"p-6",children:[!t.volumes||t.volumes.length===0?e("div",{class:"text-center py-8",children:[e(Ct,{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No volume mappings"}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-4",children:"Add volume mappings to persist data or share files"})]}):e("div",{class:"space-y-3",children:t.volumes.map((x,y)=>{const b=u(x),O=b.icon;return e("div",{class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e("div",{class:"flex items-center space-x-4",children:[e(O,{class:`w-5 h-5 ${b.color}`}),e("div",{class:"flex items-center space-x-3",children:e("div",{class:"flex flex-col",children:[e("div",{class:"flex items-center space-x-2",children:[e("span",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Host:"}),e("code",{class:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded font-mono text-sm",children:x.host})]}),e("div",{class:"flex items-center space-x-2 mt-1",children:[e("span",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase",children:"Container:"}),e("code",{class:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded font-mono text-sm",children:x.container})]})]})}),e("div",{class:"flex items-center space-x-2",children:[e("span",{class:`px-2 py-1 rounded text-xs font-medium ${b.type==="bind"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300":b.type==="named"?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300":"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"}`,children:b.type}),x.ro&&e("span",{class:"px-2 py-1 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded text-xs",children:"read-only"})]})]}),e("div",{class:"flex items-center space-x-2",children:[e("button",{onClick:()=>d(`${x.host}:${x.container}${x.ro?":ro":""}`),class:"p-2 text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 rounded transition-colors",title:"Copy volume mapping",children:e(Ke,{class:"w-4 h-4"})}),a&&e("button",{onClick:()=>m(y),class:"p-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded transition-colors",title:"Delete volume mapping",children:e(et,{class:"w-4 h-4"})})]})]},y)})}),i&&e("div",{class:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[e("div",{class:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700",children:e("div",{class:"flex items-start space-x-2",children:[e(we,{class:"w-4 h-4 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e("div",{children:[e("p",{class:"text-xs text-amber-800 dark:text-amber-200 font-medium",children:"Security Notice:"}),e("p",{class:"text-xs text-amber-700 dark:text-amber-300 mt-1",children:"Volume mappings can expose host filesystem to containers. Ensure paths are secure and follow principle of least privilege."})]})]})}),e("div",{class:"space-y-4",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Host Path"}),e("input",{type:"text",value:l.host,onInput:x=>c({...l,host:x.target.value}),placeholder:"/host/path or volume_name",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Container Path"}),e("input",{type:"text",value:l.container,onInput:x=>c({...l,container:x.target.value}),placeholder:"/container/path",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),e("div",{class:"flex items-center",children:[e("input",{type:"checkbox",id:"readonly",checked:l.ro,onChange:x=>c({...l,ro:x.target.checked}),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e("label",{htmlFor:"readonly",class:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Mount as read-only"})]}),e("div",{class:"flex justify-end space-x-3",children:[e("button",{onClick:()=>o(!1),class:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),e("button",{onClick:h,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center",children:[e(yt,{class:"w-4 h-4 mr-2"}),"Add Volume"]})]})]})]})]})]}),e("div",{class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:[e("div",{class:"p-6 border-b border-gray-200 dark:border-gray-700",children:e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white flex items-center",children:[e(Ke,{class:"w-4 h-4 mr-2 text-gray-500"}),"Volume Types"]})}),e("div",{class:"p-6",children:e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e("div",{class:"space-y-3",children:[e("div",{class:"flex items-center space-x-2",children:[e(pt,{class:"w-5 h-5 text-blue-500"}),e("h5",{class:"font-medium text-gray-900 dark:text-white",children:"Bind Mounts"})]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Mount a host directory directly into the container. Changes are immediately visible on both sides."}),e("code",{class:"block text-xs bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-blue-800 dark:text-blue-300",children:"/host/path:/container/path"})]}),e("div",{class:"space-y-3",children:[e("div",{class:"flex items-center space-x-2",children:[e(Ct,{class:"w-5 h-5 text-green-500"}),e("h5",{class:"font-medium text-gray-900 dark:text-white",children:"Named Volumes"})]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Docker-managed volumes that persist data independently of the container lifecycle."}),e("code",{class:"block text-xs bg-green-50 dark:bg-green-900/20 p-2 rounded text-green-800 dark:text-green-300",children:"volume_name:/container/path"})]}),e("div",{class:"space-y-3",children:[e("div",{class:"flex items-center space-x-2",children:[e(Me,{class:"w-5 h-5 text-purple-500"}),e("h5",{class:"font-medium text-gray-900 dark:text-white",children:"Anonymous Volumes"})]}),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",children:"Temporary volumes created by Docker that are removed when the container is deleted."}),e("code",{class:"block text-xs bg-purple-50 dark:bg-purple-900/20 p-2 rounded text-purple-800 dark:text-purple-300",children:"/container/path"})]})]})})]}),e("div",{class:"bg-gray-50/90 dark:bg-gray-800/90 rounded-xl border border-gray-200 dark:border-gray-700 p-6",children:[e("div",{class:"flex items-center space-x-2 mb-4",children:[e(Ke,{class:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e("h4",{class:"text-md font-semibold text-gray-900 dark:text-white",children:"Volume Best Practices"})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e("div",{class:"space-y-3",children:[e("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Security Guidelines"}),e("ul",{class:"space-y-2 text-xs text-gray-600 dark:text-gray-400",children:[e("li",{class:"flex items-start",children:[e(we,{class:"w-3 h-3 text-amber-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Avoid mounting sensitive system directories (/etc, /proc, /sys)"]}),e("li",{class:"flex items-start",children:[e(we,{class:"w-3 h-3 text-blue-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Use read-only mounts when container doesn't need write access"]}),e("li",{class:"flex items-start",children:[e(we,{class:"w-3 h-3 text-green-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Prefer named volumes for persistent data over bind mounts"]})]})]}),e("div",{class:"space-y-3",children:[e("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Performance & Reliability"}),e("ul",{class:"space-y-2 text-xs text-gray-600 dark:text-gray-400",children:[e("li",{class:"flex items-start",children:[e(Me,{class:"w-3 h-3 text-purple-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Use named volumes for databases and persistent application data"]}),e("li",{class:"flex items-start",children:[e(Ct,{class:"w-3 h-3 text-green-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Bind mounts are ideal for development with live code reloading"]}),e("li",{class:"flex items-start",children:[e(pt,{class:"w-3 h-3 text-blue-500 mr-1.5 mt-0.5 flex-shrink-0"}),"Consider volume drivers for network storage or special requirements"]})]})]})]})]})]})}function Nd({network:t,links:r,aliases:a=[],editingAlias:s,setEditingAlias:n,newAlias:i,setNewAlias:o,connectivityTest:l,setConnectivityTest:c,showLinksGuide:h,setShowLinksGuide:m,canDeploy:d,runNetworkDiagnostics:u,fetchNetworking:p,handleAliasEdit:x,testConnectivity:y,copyToClipboard:b,setNetwork:O,setError:_}){var I;return e("div",{class:"p-6",children:t?t?e("div",{class:"space-y-6",children:[e("div",{class:"bg-gradient-to-r from-blue-50/90 via-indigo-50/80 to-purple-50/90 dark:from-blue-900/20 dark:via-indigo-900/20 dark:to-purple-900/20 rounded-2xl shadow-lg border border-blue-200/50 dark:border-blue-700/50 p-6",children:[e("div",{class:"flex items-center justify-between mb-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"Network Overview"]}),e("div",{class:"flex items-center gap-2",children:[e("button",{onClick:u,class:"px-3 py-1.5 text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-800/50 rounded-lg transition-colors flex items-center",children:[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Diagnostics"]}),e("button",{onClick:p,class:"px-3 py-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors flex items-center",children:[e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e("div",{class:"space-y-3",children:[e("div",{class:"flex items-center justify-between",children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Service Aliases"}),d&&e("button",{onClick:()=>{var B;n(!s),s||o(((B=t.aliases)==null?void 0:B[0])||t.alias)},class:"text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:s?"Cancel":"Edit"})]}),s&&d?e("div",{class:"space-y-2",children:[e("input",{type:"text",value:i,onChange:B=>o(B.target.value),class:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new service alias"}),e("div",{class:"flex items-center gap-2",children:[e("button",{onClick:()=>x(i),disabled:!i.trim()||i===(((I=t.aliases)==null?void 0:I[0])||t.alias),class:"px-2 py-1 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded",children:"Save"}),e("span",{class:"text-xs text-amber-600 dark:text-amber-400 flex items-center",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Requires restart"]})]})]}):e("div",{class:"space-y-2",children:a&&a.length>0||t.aliases&&t.aliases.length>0?(a&&a.length>0?a:t.aliases).map((B,L)=>e("div",{class:"flex items-center justify-between p-3 bg-white/80 dark:bg-gray-700/80 rounded-lg border border-gray-200 dark:border-gray-600",children:[e("div",{class:"flex items-center gap-2",children:[e("code",{class:"text-sm font-mono text-gray-900 dark:text-white",children:B}),L===0&&e("span",{class:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:"Short"}),B.includes(".local")&&e("span",{class:"text-xs text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900/30 px-2 py-0.5 rounded",children:"Full"})]}),e("button",{onClick:()=>b(B,"Service alias"),class:"p-1.5 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Copy alias",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]},L)):e("div",{class:"flex items-center justify-between p-3 bg-white/80 dark:bg-gray-700/80 rounded-lg border border-gray-200 dark:border-gray-600",children:[e("code",{class:"text-sm font-mono text-gray-900 dark:text-white",children:t.alias}),e("button",{onClick:()=>b(t.alias,"Service alias"),class:"p-1.5 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",title:"Copy alias",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})})]}),e("div",{class:"space-y-3",children:[e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Network Details"}),e("div",{class:"space-y-2",children:[e("div",{class:"flex justify-between text-sm",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Project Network:"}),e("code",{class:"text-gray-900 dark:text-white bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded",children:t.project_network||t.network})]}),t.ports_internal&&t.ports_internal.length>0&&e("div",{class:"flex justify-between text-sm",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Internal Ports:"}),e("div",{class:"flex gap-1",children:t.ports_internal.map((B,L)=>e("code",{class:"text-xs text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/30 px-1.5 py-0.5 rounded",children:[B.container,"/",B.protocol]},L))})]})]})]})]})]}),e("div",{class:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Connection Examples"]}),t.ports_internal&&t.ports_internal.length>0&&e("div",{class:"space-y-4",children:[e("div",{class:"space-y-2",children:[e("div",{class:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"DNS Address:"}),e("div",{class:"flex items-center justify-between p-3 bg-gray-900 dark:bg-gray-950 rounded-lg border",children:[e("code",{class:"text-sm font-mono text-green-400 flex-1",children:t.dns_hint}),e("button",{onClick:()=>b(t.dns_hint,"DNS address"),class:"p-1.5 text-gray-400 hover:text-green-400 hover:bg-gray-800 dark:hover:bg-gray-700 rounded transition-colors",title:"Copy DNS address",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e("div",{class:"space-y-2",children:[e("div",{class:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:"Test Command:"}),e("div",{class:"flex items-center justify-between p-3 bg-gray-900 dark:bg-gray-950 rounded-lg border",children:[e("code",{class:"text-sm font-mono text-green-400 flex-1 break-all",children:t.curl_hint}),e("button",{onClick:()=>b(t.curl_hint,"Test command"),class:"p-1.5 text-gray-400 hover:text-green-400 hover:bg-gray-800 dark:hover:bg-gray-700 rounded transition-colors ml-2",title:"Copy curl command",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Connectivity Test"]}),e("div",{class:"space-y-4",children:[e("div",{class:"flex gap-2",children:[e("input",{type:"text",value:l.target,onChange:B=>c(L=>({...L,target:B.target.value})),placeholder:"service-alias or hostname",class:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:l.loading}),e("button",{onClick:()=>y(l.target),disabled:l.loading||!l.target.trim(),class:"px-4 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors flex items-center",children:l.loading?e("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}):"Test"})]}),l.result&&e("div",{class:`p-3 rounded-lg text-sm ${l.result.includes("✅")?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-300 border border-red-200 dark:border-red-800"}`,children:l.result})]})]})]}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-6",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e("svg",{class:"w-5 h-5 mr-2 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Service Links (",r.length,")"]}),e("button",{onClick:()=>m(!0),class:"text-xs text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 flex items-center",children:[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"How to Connect?"]})]}),r.length===0?e("div",{class:"text-center py-8",children:[e("div",{class:"mb-4",children:e("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e("h4",{class:"text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:"No Service Links Configured"}),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-4 max-w-md mx-auto",children:"Service links allow this container to communicate with other services using simple aliases instead of IP addresses."}),e("div",{class:"space-y-2 text-xs text-gray-400 dark:text-gray-500",children:[e("p",{children:"• Links create DNS entries for easy service discovery"}),e("p",{children:"• Services can talk to each other using their alias names"}),e("p",{children:"• No need to remember IP addresses or ports"})]}),e("button",{onClick:()=>m(!0),class:"mt-4 px-4 py-2 text-sm text-purple-600 dark:text-purple-400 border border-purple-300 dark:border-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-lg transition-colors",children:"Learn How to Connect Services"})]}):e("div",{class:"space-y-4",children:[e("div",{class:"text-xs text-gray-500 dark:text-gray-400 bg-purple-50/50 dark:bg-purple-900/20 p-3 rounded-lg",children:[e("strong",{class:"text-gray-700 dark:text-gray-300",children:"Connected Services:"})," ","This service can communicate with the following services using their aliases."]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(B=>e("div",{class:"flex items-center justify-between p-4 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:[e("div",{class:"flex-1",children:[e("div",{class:"flex items-center mb-2",children:[e("svg",{class:"w-4 h-4 text-purple-600 dark:text-purple-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12l5 5L20 7"})}),e("span",{class:"text-sm font-medium text-gray-900 dark:text-white",children:B.name})]}),e("div",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:["Access via:"," ",e("code",{class:"bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded font-mono",children:B.alias})]}),e("div",{class:"text-xs text-purple-600 dark:text-purple-400",children:["Example:"," ",e("code",{class:"bg-purple-100 dark:bg-purple-900/30 px-1 rounded",children:["curl http://",B.alias,"/"]})]})]}),e("button",{onClick:()=>y(B.alias),class:"p-2 text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 hover:bg-purple-100 dark:hover:bg-purple-800/50 rounded-lg transition-colors",title:"Test connectivity",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]},B.id))})]})]})]}):e("div",{class:"text-center py-12",children:[e("div",{class:"text-gray-500 text-xl mb-4",children:"🔌 Network Information Unavailable"}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6",children:"Unable to load networking information for this service."}),e("button",{onClick:()=>{O(null),_(null),p()},class:"px-4 py-2 text-sm font-medium text-[#9c40ff] hover:text-[#8b2bff] border border-[#9c40ff] hover:border-[#8b2bff] rounded-lg transition-colors",children:"Retry"})]}):e("div",{class:"flex items-center justify-center py-12",children:e("div",{class:"text-center",children:[e("div",{class:"w-8 h-8 border-2 border-[#10b981] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Loading networking information..."})]})})})}function Ed({service:t,config:r,canDeploy:a,showToast:s,onServiceDeleted:n}){const[i,o]=g(!1),[l,c]=g(!1),[h,m]=g(""),d=async()=>{if(h!==t.name){s("Please type the service name exactly as shown","error");return}c(!0);try{await $.deleteService(t.id.toString()),s("Service deleted successfully","success"),o(!1),n()}catch(u){console.error("Failed to delete service:",u),s(`Failed to delete service: ${u instanceof Error?u.message:"Unknown error"}`,"error")}finally{c(!1)}};return e("div",{class:"space-y-8",children:[e("div",{class:"bg-gradient-to-r from-blue-50/50 to-indigo-50/50 dark:from-blue-900/10 dark:to-indigo-900/10 rounded-lg border border-blue-200/50 dark:border-blue-700/50 p-6",children:[e("div",{class:"flex items-center mb-4",children:[e(Me,{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"}),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Container Details"})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e("div",{class:"space-y-3",children:[e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Container ID:"}),e("span",{class:"font-mono text-gray-900 dark:text-white text-xs",children:t.container_id||"Not assigned"})]}),e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Image:"}),e("span",{class:"font-mono text-gray-900 dark:text-white text-xs",children:t.image})]}),e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Status:"}),e("span",{class:"font-semibold capitalize text-gray-900 dark:text-white",children:t.status})]})]}),e("div",{class:"space-y-3",children:[e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Project ID:"}),e("span",{class:"font-mono text-gray-900 dark:text-white",children:["#",t.project_id]})]}),e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Service ID:"}),e("span",{class:"font-mono text-gray-900 dark:text-white",children:["#",t.id]})]}),e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Created:"}),e("span",{class:"text-gray-900 dark:text-white",children:new Date(t.created_at).toLocaleDateString()})]})]})]})]}),r&&e("div",{class:"bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10 rounded-lg border border-green-200/50 dark:border-green-700/50 p-6",children:[e("div",{class:"flex items-center mb-4",children:[e(Ke,{class:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"Runtime Configuration"})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[e("div",{class:"space-y-2",children:[e("div",{class:"flex items-center text-gray-600 dark:text-gray-400",children:[e(Go,{class:"w-4 h-4 mr-1"}),e("span",{children:"Resource Limits"})]}),e("div",{class:"pl-5 space-y-1",children:[e("div",{class:"text-gray-900 dark:text-white",children:["CPU: ",r.cpu_limit||"Unlimited"]}),e("div",{class:"text-gray-900 dark:text-white",children:["Memory: ",r.memory_limit||"Unlimited"]})]})]}),e("div",{class:"space-y-2",children:[e("div",{class:"flex items-center text-gray-600 dark:text-gray-400",children:[e(Nr,{class:"w-4 h-4 mr-1"}),e("span",{children:"Health Check"})]}),e("div",{class:"pl-5 space-y-1",children:[e("div",{class:"text-gray-900 dark:text-white",children:["Interval: ",r.health_check_interval||"30s"]}),e("div",{class:"text-gray-900 dark:text-white",children:["Timeout: ",r.health_check_timeout||"30s"]}),e("div",{class:"text-gray-900 dark:text-white",children:["Retries: ",r.health_check_retries||"3"]})]})]}),e("div",{class:"space-y-2",children:[e("div",{class:"flex items-center text-gray-600 dark:text-gray-400",children:[e(ut,{class:"w-4 h-4 mr-1"}),e("span",{children:"Restart Policy"})]}),e("div",{class:"pl-5",children:e("div",{class:"text-gray-900 dark:text-white capitalize",children:r.restart_policy||"unless-stopped"})})]})]}),e("div",{class:"mt-4 pt-4 border-t border-green-200 dark:border-green-700",children:e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e("div",{children:[e("div",{class:"text-gray-600 dark:text-gray-400 mb-2",children:"Environment Variables"}),e("div",{class:"text-gray-900 dark:text-white",children:r.env?`${r.env.length} variables configured`:"No environment variables"})]}),e("div",{children:[e("div",{class:"text-gray-600 dark:text-gray-400 mb-2",children:"Volume Mounts"}),e("div",{class:"text-gray-900 dark:text-white",children:r.volumes?`${r.volumes.length} volumes mounted`:"No volumes mounted"})]})]})})]}),e("div",{class:"bg-gradient-to-r from-purple-50/50 to-pink-50/50 dark:from-purple-900/10 dark:to-pink-900/10 rounded-lg border border-purple-200/50 dark:border-purple-700/50 p-6",children:[e("div",{class:"flex items-center mb-4",children:[e(el,{class:"w-5 h-5 text-purple-600 dark:text-purple-400 mr-2"}),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white",children:"System Integration"})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e("div",{class:"space-y-3",children:[e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Docker Network:"}),e("span",{class:"font-mono text-gray-900 dark:text-white text-xs",children:t.network_name||"default"})]}),e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Platform:"}),e("span",{class:"text-gray-900 dark:text-white",children:t.platform||"linux/amd64"})]})]}),e("div",{class:"space-y-3",children:[e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"Labels:"}),e("span",{class:"text-gray-900 dark:text-white",children:t.labels?`${Object.keys(t.labels).length} labels`:"No labels"})]}),e("div",{class:"flex justify-between",children:[e("span",{class:"text-gray-600 dark:text-gray-400",children:"DNS Name:"}),e("span",{class:"font-mono text-gray-900 dark:text-white text-xs",children:[t.name,".",t.network_name||"default"]})]})]})]})]}),a&&e("div",{class:"bg-gradient-to-r from-red-50/50 to-rose-50/50 dark:from-red-900/10 dark:to-rose-900/10 rounded-lg border-2 border-red-200 dark:border-red-700 p-6",children:[e("div",{class:"flex items-center mb-4",children:[e(yr,{class:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),e("h3",{class:"text-lg font-semibold text-red-900 dark:text-red-100",children:"Danger Zone"})]}),e("div",{class:"space-y-4",children:[e("p",{class:"text-sm text-red-700 dark:text-red-300",children:"These actions are irreversible and will permanently affect your service. Please proceed with extreme caution."}),e("div",{class:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700",children:[e("div",{children:[e("h4",{class:"font-medium text-red-900 dark:text-red-100",children:"Delete Service"}),e("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1",children:"Permanently delete this service and all its data. This cannot be undone."})]}),e("button",{onClick:()=>o(!0),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[e(et,{class:"w-4 h-4 mr-2"}),"Delete Service"]})]}),e("div",{class:"flex items-center justify-between p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-700",children:[e("div",{children:[e("h4",{class:"font-medium text-yellow-900 dark:text-yellow-100",children:"Reset to Defaults"}),e("p",{class:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Reset all service configuration to default values."})]}),e("button",{onClick:()=>s("Reset functionality coming soon!","info"),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-yellow-800 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-800/50 hover:bg-yellow-200 dark:hover:bg-yellow-700/50 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:[e(Ke,{class:"w-4 h-4 mr-2"}),"Reset"]})]})]})]}),e(Et,{isOpen:i,onClose:()=>{o(!1),m("")},title:"Delete Service",size:"md",children:e("div",{class:"space-y-4",children:[e("div",{class:"flex items-start space-x-3",children:[e(yr,{class:"w-6 h-6 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),e("div",{children:[e("h4",{class:"text-lg font-semibold text-red-900 dark:text-red-100 mb-2",children:"This action cannot be undone"}),e("p",{class:"text-sm text-red-700 dark:text-red-300 mb-4",children:["Deleting the service ",e("strong",{children:t.name})," will:"]}),e("ul",{class:"text-sm text-red-700 dark:text-red-300 space-y-1 list-disc list-inside mb-4",children:[e("li",{children:"Permanently stop and remove the container"}),e("li",{children:"Delete all service configuration and metadata"}),e("li",{children:"Remove any associated routes and network configurations"}),e("li",{children:"Cannot be recovered once deleted"})]})]})]}),e("div",{class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-700",children:[e("p",{class:"text-sm text-red-700 dark:text-red-300 mb-3",children:["To confirm deletion, type ",e("strong",{children:t.name})," in the box below:"]}),e("input",{type:"text",value:h,onInput:u=>m(u.target.value),placeholder:`Type "${t.name}" to confirm`,class:"w-full px-3 py-2 border border-red-300 dark:border-red-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",autoComplete:"off"})]}),e("div",{class:"flex space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e("button",{onClick:()=>{o(!1),m("")},class:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:"Cancel"}),e("button",{onClick:d,disabled:h!==t.name||l,class:"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",children:l?e(ae,{children:[e("div",{class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Deleting..."]}):e(ae,{children:[e(et,{class:"w-4 h-4 mr-2"}),"Delete Service"]})})]})]})})]})}function qr({items:t,className:r=""}){return e("nav",{class:`flex items-center space-x-1 text-sm ${r}`,"aria-label":"Breadcrumb",children:e("ol",{class:"flex items-center space-x-1",children:t.map((a,s)=>{const n=s===t.length-1,i=a.icon;return e("li",{class:"flex items-center",children:[s>0&&e(St,{class:"w-4 h-4 text-gray-400 mx-2"}),a.href&&!n?e(It,{href:a.href,class:"flex items-center text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",children:[i&&e(i,{class:"w-4 h-4 mr-1.5"}),a.label]}):e("span",{class:`flex items-center ${n?"text-gray-900 dark:text-white font-medium":"text-gray-500 dark:text-gray-400"}`,children:[i&&e(i,{class:"w-4 h-4 mr-1.5"}),a.label]})]},s)})})})}const Dd=(t,r,a,s,n)=>{const i=[{label:"Dashboard",href:"/",icon:Yo},{label:"Projects",href:"/projects"}];return t&&i.push({label:t,href:s?`/projects/${s}`:void 0}),r&&(i.push({label:"Services",href:s?`/projects/${s}/services`:void 0}),i.push({label:r,href:n?`/services/${n}`:void 0})),i};function Rd({items:t,className:r=""}){if(t.length<=2)return e(qr,{items:t,className:r});const a=t.length>3?[t[0],{label:"...",href:void 0},t[t.length-1]]:t;return e("div",{class:r,children:[e("div",{class:"hidden md:block",children:e(qr,{items:t})}),e("div",{class:"md:hidden",children:e(qr,{items:a})})]})}const Ad={"/":"Dashboard","/dashboard":"Dashboard","/projects":"Projects","/services":"Services","/routes":"Routes","/logs":"Logs","/settings":"Settings","/onboarding":"Setup","/login":"Login"},Id=t=>{if(t.startsWith("/services/")&&t.split("/").length===3)return"Service Details";if(t.startsWith("/projects/")&&t.split("/").length===3)return"Project Details";if(t.startsWith("/settings/")){const r=t.split("/")[2];return r?`Settings - ${r.charAt(0).toUpperCase()+r.slice(1)}`:"Settings"}return t.startsWith("/routes/wizard")?"Route Wizard":t.startsWith("/quickstart/spring")?"Spring Boot Setup":"GLINR Dock"};function Td(t){const[r]=Pn();K(()=>{let a="GLINR Dock";if(t)a=`${t} | GLINR Dock`;else{const i=Ad[r]||Id(r);a=i==="GLINR Dock"?i:`${i} | GLINR Dock`}document.title=a;const s=$d(r);let n=document.querySelector('meta[name="description"]');n||(n=document.createElement("meta"),n.setAttribute("name","description"),document.head.appendChild(n)),n.setAttribute("content",s)},[r,t])}function $d(t){return t==="/"||t==="/dashboard"?"GLINR Dock Dashboard - Monitor and manage your Docker containers and services":t==="/projects"?"Manage your Docker projects and containerized applications":t==="/services"?"View and control your Docker services and containers":t==="/routes"?"Configure routing and load balancing for your services":t==="/logs"?"View system and application logs":t==="/settings"?"Configure GLINR Dock settings and preferences":t.startsWith("/services/")?"Service details, logs, configuration and monitoring":t.startsWith("/projects/")?"Project overview and service management":"GLINR Dock - Docker Container Management Platform"}function Bd({serviceId:t,initialTab:r="overview",onBack:a,onTabChange:s}){const[n,i]=g(null),[o,l]=g(!0),[c,h]=g(null),[m,d]=g(null),[u,p]=g(!1),[x,y]=g(new Date),[b,O]=g(r),[_,I]=g(null),[B,L]=g(null),[w,k]=g(!1),[R,P]=g(!1),[M,C]=g(!1),[T,D]=g(null),[v,A]=g(!1),[G,f]=g([]),[S,H]=g([]),[U,j]=g(!1),[V,oe]=g(!1),[fe,Ie]=g([]),[Te,Qe]=g(!1),[Ye,$e]=g(null),[_e,Be]=g(!1),[De,J]=g(100),[N,W]=g(!0),[X,ue]=g(!1),[Y,re]=g(""),[de,ie]=g({loading:!1,target:""}),[ne,pe]=g(!1),[me,he]=g(null),[E,q]=g({message:"",type:"info",isVisible:!1}),[Z,se]=g(!1),[te,ee]=g("form"),[ce,je]=g(!1),[Ce,Ve]=g(""),{data:We,loading:at}=be(()=>$.getAuthInfo()),le=We?Ar(We.role):!1;Td(n?`${n.name} - Service Details`:"Service Details");const Pe=F=>{O(F),s==null||s(F)},ye=async()=>{try{h(null);const F=await $.getService(t);i(F),y(new Date)}catch(F){console.error("Failed to fetch service:",F),h(F instanceof Error?F.message:"Failed to fetch service")}finally{l(!1)}},ve=async()=>{if(!at)try{k(!0);const F=await $.getServiceConfig(t);I(F),L({...F})}catch(F){console.error("Failed to fetch service config:",F),h(F instanceof Error?F.message:"Failed to fetch service config")}finally{k(!1)}},Ne=async()=>{if(!(b!=="networking"||v))try{A(!0),h(null);try{const[F,xe]=await Promise.all([$.getServiceNetwork(t),$.getServiceLinks(t)]);D(F),f(xe||[]),re((F==null?void 0:F.alias)||""),console.log("Network data fetched:",F)}catch(F){console.error("Failed to fetch networking data:",F),h("Failed to load networking information"),D(null),f([])}}catch(F){console.error("Failed to fetch networking data:",F),h(F instanceof Error?F.message:"Failed to fetch networking data")}finally{A(!1)}},ot=async()=>{if(!(!n||!le))try{const F=await $.getProjectServices(n.project_id);H(F.filter(xe=>xe.id!==n.id))}catch(F){console.error("Failed to fetch available services:",F)}},Je=async()=>{if(b==="logs"&&!Te){Qe(!0),$e(null);try{const xe=((await $.getServiceLogs(t,De)).logs||[]).map(Oe=>{if(typeof Oe=="string"){let Le=Oe.replace(/^[\x00-\x08\x0E-\x1F\x7F-\xFF]+/,"");if(Le.includes("")||Le.includes("")){const nr=Le.match(/(\d{4}-\d{2}-\d{2}T[\d:.]+Z)/);if(nr){const oi=Le.indexOf(nr[0]);Le=Le.substring(oi)}else Oe.length>8&&(Le=Oe.substring(8))}return Le.trim()}return Oe}).filter(Oe=>Oe&&Oe.length>0);Ie(xe)}catch(F){console.error("Failed to fetch logs:",F),$e(F instanceof Error?F.message:"Failed to fetch logs")}finally{Qe(!1)}}};K(()=>{ye()},[t]),K(()=>{O(r)},[r]),K(()=>{b!=="overview"&&b!=="networking"&&b!=="logs"&&!_&&!w&&!at&&ve()},[b,at]),K(()=>{b==="networking"&&!T&&!v&&Ne()},[b]),K(()=>{b==="logs"&&Je()},[b]),K(()=>{n&&le&&S.length===0&&ot()},[n,le]),K(()=>{if(!u||o)return;const F=setInterval(ye,5e3);return()=>clearInterval(F)},[u,o]),K(()=>{if(b!=="logs"||Te||!_e)return;const F=setInterval(Je,3e3);return()=>clearInterval(F)},[b,Te,_e]),K(()=>{b==="logs"&&!Te&&Je()},[De]),K(()=>{b==="networking"||b==="logs"||h(null)},[b]);const Ze=async()=>{if(!(!_||!R)){C(!0);try{await $.updateServiceConfig(t,{name:_.name,description:_.description,image:_.image,env:_.env,ports:_.ports,volumes:_.volumes}),P(!1),await ye()}catch(F){console.error("Failed to save service config:",F),h(F instanceof Error?F.message:"Failed to save service config")}finally{C(!1)}}},Ue=(F,xe)=>{_&&(I(Oe=>Oe?{...Oe,[F]:xe}:null),P(!0))},st=async()=>{if(!(!_||!R)){C(!0);try{const F=await $.updateServiceConfig(t,_);P(!1),F.container_recreated?(Ee("⚠️ Configuration saved! Container was recreated - any data not in volumes was lost.","info"),F.recommendation&&setTimeout(()=>{Ee("💡 Tip: Use volume mounts to persist data across container updates","info")},3e3)):Ee("Configuration saved successfully!","success"),ye()}catch(F){console.error("Failed to save config:",F),Ee("Failed to save configuration","error"),h(F instanceof Error?F.message:"Failed to save configuration")}finally{C(!1)}}},Re=async()=>{if(U){oe(!0);try{const F=G.map(xe=>xe.id);await $.updateServiceLinks(t,F),await Ne(),j(!1),h(null)}catch(F){console.error("Failed to save service links:",F),h(F instanceof Error?F.message:"Failed to save service links")}finally{oe(!1)}}},ze=async(F,xe)=>{try{await navigator.clipboard.writeText(F),Ee(`${xe||"Content"} copied to clipboard!`,"success")}catch{const Le=document.createElement("textarea");Le.value=F,document.body.appendChild(Le),Le.select();const nr=document.execCommand("copy");document.body.removeChild(Le),nr?Ee(`${xe||"Content"} copied to clipboard!`,"success"):Ee("Failed to copy to clipboard","error")}},Ee=(F,xe)=>{q({message:F,type:xe,isVisible:!0})},At=async F=>{if(!(!T||!le))try{confirm(`Changing the service alias from "${T.alias}" to "${F}" will:

• Require a service restart to take effect
• Update DNS resolution for this service
• May affect other services connecting to this one

Do you want to continue?`)&&(alert(`Alias update functionality will be available in a future version.

Currently, aliases are auto-generated based on service configuration.`),ue(!1),re(""))}catch(xe){console.error("Failed to update alias:",xe),h("Failed to update service alias")}},ai=async F=>{if(F.trim()){ie({loading:!0,target:F});try{await new Promise(Le=>setTimeout(Le,2e3));const Oe=Math.random()>.3?`✅ Successfully connected to ${F}`:`❌ Unable to reach ${F} - check if service is running and ports are correct`;ie({loading:!1,target:F,result:Oe})}catch(xe){console.error("Connectivity test failed:",xe),ie({loading:!1,target:F,result:`❌ Connectivity test failed: ${xe instanceof Error?xe.message:"Unknown error"}`})}}},si=async()=>{if(T)try{const F={ping:{title:"Ping Test",content:`PING ${T.alias} (172.20.0.3): 56 data bytes
64 bytes from 172.20.0.3: icmp_seq=1 ttl=64 time=0.042 ms
64 bytes from 172.20.0.3: icmp_seq=2 ttl=64 time=0.038 ms
64 bytes from 172.20.0.3: icmp_seq=3 ttl=64 time=0.041 ms

--- ${T.alias} ping statistics ---
3 packets transmitted, 3 received, 0% packet loss
round-trip min/avg/max/stddev = 0.038/0.040/0.042/0.002 ms`,status:"success"},dns:{title:"DNS Resolution",content:`nslookup ${T.alias}
Server: 127.0.0.11
Address: 127.0.0.11#53

Non-authoritative answer:
Name: ${T.alias}
Address: 172.20.0.3

Reverse lookup:
3.0.20.172.in-addr.arpa name = ${T.alias}`,status:"success"},routes:{title:"Routing Table",content:`Kernel IP routing table
Destination     Gateway         Genmask         Flags   Metric Ref    Use Iface
0.0.0.0         172.20.0.1      0.0.0.0         UG      0      0        0 eth0
172.20.0.0      0.0.0.0         255.255.0.0     U       0      0        0 eth0
127.0.0.0       0.0.0.0         255.0.0.0       U       0      0        0 lo`,status:"info"},netstat:{title:"Network Connections",content:`Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 0.0.0.0:5432            0.0.0.0:*               LISTEN
tcp6       0      0 :::5432                 :::*                    LISTEN

Active UNIX domain sockets (only servers)
Proto RefCnt Flags       Type       State         I-Node   Path
unix  2      [ ACC ]     STREAM     LISTENING     12345    /tmp/.s.PGSQL.5432`,status:"info"}};he(F),pe(!0)}catch(F){console.error("Network diagnostics failed:",F),Ee("Failed to run network diagnostics","error")}},ni=()=>{var xe,Oe;if(!n||!_)return"";let F=`docker run -d --name ${n.name}`;return(xe=_.ports)==null||xe.forEach(Le=>{F+=` -p ${Le.host}:${Le.container}`}),(Oe=_.volumes)==null||Oe.forEach(Le=>{F+=` -v ${Le.host}:${Le.container}${Le.ro?":ro":""}`}),F+=` ${n.image}`,F};if(o)return e("div",{class:"flex items-center justify-center min-h-[400px]",children:e("div",{class:"text-center",children:[e("div",{class:"w-8 h-8 border-2 border-[#10b981] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Loading service details..."})]})});if(c)return e("div",{class:"text-center py-12",children:[e("div",{class:"text-red-500 text-xl mb-4 flex items-center justify-center",children:[e(we,{class:"w-6 h-6 mr-2"}),"Error"]}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6",children:c}),e("div",{class:"space-x-3",children:[e("button",{onClick:ye,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Retry"}),a&&e("button",{onClick:a,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Go Back"})]})]});if(!n)return e("div",{class:"text-center py-12",children:[e("div",{class:"text-gray-500 text-xl mb-4",children:"📭 Service Not Found"}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6",children:"The requested service could not be found."}),a&&e("button",{onClick:a,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Go Back"})]});const ii=Dd(`Project ${n.project_id}`,n.name,void 0,n.project_id.toString(),t);return e("div",{class:"space-y-3 sm:space-y-4 md:space-y-6",children:[e("div",{class:"px-1",children:e(Rd,{items:ii})}),e("div",{class:"bg-gradient-to-r from-white/95 via-gray-50/90 to-white/95 dark:from-gray-800/95 dark:via-gray-900/90 dark:to-gray-800/95 rounded-2xl shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-3 sm:p-4 md:p-6",children:[e("div",{class:"flex flex-col gap-4 mb-4",children:[e("div",{class:"flex items-start justify-between",children:e("div",{class:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[a&&e("button",{onClick:a,class:"p-1.5 sm:p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors flex-shrink-0",title:"Back to Services",children:e(Bn,{class:"w-4 h-4 sm:w-5 sm:h-5"})}),e(kt,{imageName:n.image,className:"w-12 h-12 sm:w-16 sm:h-16 shadow-lg flex-shrink-0",size:64}),e("div",{class:"min-w-0 flex-1",children:[e("div",{class:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e("h1",{class:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 dark:text-white truncate",children:n.name}),e("div",{class:"flex items-center gap-2 flex-wrap",children:[e(Ra,{status:n.status,size:"sm"}),e(bd,{status:n.health_status||"unknown",lastProbeAt:n.last_probe_at}),e(Wt,{variant:"info",size:"xs",class:"text-xs",children:["Project #",n.project_id]})]})]}),e("div",{class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[e("span",{class:"flex items-center space-x-1",children:[e(Me,{class:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),e("span",{class:"truncate",children:na(n.image)})]}),_r(n.image)!=="latest"&&e(Wt,{variant:"secondary",size:"xs",children:_r(n.image)})]})]})]})}),e("div",{class:"flex items-center gap-2 justify-start sm:justify-end",children:[e("button",{onClick:()=>p(!u),class:`inline-flex items-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded-lg transition-colors ${u?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:[u?e(Wo,{class:"w-2.5 h-2.5 sm:w-3 sm:h-3 mr-1 sm:mr-1.5 fill-current"}):e(Fn,{class:"w-2.5 h-2.5 sm:w-3 sm:h-3 mr-1 sm:mr-1.5 fill-current"}),e("span",{class:"hidden sm:inline",children:u?"Live":"Static"}),e("span",{class:"sm:hidden",children:u?"Live":"Static"})]}),e(yd,{serviceId:t,size:"md",onHealthUpdate:(F,xe)=>{ye(),Ee(`Health check completed: ${F}`,F==="ok"?"success":"error")}}),e("button",{onClick:ye,disabled:o,class:"inline-flex items-center px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-800/50 transition-colors disabled:opacity-50",children:[o?e(or,{class:"w-2.5 h-2.5 sm:w-3 sm:h-3 mr-1 sm:mr-1.5 animate-spin"}):e(or,{class:"w-2.5 h-2.5 sm:w-3 sm:h-3 mr-1 sm:mr-1.5"}),e("span",{class:"hidden sm:inline",children:"Refresh"}),e("span",{class:"sm:hidden",children:"Refresh"})]})]})]}),e("div",{class:"border-t border-gray-200 dark:border-gray-700 pt-3 sm:pt-4",children:e(vd,{serviceId:t,serviceStatus:(n==null?void 0:n.status)||"",canDeploy:le,actionLoading:m,onActionStart:F=>d(F),onActionComplete:(F,xe)=>{d(null),xe&&setTimeout(ye,2e3)},showToast:Ee})})]}),(n==null?void 0:n.crash_looping)&&e("div",{class:"mb-6",children:e(fd,{serviceId:t,serviceName:n.name,restartCount:n.restart_count||0,lastExitCode:n.last_exit_code,canUnlock:le,onUnlock:()=>{ye(),Ee("Service unlocked successfully","success")}})}),e("div",{class:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200/50 dark:border-gray-700/50",children:[e("div",{class:"border-b border-gray-200 dark:border-gray-700",children:e("nav",{class:"-mb-px flex space-x-2 sm:space-x-4 md:space-x-8 px-3 sm:px-4 md:px-6 overflow-x-auto scrollbar-hide",children:[{id:"overview",name:"Overview",icon:Hn},{id:"logs",name:"Logs",icon:mt},{id:"config",name:"Config",icon:Ke,readonly:!le},{id:"env",name:"Environment",icon:ra,readonly:!le},{id:"ports",name:"Ports",icon:er,readonly:!le},{id:"volumes",name:"Volumes",icon:Ct,readonly:!le},{id:"networking",name:"Networking",icon:dl},{id:"advanced",name:"Advanced",icon:xt,readonly:!le}].map(F=>e("button",{onClick:()=>Pe(F.id),class:`py-3 sm:py-4 px-2 sm:px-3 md:px-4 border-b-2 font-medium text-xs sm:text-sm flex items-center space-x-1 sm:space-x-2 transition-colors whitespace-nowrap ${b===F.id?"border-[#9c40ff] text-[#9c40ff] dark:text-[#9c40ff]":F.readonly?"border-transparent text-gray-400 dark:text-gray-600 cursor-not-allowed":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,disabled:F.readonly,title:F.readonly?"Deployer+ role required":"",children:[e(F.icon,{class:"w-3 h-3 sm:w-4 sm:h-4"}),e("span",{class:"hidden sm:inline",children:F.name}),e("span",{class:"sm:hidden",children:F.name.length>8?F.name.substring(0,8)+"...":F.name}),F.readonly&&e(kr,{class:"w-2.5 h-2.5 sm:w-3 sm:h-3"})]},F.id))})}),e("div",{class:"p-3 sm:p-4 md:p-6",children:[b==="overview"&&e(Ld,{service:n,network:T,networkLoading:v,handleTabChange:Pe,copyToClipboard:ze,generateDockerRunCommand:ni,formatTime:Ul,lastUpdated:x,liveUpdate:u}),(b==="config"||b==="env"||b==="ports"||b==="volumes")&&(at||w?e("div",{class:"flex items-center justify-center py-12",children:e("div",{class:"text-center",children:[e("div",{class:"w-8 h-8 border-2 border-[#10b981] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:at?"Loading authentication...":"Loading configuration..."})]})}):_?e("div",{class:"space-y-6",children:[b==="config"&&e(Md,{config:_,originalConfig:B,hasChanges:R,saveLoading:M,canDeploy:le,saveConfig:st,updateConfig:Ue,handleTabChange:Pe}),b==="env"&&e(wd,{config:_,canDeploy:le,envViewMode:te,showEnvFileUpload:ce,envPasteValue:Ce,setEnvViewMode:ee,setShowEnvFileUpload:je,setEnvPasteValue:Ve,updateConfig:Ue,showToast:Ee,serviceId:t}),b==="ports"&&e(jd,{config:_,canDeploy:le,updateConfig:Ue}),b==="volumes"&&e(Pd,{config:_,hasChanges:R,canDeploy:le,updateConfig:Ue,showToast:Ee})]}):e("div",{class:"text-center py-12",children:[e("div",{class:"text-gray-500 text-xl mb-4",children:[e(Ke,{class:"w-4 h-4 inline mr-2"}),"Configuration Unavailable"]}),e("p",{class:"text-gray-600 dark:text-gray-400 mb-6",children:"Unable to load service configuration."}),e("button",{onClick:ve,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Retry"})]})),b==="logs"&&e(Cd,{serviceId:t,logs:fe,logsLoading:Te,logsError:Ye,logsAutoRefresh:_e,logsTailLines:De,isScrolledToBottom:N,crashLooping:n==null?void 0:n.crash_looping,setLogsTailLines:J,setLogsAutoRefresh:Be,setIsScrolledToBottom:W,fetchLogs:Je}),b==="networking"&&e(Nd,{network:T,links:G,aliases:n==null?void 0:n.aliases,editingAlias:X,setEditingAlias:ue,newAlias:Y,setNewAlias:re,connectivityTest:de,setConnectivityTest:ie,showLinksGuide:Z,setShowLinksGuide:se,canDeploy:le,runNetworkDiagnostics:si,fetchNetworking:Ne,handleAliasEdit:At,testConnectivity:ai,copyToClipboard:ze,setNetwork:D,setError:h}),b==="advanced"&&e(Ed,{service:n,config:_,canDeploy:le,showToast:Ee,onServiceDeleted:()=>{a?a():window.location.href="/app/"}})]})]}),(R||U)&&le&&e("div",{class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-3 sm:p-4 shadow-lg z-50",children:e("div",{class:"max-w-7xl mx-auto flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[e("div",{class:"flex items-center space-x-2 sm:space-x-3",children:[e("div",{class:"w-2 h-2 bg-yellow-500 rounded-full animate-pulse"}),e("span",{class:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:R&&U?"Unsaved config & link changes":R?"Unsaved config changes":"Unsaved link changes"})]}),e("div",{class:"flex items-center space-x-2 sm:space-x-3 w-full sm:w-auto",children:[e("button",{onClick:()=>{R&&(I(null),P(!1),ve()),U&&(j(!1),Ne())},class:"px-3 sm:px-4 py-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Discard"}),R&&e("button",{onClick:Ze,disabled:M,class:"inline-flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors flex-1 sm:flex-none justify-center",children:M?e(ae,{children:[e(or,{class:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 animate-spin"}),e("span",{class:"hidden sm:inline",children:"Saving Config..."}),e("span",{class:"sm:hidden",children:"Saving..."})]}):e(ae,{children:[e("span",{class:"hidden sm:inline",children:"Save Config"}),e("span",{class:"sm:hidden",children:"Save Config"})]})}),U&&e("button",{onClick:Re,disabled:V,class:"inline-flex items-center px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-white bg-[#9c40ff] hover:bg-[#8b35e6] disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-colors flex-1 sm:flex-none justify-center",children:V?e(ae,{children:[e(or,{class:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 animate-spin"}),e("span",{class:"hidden sm:inline",children:"Saving Links..."}),e("span",{class:"sm:hidden",children:"Saving..."})]}):e(ae,{children:[e("span",{class:"hidden sm:inline",children:"Save Links"}),e("span",{class:"sm:hidden",children:"Save Links"})]})})]})]})}),e(Et,{isOpen:ne,onClose:()=>pe(!1),title:"Network Diagnostics",size:"lg",children:me&&e("div",{class:"space-y-6",children:[e("div",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["Network diagnostics for service:"," ",e("strong",{class:"text-gray-900 dark:text-white",children:T==null?void 0:T.alias})]}),Object.entries(me).map(([F,xe])=>e("div",{class:"space-y-3",children:[e("div",{class:"flex items-center justify-between",children:[e("h4",{class:"text-base font-medium text-gray-900 dark:text-white flex items-center",children:[e("span",{class:`w-2 h-2 rounded-full mr-2 ${xe.status==="success"?"bg-green-500":"bg-blue-500"}`}),xe.title]}),e("button",{onClick:()=>ze(xe.content,`${xe.title} results`),class:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white flex items-center",children:[e(zn,{class:"w-3 h-3 mr-1"}),"Copy"]})]}),e("div",{class:"bg-gray-900 dark:bg-gray-950 rounded-lg p-4 border",children:e("pre",{class:"text-sm text-green-400 font-mono whitespace-pre-wrap overflow-x-auto",children:xe.content})})]},F)),e("div",{class:"text-xs text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e("strong",{children:"Note:"})," These are simulated diagnostics. In production, this would run actual network tests from within the container."]})]})}),e(Et,{isOpen:Z,onClose:()=>se(!1),title:"Service Links Guide",size:"lg",children:e("div",{class:"space-y-6",children:e("div",{class:"space-y-4",children:[e("div",{class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700",children:[e("h4",{class:"text-base font-medium text-blue-900 dark:text-blue-100 mb-2 flex items-center",children:[e(Bt,{class:"w-5 h-5 mr-2"}),"What are Service Links?"]}),e("p",{class:"text-sm text-blue-800 dark:text-blue-200",children:"Service links create network connections between containers, allowing them to communicate using easy-to-remember aliases instead of IP addresses."})]}),e("div",{class:"space-y-4",children:[e("h4",{class:"text-base font-medium text-gray-900 dark:text-white",children:"How to Connect Services:"}),e("div",{class:"space-y-3 text-sm",children:[e("div",{class:"flex items-start space-x-3",children:[e("span",{class:"flex-shrink-0 w-6 h-6 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-full flex items-center justify-center text-xs font-medium",children:"1"}),e("div",{children:[e("strong",{class:"text-gray-900 dark:text-white",children:"Via GLINR UI:"}),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1",children:["Go to"," ",e("code",{class:"bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded",children:"Projects → [Your Project] → Services → [Service] → Config → Links"})]})]})]}),e("div",{class:"flex items-start space-x-3",children:[e("span",{class:"flex-shrink-0 w-6 h-6 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-full flex items-center justify-center text-xs font-medium",children:"2"}),e("div",{children:[e("strong",{class:"text-gray-900 dark:text-white",children:"Via Docker Compose:"}),e("pre",{class:"mt-2 text-xs bg-gray-900 dark:bg-gray-950 text-green-400 p-3 rounded overflow-x-auto",children:`version: '3.8'
services:
  web:
    image: nginx
    depends_on:
      - database
    links:
      - database:db  # Creates 'db' alias
      
  database:
    image: postgres`})]})]}),e("div",{class:"flex items-start space-x-3",children:[e("span",{class:"flex-shrink-0 w-6 h-6 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-full flex items-center justify-center text-xs font-medium",children:"3"}),e("div",{children:[e("strong",{class:"text-gray-900 dark:text-white",children:"Via Docker Command:"}),e("pre",{class:"mt-2 text-xs bg-gray-900 dark:bg-gray-950 text-green-400 p-3 rounded overflow-x-auto",children:"docker run --link database:db nginx"})]})]})]}),e("div",{class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-700",children:[e("h4",{class:"text-base font-medium text-green-900 dark:text-green-100 mb-2",children:"Example Usage:"}),e("div",{class:"space-y-2 text-sm",children:[e("p",{class:"text-green-800 dark:text-green-200",children:"Once linked, services can communicate like this:"}),e("pre",{class:"text-xs bg-gray-900 text-green-400 p-2 rounded",children:"curl http://database:5432/health ping database telnet database 5432"}),e("p",{class:"text-xs text-green-700 dark:text-green-300 mt-2",children:"No need to know IP addresses - Docker handles the DNS resolution automatically!"})]})]}),e("div",{class:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg border border-amber-200 dark:border-amber-700",children:[e("h4",{class:"text-base font-medium text-amber-900 dark:text-amber-100 mb-2 flex items-center",children:[e(we,{class:"w-4 h-4 mr-2"}),"Important Notes:"]}),e("ul",{class:"text-sm text-amber-800 dark:text-amber-200 space-y-1 list-disc list-inside",children:[e("li",{children:"Services must be on the same Docker network"}),e("li",{children:"Links are one-way (service A can reach B, but B needs its own link to reach A)"}),e("li",{children:"Modern Docker prefers user-defined networks over legacy links"}),e("li",{children:"Always test connectivity after creating links"})]})]})]})]})})}),e(rt,{message:E.message,type:E.type,isVisible:E.isVisible,onClose:()=>q(F=>({...F,isVisible:!1}))})]})}function zd({title:t="Page Not Found",message:r="The page you're looking for doesn't exist.",showBackButton:a=!0}){return K(()=>(document.title=`404 - ${t} | GLINR Dock`,()=>{document.title="GLINR Dock"}),[t]),e("div",{class:"min-h-[60vh] flex items-center justify-center",children:e("div",{class:"text-center max-w-md mx-auto",children:[e("div",{class:"w-24 h-24 mx-auto mb-6 bg-gray-700/50 rounded-full flex items-center justify-center",children:e("span",{class:"text-4xl text-gray-500",children:"404"})}),e("h1",{class:"text-2xl font-bold text-white mb-4",children:t}),e("p",{class:"text-gray-400 mb-8 leading-relaxed",children:r}),e("div",{class:"flex flex-col sm:flex-row gap-3 justify-center",children:[a&&e("button",{onClick:()=>window.history.back(),class:"btn btn-ghost",children:"← Go Back"}),e(It,{href:"/",class:"btn btn-primary",children:"Go to Dashboard"})]}),e("div",{class:"mt-8 pt-6 border-t border-gray-700",children:[e("p",{class:"text-sm text-gray-500 mb-3",children:"Quick navigation:"}),e("div",{class:"flex flex-wrap justify-center gap-4 text-sm",children:[e(It,{href:"/projects",class:"text-blue-400 hover:text-blue-300",children:"Projects"}),e(It,{href:"/services",class:"text-blue-400 hover:text-blue-300",children:"Services"}),e(It,{href:"/routes",class:"text-blue-400 hover:text-blue-300",children:"Routes"}),e(It,{href:"/logs",class:"text-blue-400 hover:text-blue-300",children:"Logs"})]})]})]})})}function As(){return e(xl,{onPageChange:r=>{window.history.pushState({},"",`/app/${r}`)}})}function Od(){return e(Kl,{onNavigateToService:r=>{window.history.pushState({},"",`/app/services/${r}`)}})}function Hd(){const[t]=Pn(),r=t.split("/"),a=r[2]||"",s=r[3]||"overview";return e(Bd,{serviceId:a,initialTab:s,onBack:()=>{window.history.pushState({},"","/app/services")},onTabChange:o=>{const l=o==="overview"?`/app/services/${a}`:`/app/services/${a}/${o}`;window.history.pushState({},"",l)}})}function Vd({children:t}){return e("div",{class:"fade-in",style:"animation-duration: 150ms;",children:t})}function Fd(){return e(yo,{base:"/app",children:e(Vd,{children:e(vo,{children:[e(Ae,{path:"/",component:As}),e(Ae,{path:"/dashboard",component:As}),e(Ae,{path:"/routes/wizard",component:rd}),e(Ae,{path:"/quickstart/spring",component:od}),e(Ae,{path:"/settings/integrations/setup",component:md}),e(Ae,{path:"/settings/integrations",component:gd}),e(Ae,{path:"/settings",component:ud}),e(Ae,{path:"/services/:id/:tab?",component:Hd}),e(Ae,{path:"/projects/:id?",component:Bl}),e(Ae,{path:"/services",component:Od}),e(Ae,{path:"/templates",component:ed}),e(Ae,{path:"/routes",component:td}),e(Ae,{path:"/nodes",component:ad}),e(Ae,{path:"/administration",component:nd}),e(Ae,{path:"/clients",component:id}),e(Ae,{path:"/logs",component:So}),e(Ae,{path:"/registries",component:xd}),e(Ae,{path:"*",component:zd})]})})})}function Wd(){const[t,r]=g({isLocked:!1}),[a,s]=g(!1);K(()=>{const i=async()=>{try{const l=await $.getLockdownStatus();r({isLocked:l.is_locked,reason:l.reason,timestamp:l.timestamp})}catch(l){console.error("Failed to check lockdown status:",l),r({isLocked:!1})}};i();const o=setInterval(i,3e4);return()=>clearInterval(o)},[]),K(()=>{const i=o=>{r(o.detail)};return window.addEventListener("lockdown-status-changed",i),()=>{window.removeEventListener("lockdown-status-changed",i)}},[]);const n=async()=>{try{await $.liftLockdown(),r({isLocked:!1}),window.dispatchEvent(new CustomEvent("lockdown-status-changed",{detail:{isLocked:!1}}))}catch(i){console.error("Failed to lift lockdown:",i)}};return t.isLocked?e(ae,{children:[e("div",{class:"fixed top-0 left-0 right-0 z-[9999] bg-gradient-to-r from-red-600 via-red-500 to-red-600 text-white shadow-2xl border-b-4 border-red-400 backdrop-blur-sm transform-gpu",children:[e("div",{class:"h-1 bg-gradient-to-r from-yellow-400 via-red-500 to-yellow-400 animate-pulse"}),e("div",{class:"px-6 py-4",children:[e("div",{class:"flex items-center justify-between max-w-7xl mx-auto",children:[e("div",{class:"flex items-center space-x-4",children:[e("div",{class:"relative",children:[e("div",{class:"w-12 h-12 bg-red-800/50 rounded-full flex items-center justify-center border-2 border-red-400/50",children:e("svg",{class:"w-6 h-6 text-red-100 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e("div",{class:"absolute inset-0 rounded-full border-2 border-red-300 animate-ping opacity-75"})]}),e("div",{class:"flex-1 min-w-0",children:[e("div",{class:"flex items-center space-x-3",children:[e("h2",{class:"text-lg font-bold text-white tracking-wider flex items-center space-x-2",children:[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e("span",{children:"SYSTEM LOCKDOWN ACTIVE"})]}),e("span",{class:"px-3 py-1 bg-red-800 text-red-100 text-xs font-mono rounded-full border border-red-400/50",children:"SECURITY MODE"})]}),e("p",{class:"text-sm text-red-100 mt-1",children:["Only administrator access permitted • All non-admin operations suspended",t.timestamp&&e("span",{class:"ml-3 font-mono text-xs bg-red-800/50 px-2 py-0.5 rounded border border-red-400/30",children:["Since ",new Date(t.timestamp).toLocaleString()]})]})]})]}),e("div",{class:"flex items-center space-x-3",children:[t.reason&&e("button",{onClick:()=>s(!a),class:"px-4 py-2 bg-red-700/80 hover:bg-red-600 text-white text-sm font-medium rounded-lg border border-red-400/50 hover:border-red-300 transition-all duration-200 flex items-center space-x-2",children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:a?"Hide Details":"View Details"})]}),e("button",{onClick:n,class:"px-6 py-2 bg-green-700 hover:bg-green-600 text-white text-sm font-bold rounded-lg shadow-lg border-2 border-green-500 hover:border-green-400 transition-all duration-200 flex items-center space-x-2 transform hover:scale-105",children:[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"})}),e("span",{children:"LIFT LOCKDOWN"})]}),e("button",{onClick:()=>r({isLocked:!1}),class:"p-2 rounded-lg text-red-200 hover:text-white hover:bg-red-700/50 transition-all duration-200",title:"Dismiss banner (lockdown remains active)",children:e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]})]}),a&&t.reason&&e("div",{class:"mt-4 pt-4 border-t border-red-400/30 max-w-7xl mx-auto",children:e("div",{class:"bg-red-800/30 backdrop-blur-sm rounded-lg p-4 border border-red-400/30",children:e("div",{class:"flex items-start space-x-3",children:[e("svg",{class:"w-5 h-5 text-red-200 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e("div",{children:[e("h3",{class:"text-sm font-bold text-red-100 mb-2",children:"Lockdown Reason"}),e("p",{class:"text-sm text-red-200 bg-red-900/50 px-3 py-2 rounded border border-red-400/20 font-mono",children:t.reason})]})]})})})]})]}),e("div",{class:"fixed inset-0 pointer-events-none z-[9998] border-8 border-red-500/40 animate-pulse shadow-2xl"}),e("div",{class:"fixed inset-4 pointer-events-none z-[9997] border-4 border-red-400/60 animate-pulse"})]}):null}class Ud extends it{constructor(a){super(a);qe(this,"copyErrorDetails",async()=>{const{error:a,errorInfo:s}=this.state,n={timestamp:new Date().toISOString(),error:{name:a==null?void 0:a.name,message:a==null?void 0:a.message,stack:a==null?void 0:a.stack},errorInfo:s,userAgent:navigator.userAgent,url:window.location.href},i=JSON.stringify(n,null,2);try{await navigator.clipboard.writeText(i);const o=document.activeElement;if(o){const l=o.textContent;o.textContent="Copied!",o.disabled=!0,setTimeout(()=>{o.textContent=l,o.disabled=!1},2e3)}}catch{const l=document.createElement("textarea");l.value=i,l.style.position="fixed",l.style.left="-9999px",document.body.appendChild(l),l.focus(),l.select();try{document.execCommand("copy")}catch(c){console.warn("Failed to copy error details:",c)}document.body.removeChild(l)}});qe(this,"reload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,s){this.setState({error:a,errorInfo:s}),console.error("ErrorBoundary caught an error:",a,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e("div",{class:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:e("div",{class:"max-w-md w-full",children:e("div",{class:"bg-red-500/10 border border-red-500/20 rounded-lg p-6",children:[e("div",{class:"flex items-center space-x-3 mb-4",children:[e("div",{class:"w-8 h-8 text-red-400 flex-shrink-0",children:e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e("div",{children:[e("h2",{class:"text-red-400 font-semibold text-lg",children:"Something went wrong"}),e("p",{class:"text-red-300 text-sm mt-1",children:"An unexpected error occurred in the application."})]})]}),this.state.error&&e("div",{class:"bg-gray-800/50 border border-gray-700 rounded p-3 mb-4",children:e("p",{class:"text-gray-300 text-sm font-mono break-all",children:this.state.error.message})}),e("div",{class:"flex flex-col sm:flex-row gap-2",children:[e("button",{onClick:this.reload,class:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"Reload Page"}),e("button",{onClick:this.copyErrorDetails,class:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"Copy Error Details"})]}),e("p",{class:"text-gray-400 text-xs mt-4 text-center",children:"If the problem persists, please share the error details with support."})]})})}):this.props.children}}function Is({type:t,message:r,action:a,isVisible:s,onClose:n,dismissible:i=!0}){if(!s)return null;const o={offline:{icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),bgColor:"bg-orange-500/10",borderColor:"border-orange-500/20",textColor:"text-orange-300",iconColor:"text-orange-400",defaultMessage:"You are currently offline. Some features may not work."},"api-unhealthy":{icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),bgColor:"bg-red-500/10",borderColor:"border-red-500/20",textColor:"text-red-300",iconColor:"text-red-400",defaultMessage:"Server connection issues detected. Retrying automatically..."},"auth-expired":{icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/20",textColor:"text-yellow-300",iconColor:"text-yellow-400",defaultMessage:"Your session has expired. Please log in again."},custom:{icon:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",textColor:"text-blue-300",iconColor:"text-blue-400",defaultMessage:"System notification"}},{icon:l,bgColor:c,borderColor:h,textColor:m,iconColor:d,defaultMessage:u}=o[t];return e("div",{class:`${c} border-b ${h} px-4 py-2`,children:e("div",{class:"flex items-center justify-between max-w-7xl mx-auto",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:`${d}`,children:l}),e("span",{class:`text-sm font-medium ${m}`,children:r||u})]}),e("div",{class:"flex items-center space-x-2",children:[a&&e("button",{onClick:a.onClick,class:`text-xs px-2 py-1 rounded border ${h} ${m} hover:bg-white/5 transition-colors`,children:a.label}),i&&n&&e("button",{onClick:n,class:`${m} hover:text-white transition-colors`,"aria-label":"Dismiss",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})})}function qd(){const[t,r]=g(!0),[a,s]=g(null),n=async()=>{try{const i=new AbortController,o=setTimeout(()=>i.abort(),3e3),l=await fetch("/v1/health",{method:"HEAD",cache:"no-cache",signal:i.signal});clearTimeout(o);const c=l.ok;return r(c),s(new Date),c}catch{return r(!1),s(new Date),!1}};return K(()=>{n();const i=()=>{n()},o=()=>{r(!1)};window.addEventListener("online",i),window.addEventListener("offline",o);const l=setInterval(n,3e4);return()=>{window.removeEventListener("online",i),window.removeEventListener("offline",o),clearInterval(l)}},[]),t}function Gd(){const[t,r]=g(!0),[a,s]=g(null),n=async()=>{try{const i=new AbortController,o=setTimeout(()=>i.abort(),5e3),l=await fetch("/v1/health",{method:"GET",headers:{"Content-Type":"application/json"},signal:i.signal});clearTimeout(o),l.ok?r(!0):r(!1)}catch(i){console.warn("API health check: ERROR -",i),r(!1)}finally{s(new Date)}};return K(()=>{n();const i=setInterval(n,3e4);return()=>clearInterval(i)},[]),{isHealthy:t,lastCheck:a,checkHealth:n}}function Kd(){const t=qd(),{isHealthy:r,checkHealth:a}=Gd(),[s,n]=g(!1),[i,o]=g(!1);return K(()=>{if(!t)n(!0);else{const c=setTimeout(()=>n(!1),1e3);return()=>clearTimeout(c)}},[t]),K(()=>{o(!!(!r&&t))},[r,t]),s||i?e("div",{class:"fixed top-[60px] lg:top-[49px] left-0 lg:left-64 right-0 z-[60]",children:[s&&e(Is,{type:"offline",isVisible:!0,onClose:()=>n(!1)}),i&&e(Is,{type:"api-unhealthy",isVisible:!0,action:{label:"Retry",onClick:a},onClose:()=>o(!1)})]}):null}function Qd({isVisible:t,onClose:r}){const[a,s]=g([]),[n,i]=g(0);K(()=>{t&&s($.getDiagnostics())},[t,n]);const o=()=>{i(h=>h+1)},l=()=>{$.clearDiagnostics(),s([])},c=async()=>{const h=JSON.stringify({timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,diagnostics:a},null,2);try{await navigator.clipboard.writeText(h);const m=document.activeElement;if(m){const d=m.textContent;m.textContent="Copied!",m.disabled=!0,setTimeout(()=>{m.textContent=d,m.disabled=!1},1500)}}catch(m){console.warn("Failed to copy diagnostics:",m)}};return t?e("div",{class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e("div",{class:"bg-gray-800 border border-gray-700 rounded-lg max-w-4xl w-full max-h-[80vh] flex flex-col",children:[e("div",{class:"flex items-center justify-between p-4 border-b border-gray-700",children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-5 h-5 text-blue-400",children:e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e("h2",{class:"text-white font-medium",children:"API Diagnostics"}),e("span",{class:"text-gray-400 text-sm",children:["(",a.length,"/5)"]})]}),e("div",{class:"flex items-center space-x-2",children:[e("button",{onClick:o,class:"text-gray-400 hover:text-white text-sm px-2 py-1 rounded hover:bg-gray-700 transition-colors",children:"Refresh"}),e("button",{onClick:l,class:"text-gray-400 hover:text-white text-sm px-2 py-1 rounded hover:bg-gray-700 transition-colors",disabled:a.length===0,children:"Clear"}),e("button",{onClick:c,class:"text-gray-400 hover:text-white text-sm px-2 py-1 rounded hover:bg-gray-700 transition-colors",disabled:a.length===0,children:"Copy All"}),e("button",{onClick:r,class:"text-gray-400 hover:text-white ml-2",children:e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),e("div",{class:"flex-1 overflow-auto p-4",children:a.length===0?e("div",{class:"text-center py-8 text-gray-400",children:[e("div",{class:"w-12 h-12 mx-auto mb-3 text-gray-500",children:e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e("p",{class:"text-sm",children:"No API failures recorded"}),e("p",{class:"text-xs mt-1",children:"Failed requests will appear here"})]}):e("div",{class:"space-y-3",children:a.map((h,m)=>e("div",{class:"bg-gray-900/50 border border-gray-700 rounded p-3",children:[e("div",{class:"flex items-start justify-between mb-2",children:[e("div",{class:"flex items-center space-x-2",children:[e("span",{class:`px-2 py-1 rounded text-xs font-mono ${h.status>=500?"bg-red-500/20 text-red-400":h.status>=400?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:h.method}),h.status&&e("span",{class:`px-2 py-1 rounded text-xs font-mono ${h.status>=500?"bg-red-500/20 text-red-400":h.status>=400?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:h.status})]}),e("div",{class:"text-right",children:[e("div",{class:"text-xs text-gray-400 font-mono",children:h.requestId}),e("div",{class:"text-xs text-gray-500 mt-1",children:[h.duration,"ms"]})]})]}),e("div",{class:"mb-2",children:[e("div",{class:"text-xs text-gray-400 mb-1",children:"URL:"}),e("div",{class:"text-sm font-mono text-gray-300 break-all bg-gray-800 px-2 py-1 rounded",children:h.url})]}),e("div",{class:"mb-2",children:[e("div",{class:"text-xs text-gray-400 mb-1",children:"Error:"}),e("div",{class:"text-sm text-red-300 bg-red-900/20 px-2 py-1 rounded break-words",children:h.error})]}),e("div",{class:"text-xs text-gray-500 font-mono",children:new Date(h.timestamp).toLocaleString()})]},m))})}),e("div",{class:"border-t border-gray-700 p-3",children:e("div",{class:"text-xs text-gray-500 text-center",children:["Shows last ",a.length>0?a.length:5," API failures • Press F12 → Console for detailed logs • Add ?debug=1 to URL to enable debug mode"]})})]})}):null}function Yd(){const[t,r]=g(!1),[a,s]=g(!1);return K(()=>{const n=new URLSearchParams(window.location.search).has("debug");if(s(n),n){const i=o=>{o.key==="D"&&o.shiftKey&&o.ctrlKey&&(o.preventDefault(),r(l=>!l))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)}},[]),{debugMode:a,isVisible:t,show:()=>r(!0),hide:()=>r(!1),toggle:()=>r(n=>!n)}}function Jd(){const[t,r]=g(""),[a,s]=g(!1),[n,i]=g(""),[o,l]=g(!1);return K(()=>{const d=new URLSearchParams(window.location.search).get("error");if(d){switch(d){case"oauth_failed":i("GitHub authentication failed. Please try again.");break;case"csrf_failed":i("Security check failed. Please try again.");break;case"invalid_state":i("Invalid authentication state. Please try again.");break;case"token_exchange_failed":i("Failed to exchange authorization code. Please try again.");break;case"user_fetch_failed":i("Failed to fetch user information from GitHub.");break;case"auth_failed":i("Authentication failed. Please contact your administrator.");break;case"session_failed":i("Failed to create session. Please try again.");break;default:i("Authentication failed. Please try again.")}const u=window.location.pathname;window.history.replaceState({},"",u)}},[]),e("div",{class:"min-h-screen flex items-center justify-center bg-gray-900",children:e("div",{class:"max-w-md w-full space-y-8 p-8",children:[e("div",{children:[e("h1",{class:"text-3xl font-bold text-center text-white mb-2",children:"GLINR Dock"}),e("h2",{class:"text-xl text-center text-gray-400",children:"Sign in to continue"})]}),e("div",{class:"mt-8 space-y-6",children:[e("div",{class:"space-y-4",children:[e("button",{onClick:()=>{l(!0),i(""),window.location.href="/v1/auth/github/login"},disabled:o||a,class:"btn btn-secondary w-full flex justify-center items-center border border-gray-600 bg-gray-800 hover:bg-gray-700 text-white",children:o?e(ae,{children:[e("div",{class:"spinner w-4 h-4"}),e("span",{class:"ml-2",children:"Redirecting to GitHub..."})]}):e(ae,{children:[e("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e("path",{"fill-rule":"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z","clip-rule":"evenodd"})}),"Sign in with GitHub"]})}),e("div",{class:"relative",children:[e("div",{class:"absolute inset-0 flex items-center",children:e("div",{class:"w-full border-t border-gray-600"})}),e("div",{class:"relative flex justify-center text-sm",children:e("span",{class:"px-2 bg-gray-900 text-gray-400",children:"Or continue with"})})]})]}),e("form",{onSubmit:async m=>{if(m.preventDefault(),!t.trim()){i("Please enter a token");return}s(!0),i("");try{(await fetch("/v1/health",{headers:{Authorization:`Bearer ${t}`}})).ok?(localStorage.setItem("glinrdock_token",t),window.location.reload()):i("Invalid token")}catch{i("Failed to connect to server")}finally{s(!1)}},class:"space-y-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-300 mb-2",children:"API Token"}),e("input",{type:"password",value:t,onInput:m=>r(m.target.value),placeholder:"Enter your API token",class:"input",disabled:a||o,required:!0}),e("p",{class:"text-xs text-gray-400 mt-2",children:"Use your API token to access the GLINR Dock dashboard"})]}),n&&e("p",{class:"text-sm text-red-400 text-center",children:n}),e("button",{type:"submit",disabled:a||o||!t.trim(),class:"btn btn-primary w-full flex justify-center items-center",children:a?e(ae,{children:[e("div",{class:"spinner w-4 h-4"}),e("span",{class:"ml-2",children:"Signing in..."})]}):e(ae,{children:[e("span",{class:"mr-2",children:"🔑"}),"Sign in"]})})]})]}),e("div",{class:"text-center",children:e("p",{class:"text-xs text-gray-500",children:"Need help? Contact your administrator for an API token"})})]})})}dr.preloadCommonIcons();function Zd(){const[t,r]=g(!1);K(()=>{const L=localStorage.getItem("glinrdock_token");L?($.setToken(L),setTimeout(()=>r(!0),50)):window.location.href="/login"},[]);const a=()=>{const L=window.location.pathname;if(L==="/app"||L==="/app/")return"dashboard";const w=L.split("/").filter(Boolean);if(w.length>1){if(w[1]==="services"&&w.length>2){const k=w[2];if(w.length>3){const R=w[3];return{page:"service-detail",serviceId:k,tab:R}}return{page:"service-detail",serviceId:k,tab:"overview"}}return w[1]==="quickstart"&&w.length>2&&w[2]==="spring"?"quickstart-spring":w[1]==="settings"&&w.length>2&&w[2]==="integrations"?"settings-integrations":w[1]}return"dashboard"},[s,n]=g(a()),i=typeof s=="string"?s:s.page,[o,l]=g(()=>{if(typeof window<"u"){const L=localStorage.getItem("sidebar-open");return L!==null?JSON.parse(L):window.innerWidth>=768}return!1}),[c,h]=g(!1);K(()=>{localStorage.setItem("sidebar-open",JSON.stringify(o))},[o]);const{data:m,refetch:d}=be(()=>t?$.getSystemInfo():Promise.resolve(null),[t]),{refetch:u}=be(()=>t?$.getSystemPlan():Promise.resolve(null),[t]),{refetch:p}=be(()=>t?$.getAuthInfo():Promise.resolve(null),[t]),x=Yd(),{data:y,refetch:b}=be(()=>t?$.getProjects():Promise.resolve([]),[t]),[O,_]=g({projects:0,services:0,routes:0});K(()=>{y&&(_(L=>({...L,projects:y.length})),Promise.all(y.map(L=>$.getProjectServices(L.id).catch(()=>[]))).then(L=>{const w=L.flat().length;_(k=>({...k,services:w}))}),$.getAllRoutes().then(L=>{_(w=>({...w,routes:(L==null?void 0:L.length)||0}))}).catch(()=>{_(L=>({...L,routes:0}))}))},[y]),K(()=>{const L=R=>{h(R.detail.isLocked)},w=()=>{n(a())},k=()=>{p(),d(),u(),b()};return window.addEventListener("lockdown-status-changed",L),window.addEventListener("popstate",w),window.addEventListener("role-changed",k),$.getLockdownStatus().then(R=>{h(R.is_locked)}).catch(()=>{h(!1)}),()=>{window.removeEventListener("lockdown-status-changed",L),window.removeEventListener("popstate",w),window.removeEventListener("role-changed",k)}},[p,d,u,b]);const I=(L,w,k)=>{let R,P;L==="service-detail"&&w?(R={page:L,serviceId:w,tab:k},k&&k!=="overview"?P=`/app/services/${w}/${k}`:P=`/app/services/${w}`):(R=L,P=L==="dashboard"?"/app":`/app/${L}`),n(R),window.innerWidth<768&&l(!1),window.history.pushState({},"",P)},B=()=>e(Fd,{});return t?e(Ud,{children:e("div",{class:"min-h-screen bg-gray-100 dark:bg-gray-950 text-gray-900 dark:text-white fade-in",children:[e(Kd,{}),e(Wd,{}),e("div",{class:`flex min-h-screen ${c?"pt-24":""}`,children:[e(Cl,{currentPage:i,onPageChange:I,counts:O,isOpen:o,onToggle:()=>l(!o)}),e("div",{class:`
        flex flex-col flex-1 min-h-screen
        transition-all duration-300 ease-in-out 
        bg-gray-50 dark:bg-gray-950
        ${o?"ml-56":"md:ml-16"}
      `,children:[e("div",{class:"lg:hidden bg-white/90 dark:bg-gray-850/90 backdrop-blur-xl border-b border-gray-200/30 dark:border-gray-700/30 px-4 py-3 flex items-center justify-between shadow-lg",children:[e("div",{class:"flex items-center space-x-3",children:[e("div",{class:"w-9 h-9 bg-gradient-to-br from-[#ffaa40] via-[#9c40ff] to-[#8b008b] rounded-xl flex items-center justify-center shadow-lg relative overflow-hidden",children:[e("div",{class:"relative z-10",children:e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e("div",{class:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"})]}),e("div",{children:[e("div",{class:"flex items-center gap-2",children:[e("h1",{class:"text-gray-900 dark:text-white font-bold text-base",children:"GLINRDOCK"}),(m==null?void 0:m.go_version)&&e("span",{class:"text-xs font-mono text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded",children:["v",m.go_version.replace(/^go/,"")]})]}),e("p",{class:"text-gray-600 dark:text-gray-400 text-xs font-medium",children:"Platform as a Service"})]})]}),e("button",{onClick:()=>l(!o),class:"p-2.5 rounded-lg bg-gray-200/50 dark:bg-gray-700/50 hover:bg-gray-300/50 dark:hover:bg-gray-600/50 border border-gray-300/30 dark:border-gray-600/30 hover:border-gray-400/50 dark:hover:border-gray-500/50 transition-all duration-200",children:e(tl,{class:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),e("div",{class:"hidden lg:block",children:e(yl,{})}),e("main",{class:"flex-1 overflow-auto bg-gray-50 dark:bg-gray-950 p-8",children:e("div",{class:"w-full max-w-none",children:B()})})]})]}),e(Qd,{isVisible:x.isVisible,onClose:x.hide})]})}):e("div",{class:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-950 fade-in",children:e("div",{class:"text-center",children:[e("div",{class:"w-16 h-16 border-4 border-[#9c40ff] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e("p",{class:"text-gray-600 dark:text-gray-400",children:"Initializing..."})]})})}function Xd(){const t=localStorage.getItem("glinrdock_token");return K(()=>{Xs(),en()},[]),t?e(Zd,{}):e(Jd,{})}Ot(e(Xd,{}),document.getElementById("app"));
